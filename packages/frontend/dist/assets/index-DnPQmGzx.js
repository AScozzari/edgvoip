function E0(s,r){for(var i=0;i<r.length;i++){const o=r[i];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in s)){const d=Object.getOwnPropertyDescriptor(o,c);d&&Object.defineProperty(s,c,d.get?d:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function _d(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Mc={exports:{}},Ra={},Dc={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function T0(){if(rh)return ze;rh=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function w($){return $===null||typeof $!="object"?null:($=x&&$[x]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function j($,se,_e){this.props=$,this.context=se,this.refs=N,this.updater=_e||T}j.prototype.isReactComponent={},j.prototype.setState=function($,se){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,se,"setState")},j.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function _(){}_.prototype=j.prototype;function C($,se,_e){this.props=$,this.context=se,this.refs=N,this.updater=_e||T}var I=C.prototype=new _;I.constructor=C,E(I,j.prototype),I.isPureReactComponent=!0;var k=Array.isArray,W=Object.prototype.hasOwnProperty,F={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function M($,se,_e){var Y,oe={},ke=null,X=null;if(se!=null)for(Y in se.ref!==void 0&&(X=se.ref),se.key!==void 0&&(ke=""+se.key),se)W.call(se,Y)&&!L.hasOwnProperty(Y)&&(oe[Y]=se[Y]);var ne=arguments.length-2;if(ne===1)oe.children=_e;else if(1<ne){for(var je=Array(ne),pe=0;pe<ne;pe++)je[pe]=arguments[pe+2];oe.children=je}if($&&$.defaultProps)for(Y in ne=$.defaultProps,ne)oe[Y]===void 0&&(oe[Y]=ne[Y]);return{$$typeof:s,type:$,key:ke,ref:X,props:oe,_owner:F.current}}function z($,se){return{$$typeof:s,type:$.type,key:se,ref:$.ref,props:$.props,_owner:$._owner}}function K($){return typeof $=="object"&&$!==null&&$.$$typeof===s}function O($){var se={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(_e){return se[_e]})}var V=/\/+/g;function R($,se){return typeof $=="object"&&$!==null&&$.key!=null?O(""+$.key):se.toString(36)}function S($,se,_e,Y,oe){var ke=typeof $;(ke==="undefined"||ke==="boolean")&&($=null);var X=!1;if($===null)X=!0;else switch(ke){case"string":case"number":X=!0;break;case"object":switch($.$$typeof){case s:case r:X=!0}}if(X)return X=$,oe=oe(X),$=Y===""?"."+R(X,0):Y,k(oe)?(_e="",$!=null&&(_e=$.replace(V,"$&/")+"/"),S(oe,se,_e,"",function(pe){return pe})):oe!=null&&(K(oe)&&(oe=z(oe,_e+(!oe.key||X&&X.key===oe.key?"":(""+oe.key).replace(V,"$&/")+"/")+$)),se.push(oe)),1;if(X=0,Y=Y===""?".":Y+":",k($))for(var ne=0;ne<$.length;ne++){ke=$[ne];var je=Y+R(ke,ne);X+=S(ke,se,_e,je,oe)}else if(je=w($),typeof je=="function")for($=je.call($),ne=0;!(ke=$.next()).done;)ke=ke.value,je=Y+R(ke,ne++),X+=S(ke,se,_e,je,oe);else if(ke==="object")throw se=String($),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return X}function ee($,se,_e){if($==null)return $;var Y=[],oe=0;return S($,Y,"","",function(ke){return se.call(_e,ke,oe++)}),Y}function re($){if($._status===-1){var se=$._result;se=se(),se.then(function(_e){($._status===0||$._status===-1)&&($._status=1,$._result=_e)},function(_e){($._status===0||$._status===-1)&&($._status=2,$._result=_e)}),$._status===-1&&($._status=0,$._result=se)}if($._status===1)return $._result.default;throw $._result}var fe={current:null},A={transition:null},J={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:A,ReactCurrentOwner:F};function ce(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:ee,forEach:function($,se,_e){ee($,function(){se.apply(this,arguments)},_e)},count:function($){var se=0;return ee($,function(){se++}),se},toArray:function($){return ee($,function(se){return se})||[]},only:function($){if(!K($))throw Error("React.Children.only expected to receive a single React element child.");return $}},ze.Component=j,ze.Fragment=i,ze.Profiler=c,ze.PureComponent=C,ze.StrictMode=o,ze.Suspense=g,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,ze.act=ce,ze.cloneElement=function($,se,_e){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Y=E({},$.props),oe=$.key,ke=$.ref,X=$._owner;if(se!=null){if(se.ref!==void 0&&(ke=se.ref,X=F.current),se.key!==void 0&&(oe=""+se.key),$.type&&$.type.defaultProps)var ne=$.type.defaultProps;for(je in se)W.call(se,je)&&!L.hasOwnProperty(je)&&(Y[je]=se[je]===void 0&&ne!==void 0?ne[je]:se[je])}var je=arguments.length-2;if(je===1)Y.children=_e;else if(1<je){ne=Array(je);for(var pe=0;pe<je;pe++)ne[pe]=arguments[pe+2];Y.children=ne}return{$$typeof:s,type:$.type,key:oe,ref:ke,props:Y,_owner:X}},ze.createContext=function($){return $={$$typeof:m,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:d,_context:$},$.Consumer=$},ze.createElement=M,ze.createFactory=function($){var se=M.bind(null,$);return se.type=$,se},ze.createRef=function(){return{current:null}},ze.forwardRef=function($){return{$$typeof:h,render:$}},ze.isValidElement=K,ze.lazy=function($){return{$$typeof:y,_payload:{_status:-1,_result:$},_init:re}},ze.memo=function($,se){return{$$typeof:v,type:$,compare:se===void 0?null:se}},ze.startTransition=function($){var se=A.transition;A.transition={};try{$()}finally{A.transition=se}},ze.unstable_act=ce,ze.useCallback=function($,se){return fe.current.useCallback($,se)},ze.useContext=function($){return fe.current.useContext($)},ze.useDebugValue=function(){},ze.useDeferredValue=function($){return fe.current.useDeferredValue($)},ze.useEffect=function($,se){return fe.current.useEffect($,se)},ze.useId=function(){return fe.current.useId()},ze.useImperativeHandle=function($,se,_e){return fe.current.useImperativeHandle($,se,_e)},ze.useInsertionEffect=function($,se){return fe.current.useInsertionEffect($,se)},ze.useLayoutEffect=function($,se){return fe.current.useLayoutEffect($,se)},ze.useMemo=function($,se){return fe.current.useMemo($,se)},ze.useReducer=function($,se,_e){return fe.current.useReducer($,se,_e)},ze.useRef=function($){return fe.current.useRef($)},ze.useState=function($){return fe.current.useState($)},ze.useSyncExternalStore=function($,se,_e){return fe.current.useSyncExternalStore($,se,_e)},ze.useTransition=function(){return fe.current.useTransition()},ze.version="18.3.1",ze}var ah;function kd(){return ah||(ah=1,Dc.exports=T0()),Dc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih;function R0(){if(ih)return Ra;ih=1;var s=kd(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function m(h,g,v){var y,x={},w=null,T=null;v!==void 0&&(w=""+v),g.key!==void 0&&(w=""+g.key),g.ref!==void 0&&(T=g.ref);for(y in g)o.call(g,y)&&!d.hasOwnProperty(y)&&(x[y]=g[y]);if(h&&h.defaultProps)for(y in g=h.defaultProps,g)x[y]===void 0&&(x[y]=g[y]);return{$$typeof:r,type:h,key:w,ref:T,props:x,_owner:c.current}}return Ra.Fragment=i,Ra.jsx=m,Ra.jsxs=m,Ra}var lh;function P0(){return lh||(lh=1,Mc.exports=R0()),Mc.exports}var e=P0(),f=kd();const dn=_d(f),Ed=E0({__proto__:null,default:dn},[f]);var el={},Oc={exports:{}},zt={},zc={exports:{}},Fc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh;function I0(){return oh||(oh=1,(function(s){function r(A,J){var ce=A.length;A.push(J);e:for(;0<ce;){var $=ce-1>>>1,se=A[$];if(0<c(se,J))A[$]=J,A[ce]=se,ce=$;else break e}}function i(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var J=A[0],ce=A.pop();if(ce!==J){A[0]=ce;e:for(var $=0,se=A.length,_e=se>>>1;$<_e;){var Y=2*($+1)-1,oe=A[Y],ke=Y+1,X=A[ke];if(0>c(oe,ce))ke<se&&0>c(X,oe)?(A[$]=X,A[ke]=ce,$=ke):(A[$]=oe,A[Y]=ce,$=Y);else if(ke<se&&0>c(X,ce))A[$]=X,A[ke]=ce,$=ke;else break e}}return J}function c(A,J){var ce=A.sortIndex-J.sortIndex;return ce!==0?ce:A.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();s.unstable_now=function(){return m.now()-h}}var g=[],v=[],y=1,x=null,w=3,T=!1,E=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(A){for(var J=i(v);J!==null;){if(J.callback===null)o(v);else if(J.startTime<=A)o(v),J.sortIndex=J.expirationTime,r(g,J);else break;J=i(v)}}function k(A){if(N=!1,I(A),!E)if(i(g)!==null)E=!0,re(W);else{var J=i(v);J!==null&&fe(k,J.startTime-A)}}function W(A,J){E=!1,N&&(N=!1,_(M),M=-1),T=!0;var ce=w;try{for(I(J),x=i(g);x!==null&&(!(x.expirationTime>J)||A&&!O());){var $=x.callback;if(typeof $=="function"){x.callback=null,w=x.priorityLevel;var se=$(x.expirationTime<=J);J=s.unstable_now(),typeof se=="function"?x.callback=se:x===i(g)&&o(g),I(J)}else o(g);x=i(g)}if(x!==null)var _e=!0;else{var Y=i(v);Y!==null&&fe(k,Y.startTime-J),_e=!1}return _e}finally{x=null,w=ce,T=!1}}var F=!1,L=null,M=-1,z=5,K=-1;function O(){return!(s.unstable_now()-K<z)}function V(){if(L!==null){var A=s.unstable_now();K=A;var J=!0;try{J=L(!0,A)}finally{J?R():(F=!1,L=null)}}else F=!1}var R;if(typeof C=="function")R=function(){C(V)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,ee=S.port2;S.port1.onmessage=V,R=function(){ee.postMessage(null)}}else R=function(){j(V,0)};function re(A){L=A,F||(F=!0,R())}function fe(A,J){M=j(function(){A(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(A){A.callback=null},s.unstable_continueExecution=function(){E||T||(E=!0,re(W))},s.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<A?Math.floor(1e3/A):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return i(g)},s.unstable_next=function(A){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var ce=w;w=J;try{return A()}finally{w=ce}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(A,J){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var ce=w;w=A;try{return J()}finally{w=ce}},s.unstable_scheduleCallback=function(A,J,ce){var $=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?$+ce:$):ce=$,A){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ce+se,A={id:y++,callback:J,priorityLevel:A,startTime:ce,expirationTime:se,sortIndex:-1},ce>$?(A.sortIndex=ce,r(v,A),i(g)===null&&A===i(v)&&(N?(_(M),M=-1):N=!0,fe(k,ce-$))):(A.sortIndex=se,r(g,A),E||T||(E=!0,re(W))),A},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(A){var J=w;return function(){var ce=w;w=J;try{return A.apply(this,arguments)}finally{w=ce}}}})(Fc)),Fc}var ch;function A0(){return ch||(ch=1,zc.exports=I0()),zc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh;function L0(){if(dh)return zt;dh=1;var s=kd(),r=A0();function i(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function d(t,n){m(t,n),m(t+"Capture",n)}function m(t,n){for(c[t]=n,t=0;t<n.length;t++)o.add(n[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function w(t){return g.call(x,t)?!0:g.call(y,t)?!1:v.test(t)?x[t]=!0:(y[t]=!0,!1)}function T(t,n,a,l){if(a!==null&&a.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E(t,n,a,l){if(n===null||typeof n>"u"||T(t,n,a,l))return!0;if(l)return!1;if(a!==null)switch(a.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function N(t,n,a,l,u,p,b){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=a,this.propertyName=t,this.type=n,this.sanitizeURL=p,this.removeEmptyString=b}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){j[t]=new N(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];j[n]=new N(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){j[t]=new N(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){j[t]=new N(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){j[t]=new N(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){j[t]=new N(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){j[t]=new N(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){j[t]=new N(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){j[t]=new N(t,5,!1,t.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function C(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(_,C);j[n]=new N(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(_,C);j[n]=new N(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(_,C);j[n]=new N(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){j[t]=new N(t,1,!1,t.toLowerCase(),null,!1,!1)}),j.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){j[t]=new N(t,1,!1,t.toLowerCase(),null,!0,!0)});function I(t,n,a,l){var u=j.hasOwnProperty(n)?j[n]:null;(u!==null?u.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(E(n,a,u,l)&&(a=null),l||u===null?w(n)&&(a===null?t.removeAttribute(n):t.setAttribute(n,""+a)):u.mustUseProperty?t[u.propertyName]=a===null?u.type===3?!1:"":a:(n=u.attributeName,l=u.attributeNamespace,a===null?t.removeAttribute(n):(u=u.type,a=u===3||u===4&&a===!0?"":""+a,l?t.setAttributeNS(l,n,a):t.setAttribute(n,a))))}var k=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),F=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),O=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),A=Symbol.iterator;function J(t){return t===null||typeof t!="object"?null:(t=A&&t[A]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Object.assign,$;function se(t){if($===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);$=n&&n[1]||""}return`
`+$+t}var _e=!1;function Y(t,n){if(!t||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(G){var l=G}Reflect.construct(t,[],n)}else{try{n.call()}catch(G){l=G}t.call(n.prototype)}else{try{throw Error()}catch(G){l=G}t()}}catch(G){if(G&&l&&typeof G.stack=="string"){for(var u=G.stack.split(`
`),p=l.stack.split(`
`),b=u.length-1,P=p.length-1;1<=b&&0<=P&&u[b]!==p[P];)P--;for(;1<=b&&0<=P;b--,P--)if(u[b]!==p[P]){if(b!==1||P!==1)do if(b--,P--,0>P||u[b]!==p[P]){var D=`
`+u[b].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=b&&0<=P);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?se(t):""}function oe(t){switch(t.tag){case 5:return se(t.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return t=Y(t.type,!1),t;case 11:return t=Y(t.type.render,!1),t;case 1:return t=Y(t.type,!0),t;default:return""}}function ke(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case F:return"Portal";case z:return"Profiler";case M:return"StrictMode";case R:return"Suspense";case S:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O:return(t.displayName||"Context")+".Consumer";case K:return(t._context.displayName||"Context")+".Provider";case V:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ee:return n=t.displayName||null,n!==null?n:ke(t.type)||"Memo";case re:n=t._payload,t=t._init;try{return ke(t(n))}catch{}}return null}function X(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(n);case 8:return n===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ne(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pe(t){var n=je(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,p=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Pe(t){t._valueTracker||(t._valueTracker=pe(t))}function Ie(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=je(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function mt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function en(t,n){var a=n.checked;return ce({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Ks(t,n){var a=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;a=ne(n.value!=null?n.value:a),t._wrapperState={initialChecked:l,initialValue:a,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Qs(t,n){n=n.checked,n!=null&&I(t,"checked",n,!1)}function bs(t,n){Qs(t,n);var a=ne(n.value),l=n.type;if(a!=null)l==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Bl(t,n.type,a):n.hasOwnProperty("defaultValue")&&Bl(t,n.type,ne(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function mu(t,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,a||n===t.value||(t.value=n),t.defaultValue=n}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function Bl(t,n,a){(n!=="number"||mt(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var Hr=Array.isArray;function Js(t,n,a,l){if(t=t.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=n.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ne(a),n=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function Wl(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return ce({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fu(t,n){var a=n.value;if(a==null){if(a=n.children,n=n.defaultValue,a!=null){if(n!=null)throw Error(i(92));if(Hr(a)){if(1<a.length)throw Error(i(93));a=a[0]}n=a}n==null&&(n=""),a=n}t._wrapperState={initialValue:ne(a)}}function hu(t,n){var a=ne(n.value),l=ne(n.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),n.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),l!=null&&(t.defaultValue=""+l)}function pu(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function xu(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hl(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?xu(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qa,gu=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,a,l,u){MSApp.execUnsafeLocalFunction(function(){return t(n,a,l,u)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(qa=qa||document.createElement("div"),qa.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=qa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function qr(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Iv=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(t){Iv.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Gr[n]=Gr[t]})});function vu(t,n,a){return n==null||typeof n=="boolean"||n===""?"":a||typeof n!="number"||n===0||Gr.hasOwnProperty(t)&&Gr[t]?(""+n).trim():n+"px"}function yu(t,n){t=t.style;for(var a in n)if(n.hasOwnProperty(a)){var l=a.indexOf("--")===0,u=vu(a,n[a],l);a==="float"&&(a="cssFloat"),l?t.setProperty(a,u):t[a]=u}}var Av=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ql(t,n){if(n){if(Av[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function Gl(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kl=null;function Ql(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jl=null,Xs=null,Ys=null;function ju(t){if(t=pa(t)){if(typeof Jl!="function")throw Error(i(280));var n=t.stateNode;n&&(n=pi(n),Jl(t.stateNode,t.type,n))}}function wu(t){Xs?Ys?Ys.push(t):Ys=[t]:Xs=t}function Nu(){if(Xs){var t=Xs,n=Ys;if(Ys=Xs=null,ju(t),n)for(t=0;t<n.length;t++)ju(n[t])}}function bu(t,n){return t(n)}function Su(){}var Xl=!1;function Cu(t,n,a){if(Xl)return t(n,a);Xl=!0;try{return bu(t,n,a)}finally{Xl=!1,(Xs!==null||Ys!==null)&&(Su(),Nu())}}function Kr(t,n){var a=t.stateNode;if(a===null)return null;var l=pi(a);if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,n,typeof a));return a}var Yl=!1;if(h)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{Yl=!1}function Lv(t,n,a,l,u,p,b,P,D){var G=Array.prototype.slice.call(arguments,3);try{n.apply(a,G)}catch(ie){this.onError(ie)}}var Jr=!1,Ga=null,Ka=!1,Zl=null,Mv={onError:function(t){Jr=!0,Ga=t}};function Dv(t,n,a,l,u,p,b,P,D){Jr=!1,Ga=null,Lv.apply(Mv,arguments)}function Ov(t,n,a,l,u,p,b,P,D){if(Dv.apply(this,arguments),Jr){if(Jr){var G=Ga;Jr=!1,Ga=null}else throw Error(i(198));Ka||(Ka=!0,Zl=G)}}function Ss(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function _u(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function ku(t){if(Ss(t)!==t)throw Error(i(188))}function zv(t){var n=t.alternate;if(!n){if(n=Ss(t),n===null)throw Error(i(188));return n!==t?null:t}for(var a=t,l=n;;){var u=a.return;if(u===null)break;var p=u.alternate;if(p===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===p.child){for(p=u.child;p;){if(p===a)return ku(u),t;if(p===l)return ku(u),n;p=p.sibling}throw Error(i(188))}if(a.return!==l.return)a=u,l=p;else{for(var b=!1,P=u.child;P;){if(P===a){b=!0,a=u,l=p;break}if(P===l){b=!0,l=u,a=p;break}P=P.sibling}if(!b){for(P=p.child;P;){if(P===a){b=!0,a=p,l=u;break}if(P===l){b=!0,l=p,a=u;break}P=P.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:n}function Eu(t){return t=zv(t),t!==null?Tu(t):null}function Tu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Tu(t);if(n!==null)return n;t=t.sibling}return null}var Ru=r.unstable_scheduleCallback,Pu=r.unstable_cancelCallback,Fv=r.unstable_shouldYield,$v=r.unstable_requestPaint,ct=r.unstable_now,Uv=r.unstable_getCurrentPriorityLevel,eo=r.unstable_ImmediatePriority,Iu=r.unstable_UserBlockingPriority,Qa=r.unstable_NormalPriority,Vv=r.unstable_LowPriority,Au=r.unstable_IdlePriority,Ja=null,pn=null;function Bv(t){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Ja,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:qv,Wv=Math.log,Hv=Math.LN2;function qv(t){return t>>>=0,t===0?32:31-(Wv(t)/Hv|0)|0}var Xa=64,Ya=4194304;function Xr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Za(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,u=t.suspendedLanes,p=t.pingedLanes,b=a&268435455;if(b!==0){var P=b&~u;P!==0?l=Xr(P):(p&=b,p!==0&&(l=Xr(p)))}else b=a&~u,b!==0?l=Xr(b):p!==0&&(l=Xr(p));if(l===0)return 0;if(n!==0&&n!==l&&(n&u)===0&&(u=l&-l,p=n&-n,u>=p||u===16&&(p&4194240)!==0))return n;if((l&4)!==0&&(l|=a&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=l;0<n;)a=31-tn(n),u=1<<a,l|=t[a],n&=~u;return l}function Gv(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kv(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,p=t.pendingLanes;0<p;){var b=31-tn(p),P=1<<b,D=u[b];D===-1?((P&a)===0||(P&l)!==0)&&(u[b]=Gv(P,n)):D<=n&&(t.expiredLanes|=P),p&=~P}}function to(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lu(){var t=Xa;return Xa<<=1,(Xa&4194240)===0&&(Xa=64),t}function no(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Yr(t,n,a){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-tn(n),t[n]=a}function Qv(t,n){var a=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<a;){var u=31-tn(a),p=1<<u;n[u]=0,l[u]=-1,t[u]=-1,a&=~p}}function so(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-tn(a),u=1<<l;u&n|t[l]&n&&(t[l]|=n),a&=~u}}var Je=0;function Mu(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Du,ro,Ou,zu,Fu,ao=!1,ei=[],$n=null,Un=null,Vn=null,Zr=new Map,ea=new Map,Bn=[],Jv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $u(t,n){switch(t){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":Zr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ea.delete(n.pointerId)}}function ta(t,n,a,l,u,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[u]},n!==null&&(n=pa(n),n!==null&&ro(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function Xv(t,n,a,l,u){switch(n){case"focusin":return $n=ta($n,t,n,a,l,u),!0;case"dragenter":return Un=ta(Un,t,n,a,l,u),!0;case"mouseover":return Vn=ta(Vn,t,n,a,l,u),!0;case"pointerover":var p=u.pointerId;return Zr.set(p,ta(Zr.get(p)||null,t,n,a,l,u)),!0;case"gotpointercapture":return p=u.pointerId,ea.set(p,ta(ea.get(p)||null,t,n,a,l,u)),!0}return!1}function Uu(t){var n=Cs(t.target);if(n!==null){var a=Ss(n);if(a!==null){if(n=a.tag,n===13){if(n=_u(a),n!==null){t.blockedOn=n,Fu(t.priority,function(){Ou(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ti(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=lo(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Kl=l,a.target.dispatchEvent(l),Kl=null}else return n=pa(a),n!==null&&ro(n),t.blockedOn=a,!1;n.shift()}return!0}function Vu(t,n,a){ti(t)&&a.delete(n)}function Yv(){ao=!1,$n!==null&&ti($n)&&($n=null),Un!==null&&ti(Un)&&(Un=null),Vn!==null&&ti(Vn)&&(Vn=null),Zr.forEach(Vu),ea.forEach(Vu)}function na(t,n){t.blockedOn===n&&(t.blockedOn=null,ao||(ao=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Yv)))}function sa(t){function n(u){return na(u,t)}if(0<ei.length){na(ei[0],t);for(var a=1;a<ei.length;a++){var l=ei[a];l.blockedOn===t&&(l.blockedOn=null)}}for($n!==null&&na($n,t),Un!==null&&na(Un,t),Vn!==null&&na(Vn,t),Zr.forEach(n),ea.forEach(n),a=0;a<Bn.length;a++)l=Bn[a],l.blockedOn===t&&(l.blockedOn=null);for(;0<Bn.length&&(a=Bn[0],a.blockedOn===null);)Uu(a),a.blockedOn===null&&Bn.shift()}var Zs=k.ReactCurrentBatchConfig,ni=!0;function Zv(t,n,a,l){var u=Je,p=Zs.transition;Zs.transition=null;try{Je=1,io(t,n,a,l)}finally{Je=u,Zs.transition=p}}function ey(t,n,a,l){var u=Je,p=Zs.transition;Zs.transition=null;try{Je=4,io(t,n,a,l)}finally{Je=u,Zs.transition=p}}function io(t,n,a,l){if(ni){var u=lo(t,n,a,l);if(u===null)Co(t,n,l,si,a),$u(t,l);else if(Xv(u,t,n,a,l))l.stopPropagation();else if($u(t,l),n&4&&-1<Jv.indexOf(t)){for(;u!==null;){var p=pa(u);if(p!==null&&Du(p),p=lo(t,n,a,l),p===null&&Co(t,n,l,si,a),p===u)break;u=p}u!==null&&l.stopPropagation()}else Co(t,n,l,null,a)}}var si=null;function lo(t,n,a,l){if(si=null,t=Ql(l),t=Cs(t),t!==null)if(n=Ss(t),n===null)t=null;else if(a=n.tag,a===13){if(t=_u(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return si=t,null}function Bu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uv()){case eo:return 1;case Iu:return 4;case Qa:case Vv:return 16;case Au:return 536870912;default:return 16}default:return 16}}var Wn=null,oo=null,ri=null;function Wu(){if(ri)return ri;var t,n=oo,a=n.length,l,u="value"in Wn?Wn.value:Wn.textContent,p=u.length;for(t=0;t<a&&n[t]===u[t];t++);var b=a-t;for(l=1;l<=b&&n[a-l]===u[p-l];l++);return ri=u.slice(t,1<l?1-l:void 0)}function ai(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ii(){return!0}function Hu(){return!1}function Ft(t){function n(a,l,u,p,b){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var P in t)t.hasOwnProperty(P)&&(a=t[P],this[P]=a?a(p):p[P]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ii:Hu,this.isPropagationStopped=Hu,this}return ce(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),n}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=Ft(er),ra=ce({},er,{view:0,detail:0}),ty=Ft(ra),uo,mo,aa,li=ce({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==aa&&(aa&&t.type==="mousemove"?(uo=t.screenX-aa.screenX,mo=t.screenY-aa.screenY):mo=uo=0,aa=t),uo)},movementY:function(t){return"movementY"in t?t.movementY:mo}}),qu=Ft(li),ny=ce({},li,{dataTransfer:0}),sy=Ft(ny),ry=ce({},ra,{relatedTarget:0}),fo=Ft(ry),ay=ce({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),iy=Ft(ay),ly=ce({},er,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oy=Ft(ly),cy=ce({},er,{data:0}),Gu=Ft(cy),dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},my={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fy(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=my[t])?!!n[t]:!1}function ho(){return fy}var hy=ce({},ra,{key:function(t){if(t.key){var n=dy[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ai(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(t){return t.type==="keypress"?ai(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ai(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),py=Ft(hy),xy=ce({},li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ku=Ft(xy),gy=ce({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),vy=Ft(gy),yy=ce({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),jy=Ft(yy),wy=ce({},li,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ny=Ft(wy),by=[9,13,27,32],po=h&&"CompositionEvent"in window,ia=null;h&&"documentMode"in document&&(ia=document.documentMode);var Sy=h&&"TextEvent"in window&&!ia,Qu=h&&(!po||ia&&8<ia&&11>=ia),Ju=" ",Xu=!1;function Yu(t,n){switch(t){case"keyup":return by.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tr=!1;function Cy(t,n){switch(t){case"compositionend":return Zu(n);case"keypress":return n.which!==32?null:(Xu=!0,Ju);case"textInput":return t=n.data,t===Ju&&Xu?null:t;default:return null}}function _y(t,n){if(tr)return t==="compositionend"||!po&&Yu(t,n)?(t=Wu(),ri=oo=Wn=null,tr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Qu&&n.locale!=="ko"?null:n.data;default:return null}}var ky={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function em(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ky[t.type]:n==="textarea"}function tm(t,n,a,l){wu(l),n=mi(n,"onChange"),0<n.length&&(a=new co("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var la=null,oa=null;function Ey(t){ym(t,0)}function oi(t){var n=ir(t);if(Ie(n))return t}function Ty(t,n){if(t==="change")return n}var nm=!1;if(h){var xo;if(h){var go="oninput"in document;if(!go){var sm=document.createElement("div");sm.setAttribute("oninput","return;"),go=typeof sm.oninput=="function"}xo=go}else xo=!1;nm=xo&&(!document.documentMode||9<document.documentMode)}function rm(){la&&(la.detachEvent("onpropertychange",am),oa=la=null)}function am(t){if(t.propertyName==="value"&&oi(oa)){var n=[];tm(n,oa,t,Ql(t)),Cu(Ey,n)}}function Ry(t,n,a){t==="focusin"?(rm(),la=n,oa=a,la.attachEvent("onpropertychange",am)):t==="focusout"&&rm()}function Py(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oi(oa)}function Iy(t,n){if(t==="click")return oi(n)}function Ay(t,n){if(t==="input"||t==="change")return oi(n)}function Ly(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:Ly;function ca(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!g.call(n,u)||!nn(t[u],n[u]))return!1}return!0}function im(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lm(t,n){var a=im(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=im(a)}}function om(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?om(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function cm(){for(var t=window,n=mt();n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=mt(t.document)}return n}function vo(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function My(t){var n=cm(),a=t.focusedElem,l=t.selectionRange;if(n!==a&&a&&a.ownerDocument&&om(a.ownerDocument.documentElement,a)){if(l!==null&&vo(a)){if(n=l.start,t=l.end,t===void 0&&(t=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(t,a.value.length);else if(t=(n=a.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var u=a.textContent.length,p=Math.min(l.start,u);l=l.end===void 0?p:Math.min(l.end,u),!t.extend&&p>l&&(u=l,l=p,p=u),u=lm(a,p);var b=lm(a,l);u&&b&&(t.rangeCount!==1||t.anchorNode!==u.node||t.anchorOffset!==u.offset||t.focusNode!==b.node||t.focusOffset!==b.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),t.removeAllRanges(),p>l?(t.addRange(n),t.extend(b.node,b.offset)):(n.setEnd(b.node,b.offset),t.addRange(n)))}}for(n=[],t=a;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)t=n[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Dy=h&&"documentMode"in document&&11>=document.documentMode,nr=null,yo=null,da=null,jo=!1;function dm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jo||nr==null||nr!==mt(l)||(l=nr,"selectionStart"in l&&vo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),da&&ca(da,l)||(da=l,l=mi(yo,"onSelect"),0<l.length&&(n=new co("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=nr)))}function ci(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var sr={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},wo={},um={};h&&(um=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function di(t){if(wo[t])return wo[t];if(!sr[t])return t;var n=sr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in um)return wo[t]=n[a];return t}var mm=di("animationend"),fm=di("animationiteration"),hm=di("animationstart"),pm=di("transitionend"),xm=new Map,gm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(t,n){xm.set(t,n),d(n,[t])}for(var No=0;No<gm.length;No++){var bo=gm[No],Oy=bo.toLowerCase(),zy=bo[0].toUpperCase()+bo.slice(1);Hn(Oy,"on"+zy)}Hn(mm,"onAnimationEnd"),Hn(fm,"onAnimationIteration"),Hn(hm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(pm,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function vm(t,n,a){var l=t.type||"unknown-event";t.currentTarget=a,Ov(l,n,void 0,t),t.currentTarget=null}function ym(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],u=l.event;l=l.listeners;e:{var p=void 0;if(n)for(var b=l.length-1;0<=b;b--){var P=l[b],D=P.instance,G=P.currentTarget;if(P=P.listener,D!==p&&u.isPropagationStopped())break e;vm(u,P,G),p=D}else for(b=0;b<l.length;b++){if(P=l[b],D=P.instance,G=P.currentTarget,P=P.listener,D!==p&&u.isPropagationStopped())break e;vm(u,P,G),p=D}}}if(Ka)throw t=Zl,Ka=!1,Zl=null,t}function et(t,n){var a=n[Po];a===void 0&&(a=n[Po]=new Set);var l=t+"__bubble";a.has(l)||(jm(n,t,2,!1),a.add(l))}function So(t,n,a){var l=0;n&&(l|=4),jm(a,t,l,n)}var ui="_reactListening"+Math.random().toString(36).slice(2);function ma(t){if(!t[ui]){t[ui]=!0,o.forEach(function(a){a!=="selectionchange"&&(Fy.has(a)||So(a,!1,t),So(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ui]||(n[ui]=!0,So("selectionchange",!1,n))}}function jm(t,n,a,l){switch(Bu(n)){case 1:var u=Zv;break;case 4:u=ey;break;default:u=io}a=u.bind(null,n,a,t),u=void 0,!Yl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,a,{capture:!0,passive:u}):t.addEventListener(n,a,!0):u!==void 0?t.addEventListener(n,a,{passive:u}):t.addEventListener(n,a,!1)}function Co(t,n,a,l,u){var p=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var P=l.stateNode.containerInfo;if(P===u||P.nodeType===8&&P.parentNode===u)break;if(b===4)for(b=l.return;b!==null;){var D=b.tag;if((D===3||D===4)&&(D=b.stateNode.containerInfo,D===u||D.nodeType===8&&D.parentNode===u))return;b=b.return}for(;P!==null;){if(b=Cs(P),b===null)return;if(D=b.tag,D===5||D===6){l=p=b;continue e}P=P.parentNode}}l=l.return}Cu(function(){var G=p,ie=Ql(a),le=[];e:{var ae=xm.get(t);if(ae!==void 0){var we=co,be=t;switch(t){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":we=py;break;case"focusin":be="focus",we=fo;break;case"focusout":be="blur",we=fo;break;case"beforeblur":case"afterblur":we=fo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=sy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=vy;break;case mm:case fm:case hm:we=iy;break;case pm:we=jy;break;case"scroll":we=ty;break;case"wheel":we=Ny;break;case"copy":case"cut":case"paste":we=oy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Ku}var Se=(n&4)!==0,dt=!Se&&t==="scroll",H=Se?ae!==null?ae+"Capture":null:ae;Se=[];for(var U=G,q;U!==null;){q=U;var ue=q.stateNode;if(q.tag===5&&ue!==null&&(q=ue,H!==null&&(ue=Kr(U,H),ue!=null&&Se.push(fa(U,ue,q)))),dt)break;U=U.return}0<Se.length&&(ae=new we(ae,be,null,a,ie),le.push({event:ae,listeners:Se}))}}if((n&7)===0){e:{if(ae=t==="mouseover"||t==="pointerover",we=t==="mouseout"||t==="pointerout",ae&&a!==Kl&&(be=a.relatedTarget||a.fromElement)&&(Cs(be)||be[_n]))break e;if((we||ae)&&(ae=ie.window===ie?ie:(ae=ie.ownerDocument)?ae.defaultView||ae.parentWindow:window,we?(be=a.relatedTarget||a.toElement,we=G,be=be?Cs(be):null,be!==null&&(dt=Ss(be),be!==dt||be.tag!==5&&be.tag!==6)&&(be=null)):(we=null,be=G),we!==be)){if(Se=qu,ue="onMouseLeave",H="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Ku,ue="onPointerLeave",H="onPointerEnter",U="pointer"),dt=we==null?ae:ir(we),q=be==null?ae:ir(be),ae=new Se(ue,U+"leave",we,a,ie),ae.target=dt,ae.relatedTarget=q,ue=null,Cs(ie)===G&&(Se=new Se(H,U+"enter",be,a,ie),Se.target=q,Se.relatedTarget=dt,ue=Se),dt=ue,we&&be)t:{for(Se=we,H=be,U=0,q=Se;q;q=rr(q))U++;for(q=0,ue=H;ue;ue=rr(ue))q++;for(;0<U-q;)Se=rr(Se),U--;for(;0<q-U;)H=rr(H),q--;for(;U--;){if(Se===H||H!==null&&Se===H.alternate)break t;Se=rr(Se),H=rr(H)}Se=null}else Se=null;we!==null&&wm(le,ae,we,Se,!1),be!==null&&dt!==null&&wm(le,dt,be,Se,!0)}}e:{if(ae=G?ir(G):window,we=ae.nodeName&&ae.nodeName.toLowerCase(),we==="select"||we==="input"&&ae.type==="file")var Ce=Ty;else if(em(ae))if(nm)Ce=Ay;else{Ce=Py;var Te=Ry}else(we=ae.nodeName)&&we.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Ce=Iy);if(Ce&&(Ce=Ce(t,G))){tm(le,Ce,a,ie);break e}Te&&Te(t,ae,G),t==="focusout"&&(Te=ae._wrapperState)&&Te.controlled&&ae.type==="number"&&Bl(ae,"number",ae.value)}switch(Te=G?ir(G):window,t){case"focusin":(em(Te)||Te.contentEditable==="true")&&(nr=Te,yo=G,da=null);break;case"focusout":da=yo=nr=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,dm(le,a,ie);break;case"selectionchange":if(Dy)break;case"keydown":case"keyup":dm(le,a,ie)}var Re;if(po)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else tr?Yu(t,a)&&(Ae="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(Qu&&a.locale!=="ko"&&(tr||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&tr&&(Re=Wu()):(Wn=ie,oo="value"in Wn?Wn.value:Wn.textContent,tr=!0)),Te=mi(G,Ae),0<Te.length&&(Ae=new Gu(Ae,t,null,a,ie),le.push({event:Ae,listeners:Te}),Re?Ae.data=Re:(Re=Zu(a),Re!==null&&(Ae.data=Re)))),(Re=Sy?Cy(t,a):_y(t,a))&&(G=mi(G,"onBeforeInput"),0<G.length&&(ie=new Gu("onBeforeInput","beforeinput",null,a,ie),le.push({event:ie,listeners:G}),ie.data=Re))}ym(le,n)})}function fa(t,n,a){return{instance:t,listener:n,currentTarget:a}}function mi(t,n){for(var a=n+"Capture",l=[];t!==null;){var u=t,p=u.stateNode;u.tag===5&&p!==null&&(u=p,p=Kr(t,a),p!=null&&l.unshift(fa(t,p,u)),p=Kr(t,n),p!=null&&l.push(fa(t,p,u))),t=t.return}return l}function rr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wm(t,n,a,l,u){for(var p=n._reactName,b=[];a!==null&&a!==l;){var P=a,D=P.alternate,G=P.stateNode;if(D!==null&&D===l)break;P.tag===5&&G!==null&&(P=G,u?(D=Kr(a,p),D!=null&&b.unshift(fa(a,D,P))):u||(D=Kr(a,p),D!=null&&b.push(fa(a,D,P)))),a=a.return}b.length!==0&&t.push({event:n,listeners:b})}var $y=/\r\n?/g,Uy=/\u0000|\uFFFD/g;function Nm(t){return(typeof t=="string"?t:""+t).replace($y,`
`).replace(Uy,"")}function fi(t,n,a){if(n=Nm(n),Nm(t)!==n&&a)throw Error(i(425))}function hi(){}var _o=null,ko=null;function Eo(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var To=typeof setTimeout=="function"?setTimeout:void 0,Vy=typeof clearTimeout=="function"?clearTimeout:void 0,bm=typeof Promise=="function"?Promise:void 0,By=typeof queueMicrotask=="function"?queueMicrotask:typeof bm<"u"?function(t){return bm.resolve(null).then(t).catch(Wy)}:To;function Wy(t){setTimeout(function(){throw t})}function Ro(t,n){var a=n,l=0;do{var u=a.nextSibling;if(t.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(l===0){t.removeChild(u),sa(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=u}while(a);sa(n)}function qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Sm(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}var ar=Math.random().toString(36).slice(2),xn="__reactFiber$"+ar,ha="__reactProps$"+ar,_n="__reactContainer$"+ar,Po="__reactEvents$"+ar,Hy="__reactListeners$"+ar,qy="__reactHandles$"+ar;function Cs(t){var n=t[xn];if(n)return n;for(var a=t.parentNode;a;){if(n=a[_n]||a[xn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Sm(t);t!==null;){if(a=t[xn])return a;t=Sm(t)}return n}t=a,a=t.parentNode}return null}function pa(t){return t=t[xn]||t[_n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ir(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(i(33))}function pi(t){return t[ha]||null}var Io=[],lr=-1;function Gn(t){return{current:t}}function tt(t){0>lr||(t.current=Io[lr],Io[lr]=null,lr--)}function Ze(t,n){lr++,Io[lr]=t.current,t.current=n}var Kn={},bt=Gn(Kn),At=Gn(!1),_s=Kn;function or(t,n){var a=t.type.contextTypes;if(!a)return Kn;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var u={},p;for(p in a)u[p]=n[p];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=u),u}function Lt(t){return t=t.childContextTypes,t!=null}function xi(){tt(At),tt(bt)}function Cm(t,n,a){if(bt.current!==Kn)throw Error(i(168));Ze(bt,n),Ze(At,a)}function _m(t,n,a){var l=t.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return a;l=l.getChildContext();for(var u in l)if(!(u in n))throw Error(i(108,X(t)||"Unknown",u));return ce({},a,l)}function gi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kn,_s=bt.current,Ze(bt,t),Ze(At,At.current),!0}function km(t,n,a){var l=t.stateNode;if(!l)throw Error(i(169));a?(t=_m(t,n,_s),l.__reactInternalMemoizedMergedChildContext=t,tt(At),tt(bt),Ze(bt,t)):tt(At),Ze(At,a)}var kn=null,vi=!1,Ao=!1;function Em(t){kn===null?kn=[t]:kn.push(t)}function Gy(t){vi=!0,Em(t)}function Qn(){if(!Ao&&kn!==null){Ao=!0;var t=0,n=Je;try{var a=kn;for(Je=1;t<a.length;t++){var l=a[t];do l=l(!0);while(l!==null)}kn=null,vi=!1}catch(u){throw kn!==null&&(kn=kn.slice(t+1)),Ru(eo,Qn),u}finally{Je=n,Ao=!1}}return null}var cr=[],dr=0,yi=null,ji=0,Ht=[],qt=0,ks=null,En=1,Tn="";function Es(t,n){cr[dr++]=ji,cr[dr++]=yi,yi=t,ji=n}function Tm(t,n,a){Ht[qt++]=En,Ht[qt++]=Tn,Ht[qt++]=ks,ks=t;var l=En;t=Tn;var u=32-tn(l)-1;l&=~(1<<u),a+=1;var p=32-tn(n)+u;if(30<p){var b=u-u%5;p=(l&(1<<b)-1).toString(32),l>>=b,u-=b,En=1<<32-tn(n)+u|a<<u|l,Tn=p+t}else En=1<<p|a<<u|l,Tn=t}function Lo(t){t.return!==null&&(Es(t,1),Tm(t,1,0))}function Mo(t){for(;t===yi;)yi=cr[--dr],cr[dr]=null,ji=cr[--dr],cr[dr]=null;for(;t===ks;)ks=Ht[--qt],Ht[qt]=null,Tn=Ht[--qt],Ht[qt]=null,En=Ht[--qt],Ht[qt]=null}var $t=null,Ut=null,st=!1,sn=null;function Rm(t,n){var a=Jt(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=t,n=t.deletions,n===null?(t.deletions=[a],t.flags|=16):n.push(a)}function Pm(t,n){switch(t.tag){case 5:var a=t.type;return n=n.nodeType!==1||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,$t=t,Ut=qn(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,$t=t,Ut=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(a=ks!==null?{id:En,overflow:Tn}:null,t.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=Jt(18,null,null,0),a.stateNode=n,a.return=t,t.child=a,$t=t,Ut=null,!0):!1;default:return!1}}function Do(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Oo(t){if(st){var n=Ut;if(n){var a=n;if(!Pm(t,n)){if(Do(t))throw Error(i(418));n=qn(a.nextSibling);var l=$t;n&&Pm(t,n)?Rm(l,a):(t.flags=t.flags&-4097|2,st=!1,$t=t)}}else{if(Do(t))throw Error(i(418));t.flags=t.flags&-4097|2,st=!1,$t=t}}}function Im(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function wi(t){if(t!==$t)return!1;if(!st)return Im(t),st=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Eo(t.type,t.memoizedProps)),n&&(n=Ut)){if(Do(t))throw Am(),Error(i(418));for(;n;)Rm(t,n),n=qn(n.nextSibling)}if(Im(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(n===0){Ut=qn(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++}t=t.nextSibling}Ut=null}}else Ut=$t?qn(t.stateNode.nextSibling):null;return!0}function Am(){for(var t=Ut;t;)t=qn(t.nextSibling)}function ur(){Ut=$t=null,st=!1}function zo(t){sn===null?sn=[t]:sn.push(t)}var Ky=k.ReactCurrentBatchConfig;function xa(t,n,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(i(309));var l=a.stateNode}if(!l)throw Error(i(147,t));var u=l,p=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(b){var P=u.refs;b===null?delete P[p]:P[p]=b},n._stringRef=p,n)}if(typeof t!="string")throw Error(i(284));if(!a._owner)throw Error(i(290,t))}return t}function Ni(t,n){throw t=Object.prototype.toString.call(n),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Lm(t){var n=t._init;return n(t._payload)}function Mm(t){function n(H,U){if(t){var q=H.deletions;q===null?(H.deletions=[U],H.flags|=16):q.push(U)}}function a(H,U){if(!t)return null;for(;U!==null;)n(H,U),U=U.sibling;return null}function l(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function u(H,U){return H=ss(H,U),H.index=0,H.sibling=null,H}function p(H,U,q){return H.index=q,t?(q=H.alternate,q!==null?(q=q.index,q<U?(H.flags|=2,U):q):(H.flags|=2,U)):(H.flags|=1048576,U)}function b(H){return t&&H.alternate===null&&(H.flags|=2),H}function P(H,U,q,ue){return U===null||U.tag!==6?(U=Tc(q,H.mode,ue),U.return=H,U):(U=u(U,q),U.return=H,U)}function D(H,U,q,ue){var Ce=q.type;return Ce===L?ie(H,U,q.props.children,ue,q.key):U!==null&&(U.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===re&&Lm(Ce)===U.type)?(ue=u(U,q.props),ue.ref=xa(H,U,q),ue.return=H,ue):(ue=qi(q.type,q.key,q.props,null,H.mode,ue),ue.ref=xa(H,U,q),ue.return=H,ue)}function G(H,U,q,ue){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Rc(q,H.mode,ue),U.return=H,U):(U=u(U,q.children||[]),U.return=H,U)}function ie(H,U,q,ue,Ce){return U===null||U.tag!==7?(U=Ds(q,H.mode,ue,Ce),U.return=H,U):(U=u(U,q),U.return=H,U)}function le(H,U,q){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Tc(""+U,H.mode,q),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case W:return q=qi(U.type,U.key,U.props,null,H.mode,q),q.ref=xa(H,null,U),q.return=H,q;case F:return U=Rc(U,H.mode,q),U.return=H,U;case re:var ue=U._init;return le(H,ue(U._payload),q)}if(Hr(U)||J(U))return U=Ds(U,H.mode,q,null),U.return=H,U;Ni(H,U)}return null}function ae(H,U,q,ue){var Ce=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Ce!==null?null:P(H,U,""+q,ue);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case W:return q.key===Ce?D(H,U,q,ue):null;case F:return q.key===Ce?G(H,U,q,ue):null;case re:return Ce=q._init,ae(H,U,Ce(q._payload),ue)}if(Hr(q)||J(q))return Ce!==null?null:ie(H,U,q,ue,null);Ni(H,q)}return null}function we(H,U,q,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return H=H.get(q)||null,P(U,H,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case W:return H=H.get(ue.key===null?q:ue.key)||null,D(U,H,ue,Ce);case F:return H=H.get(ue.key===null?q:ue.key)||null,G(U,H,ue,Ce);case re:var Te=ue._init;return we(H,U,q,Te(ue._payload),Ce)}if(Hr(ue)||J(ue))return H=H.get(q)||null,ie(U,H,ue,Ce,null);Ni(U,ue)}return null}function be(H,U,q,ue){for(var Ce=null,Te=null,Re=U,Ae=U=0,yt=null;Re!==null&&Ae<q.length;Ae++){Re.index>Ae?(yt=Re,Re=null):yt=Re.sibling;var Ke=ae(H,Re,q[Ae],ue);if(Ke===null){Re===null&&(Re=yt);break}t&&Re&&Ke.alternate===null&&n(H,Re),U=p(Ke,U,Ae),Te===null?Ce=Ke:Te.sibling=Ke,Te=Ke,Re=yt}if(Ae===q.length)return a(H,Re),st&&Es(H,Ae),Ce;if(Re===null){for(;Ae<q.length;Ae++)Re=le(H,q[Ae],ue),Re!==null&&(U=p(Re,U,Ae),Te===null?Ce=Re:Te.sibling=Re,Te=Re);return st&&Es(H,Ae),Ce}for(Re=l(H,Re);Ae<q.length;Ae++)yt=we(Re,H,Ae,q[Ae],ue),yt!==null&&(t&&yt.alternate!==null&&Re.delete(yt.key===null?Ae:yt.key),U=p(yt,U,Ae),Te===null?Ce=yt:Te.sibling=yt,Te=yt);return t&&Re.forEach(function(rs){return n(H,rs)}),st&&Es(H,Ae),Ce}function Se(H,U,q,ue){var Ce=J(q);if(typeof Ce!="function")throw Error(i(150));if(q=Ce.call(q),q==null)throw Error(i(151));for(var Te=Ce=null,Re=U,Ae=U=0,yt=null,Ke=q.next();Re!==null&&!Ke.done;Ae++,Ke=q.next()){Re.index>Ae?(yt=Re,Re=null):yt=Re.sibling;var rs=ae(H,Re,Ke.value,ue);if(rs===null){Re===null&&(Re=yt);break}t&&Re&&rs.alternate===null&&n(H,Re),U=p(rs,U,Ae),Te===null?Ce=rs:Te.sibling=rs,Te=rs,Re=yt}if(Ke.done)return a(H,Re),st&&Es(H,Ae),Ce;if(Re===null){for(;!Ke.done;Ae++,Ke=q.next())Ke=le(H,Ke.value,ue),Ke!==null&&(U=p(Ke,U,Ae),Te===null?Ce=Ke:Te.sibling=Ke,Te=Ke);return st&&Es(H,Ae),Ce}for(Re=l(H,Re);!Ke.done;Ae++,Ke=q.next())Ke=we(Re,H,Ae,Ke.value,ue),Ke!==null&&(t&&Ke.alternate!==null&&Re.delete(Ke.key===null?Ae:Ke.key),U=p(Ke,U,Ae),Te===null?Ce=Ke:Te.sibling=Ke,Te=Ke);return t&&Re.forEach(function(k0){return n(H,k0)}),st&&Es(H,Ae),Ce}function dt(H,U,q,ue){if(typeof q=="object"&&q!==null&&q.type===L&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case W:e:{for(var Ce=q.key,Te=U;Te!==null;){if(Te.key===Ce){if(Ce=q.type,Ce===L){if(Te.tag===7){a(H,Te.sibling),U=u(Te,q.props.children),U.return=H,H=U;break e}}else if(Te.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===re&&Lm(Ce)===Te.type){a(H,Te.sibling),U=u(Te,q.props),U.ref=xa(H,Te,q),U.return=H,H=U;break e}a(H,Te);break}else n(H,Te);Te=Te.sibling}q.type===L?(U=Ds(q.props.children,H.mode,ue,q.key),U.return=H,H=U):(ue=qi(q.type,q.key,q.props,null,H.mode,ue),ue.ref=xa(H,U,q),ue.return=H,H=ue)}return b(H);case F:e:{for(Te=q.key;U!==null;){if(U.key===Te)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){a(H,U.sibling),U=u(U,q.children||[]),U.return=H,H=U;break e}else{a(H,U);break}else n(H,U);U=U.sibling}U=Rc(q,H.mode,ue),U.return=H,H=U}return b(H);case re:return Te=q._init,dt(H,U,Te(q._payload),ue)}if(Hr(q))return be(H,U,q,ue);if(J(q))return Se(H,U,q,ue);Ni(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,U!==null&&U.tag===6?(a(H,U.sibling),U=u(U,q),U.return=H,H=U):(a(H,U),U=Tc(q,H.mode,ue),U.return=H,H=U),b(H)):a(H,U)}return dt}var mr=Mm(!0),Dm=Mm(!1),bi=Gn(null),Si=null,fr=null,Fo=null;function $o(){Fo=fr=Si=null}function Uo(t){var n=bi.current;tt(bi),t._currentValue=n}function Vo(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function hr(t,n){Si=t,Fo=fr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(Mt=!0),t.firstContext=null)}function Gt(t){var n=t._currentValue;if(Fo!==t)if(t={context:t,memoizedValue:n,next:null},fr===null){if(Si===null)throw Error(i(308));fr=t,Si.dependencies={lanes:0,firstContext:t}}else fr=fr.next=t;return n}var Ts=null;function Bo(t){Ts===null?Ts=[t]:Ts.push(t)}function Om(t,n,a,l){var u=n.interleaved;return u===null?(a.next=a,Bo(n)):(a.next=u.next,u.next=a),n.interleaved=a,Rn(t,l)}function Rn(t,n){t.lanes|=n;var a=t.alternate;for(a!==null&&(a.lanes|=n),a=t,t=t.return;t!==null;)t.childLanes|=n,a=t.alternate,a!==null&&(a.childLanes|=n),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Jn=!1;function Wo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zm(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Xn(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,Rn(t,a)}return u=l.interleaved,u===null?(n.next=n,Bo(l)):(n.next=u.next,u.next=n),l.interleaved=n,Rn(t,a)}function Ci(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,so(t,a)}}function Fm(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var b={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?u=p=b:p=p.next=b,a=a.next}while(a!==null);p===null?u=p=n:p=p.next=n}else u=p=n;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:p,shared:l.shared,effects:l.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}function _i(t,n,a,l){var u=t.updateQueue;Jn=!1;var p=u.firstBaseUpdate,b=u.lastBaseUpdate,P=u.shared.pending;if(P!==null){u.shared.pending=null;var D=P,G=D.next;D.next=null,b===null?p=G:b.next=G,b=D;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,P=ie.lastBaseUpdate,P!==b&&(P===null?ie.firstBaseUpdate=G:P.next=G,ie.lastBaseUpdate=D))}if(p!==null){var le=u.baseState;b=0,ie=G=D=null,P=p;do{var ae=P.lane,we=P.eventTime;if((l&ae)===ae){ie!==null&&(ie=ie.next={eventTime:we,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var be=t,Se=P;switch(ae=n,we=a,Se.tag){case 1:if(be=Se.payload,typeof be=="function"){le=be.call(we,le,ae);break e}le=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Se.payload,ae=typeof be=="function"?be.call(we,le,ae):be,ae==null)break e;le=ce({},le,ae);break e;case 2:Jn=!0}}P.callback!==null&&P.lane!==0&&(t.flags|=64,ae=u.effects,ae===null?u.effects=[P]:ae.push(P))}else we={eventTime:we,lane:ae,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ie===null?(G=ie=we,D=le):ie=ie.next=we,b|=ae;if(P=P.next,P===null){if(P=u.shared.pending,P===null)break;ae=P,P=ae.next,ae.next=null,u.lastBaseUpdate=ae,u.shared.pending=null}}while(!0);if(ie===null&&(D=le),u.baseState=D,u.firstBaseUpdate=G,u.lastBaseUpdate=ie,n=u.shared.interleaved,n!==null){u=n;do b|=u.lane,u=u.next;while(u!==n)}else p===null&&(u.shared.lanes=0);Is|=b,t.lanes=b,t.memoizedState=le}}function $m(t,n,a){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var l=t[n],u=l.callback;if(u!==null){if(l.callback=null,l=a,typeof u!="function")throw Error(i(191,u));u.call(l)}}}var ga={},gn=Gn(ga),va=Gn(ga),ya=Gn(ga);function Rs(t){if(t===ga)throw Error(i(174));return t}function Ho(t,n){switch(Ze(ya,n),Ze(va,t),Ze(gn,ga),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Hl(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=Hl(n,t)}tt(gn),Ze(gn,n)}function pr(){tt(gn),tt(va),tt(ya)}function Um(t){Rs(ya.current);var n=Rs(gn.current),a=Hl(n,t.type);n!==a&&(Ze(va,t),Ze(gn,a))}function qo(t){va.current===t&&(tt(gn),tt(va))}var rt=Gn(0);function ki(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Go=[];function Ko(){for(var t=0;t<Go.length;t++)Go[t]._workInProgressVersionPrimary=null;Go.length=0}var Ei=k.ReactCurrentDispatcher,Qo=k.ReactCurrentBatchConfig,Ps=0,at=null,ft=null,gt=null,Ti=!1,ja=!1,wa=0,Qy=0;function St(){throw Error(i(321))}function Jo(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!nn(t[a],n[a]))return!1;return!0}function Xo(t,n,a,l,u,p){if(Ps=p,at=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ei.current=t===null||t.memoizedState===null?Zy:e0,t=a(l,u),ja){p=0;do{if(ja=!1,wa=0,25<=p)throw Error(i(301));p+=1,gt=ft=null,n.updateQueue=null,Ei.current=t0,t=a(l,u)}while(ja)}if(Ei.current=Ii,n=ft!==null&&ft.next!==null,Ps=0,gt=ft=at=null,Ti=!1,n)throw Error(i(300));return t}function Yo(){var t=wa!==0;return wa=0,t}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?at.memoizedState=gt=t:gt=gt.next=t,gt}function Kt(){if(ft===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var n=gt===null?at.memoizedState:gt.next;if(n!==null)gt=n,ft=t;else{if(t===null)throw Error(i(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},gt===null?at.memoizedState=gt=t:gt=gt.next=t}return gt}function Na(t,n){return typeof n=="function"?n(t):n}function Zo(t){var n=Kt(),a=n.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=ft,u=l.baseQueue,p=a.pending;if(p!==null){if(u!==null){var b=u.next;u.next=p.next,p.next=b}l.baseQueue=u=p,a.pending=null}if(u!==null){p=u.next,l=l.baseState;var P=b=null,D=null,G=p;do{var ie=G.lane;if((Ps&ie)===ie)D!==null&&(D=D.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),l=G.hasEagerState?G.eagerState:t(l,G.action);else{var le={lane:ie,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};D===null?(P=D=le,b=l):D=D.next=le,at.lanes|=ie,Is|=ie}G=G.next}while(G!==null&&G!==p);D===null?b=l:D.next=P,nn(l,n.memoizedState)||(Mt=!0),n.memoizedState=l,n.baseState=b,n.baseQueue=D,a.lastRenderedState=l}if(t=a.interleaved,t!==null){u=t;do p=u.lane,at.lanes|=p,Is|=p,u=u.next;while(u!==t)}else u===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function ec(t){var n=Kt(),a=n.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,u=a.pending,p=n.memoizedState;if(u!==null){a.pending=null;var b=u=u.next;do p=t(p,b.action),b=b.next;while(b!==u);nn(p,n.memoizedState)||(Mt=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),a.lastRenderedState=p}return[p,l]}function Vm(){}function Bm(t,n){var a=at,l=Kt(),u=n(),p=!nn(l.memoizedState,u);if(p&&(l.memoizedState=u,Mt=!0),l=l.queue,tc(qm.bind(null,a,l,t),[t]),l.getSnapshot!==n||p||gt!==null&&gt.memoizedState.tag&1){if(a.flags|=2048,ba(9,Hm.bind(null,a,l,u,n),void 0,null),vt===null)throw Error(i(349));(Ps&30)!==0||Wm(a,n,u)}return u}function Wm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=at.updateQueue,n===null?(n={lastEffect:null,stores:null},at.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Hm(t,n,a,l){n.value=a,n.getSnapshot=l,Gm(n)&&Km(t)}function qm(t,n,a){return a(function(){Gm(n)&&Km(t)})}function Gm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!nn(t,a)}catch{return!0}}function Km(t){var n=Rn(t,1);n!==null&&on(n,t,1,-1)}function Qm(t){var n=vn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:t},n.queue=t,t=t.dispatch=Yy.bind(null,at,t),[n.memoizedState,t]}function ba(t,n,a,l){return t={tag:t,create:n,destroy:a,deps:l,next:null},n=at.updateQueue,n===null?(n={lastEffect:null,stores:null},at.updateQueue=n,n.lastEffect=t.next=t):(a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t)),t}function Jm(){return Kt().memoizedState}function Ri(t,n,a,l){var u=vn();at.flags|=t,u.memoizedState=ba(1|n,a,void 0,l===void 0?null:l)}function Pi(t,n,a,l){var u=Kt();l=l===void 0?null:l;var p=void 0;if(ft!==null){var b=ft.memoizedState;if(p=b.destroy,l!==null&&Jo(l,b.deps)){u.memoizedState=ba(n,a,p,l);return}}at.flags|=t,u.memoizedState=ba(1|n,a,p,l)}function Xm(t,n){return Ri(8390656,8,t,n)}function tc(t,n){return Pi(2048,8,t,n)}function Ym(t,n){return Pi(4,2,t,n)}function Zm(t,n){return Pi(4,4,t,n)}function ef(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function tf(t,n,a){return a=a!=null?a.concat([t]):null,Pi(4,4,ef.bind(null,n,t),a)}function nc(){}function nf(t,n){var a=Kt();n=n===void 0?null:n;var l=a.memoizedState;return l!==null&&n!==null&&Jo(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function sf(t,n){var a=Kt();n=n===void 0?null:n;var l=a.memoizedState;return l!==null&&n!==null&&Jo(n,l[1])?l[0]:(t=t(),a.memoizedState=[t,n],t)}function rf(t,n,a){return(Ps&21)===0?(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=a):(nn(a,n)||(a=Lu(),at.lanes|=a,Is|=a,t.baseState=!0),n)}function Jy(t,n){var a=Je;Je=a!==0&&4>a?a:4,t(!0);var l=Qo.transition;Qo.transition={};try{t(!1),n()}finally{Je=a,Qo.transition=l}}function af(){return Kt().memoizedState}function Xy(t,n,a){var l=ts(t);if(a={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null},lf(t))of(n,a);else if(a=Om(t,n,a,l),a!==null){var u=Rt();on(a,t,l,u),cf(a,n,l)}}function Yy(t,n,a){var l=ts(t),u={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null};if(lf(t))of(n,u);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var b=n.lastRenderedState,P=p(b,a);if(u.hasEagerState=!0,u.eagerState=P,nn(P,b)){var D=n.interleaved;D===null?(u.next=u,Bo(n)):(u.next=D.next,D.next=u),n.interleaved=u;return}}catch{}finally{}a=Om(t,n,u,l),a!==null&&(u=Rt(),on(a,t,l,u),cf(a,n,l))}}function lf(t){var n=t.alternate;return t===at||n!==null&&n===at}function of(t,n){ja=Ti=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function cf(t,n,a){if((a&4194240)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,so(t,a)}}var Ii={readContext:Gt,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},Zy={readContext:Gt,useCallback:function(t,n){return vn().memoizedState=[t,n===void 0?null:n],t},useContext:Gt,useEffect:Xm,useImperativeHandle:function(t,n,a){return a=a!=null?a.concat([t]):null,Ri(4194308,4,ef.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Ri(4194308,4,t,n)},useInsertionEffect:function(t,n){return Ri(4,2,t,n)},useMemo:function(t,n){var a=vn();return n=n===void 0?null:n,t=t(),a.memoizedState=[t,n],t},useReducer:function(t,n,a){var l=vn();return n=a!==void 0?a(n):n,l.memoizedState=l.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},l.queue=t,t=t.dispatch=Xy.bind(null,at,t),[l.memoizedState,t]},useRef:function(t){var n=vn();return t={current:t},n.memoizedState=t},useState:Qm,useDebugValue:nc,useDeferredValue:function(t){return vn().memoizedState=t},useTransition:function(){var t=Qm(!1),n=t[0];return t=Jy.bind(null,t[1]),vn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,a){var l=at,u=vn();if(st){if(a===void 0)throw Error(i(407));a=a()}else{if(a=n(),vt===null)throw Error(i(349));(Ps&30)!==0||Wm(l,n,a)}u.memoizedState=a;var p={value:a,getSnapshot:n};return u.queue=p,Xm(qm.bind(null,l,p,t),[t]),l.flags|=2048,ba(9,Hm.bind(null,l,p,a,n),void 0,null),a},useId:function(){var t=vn(),n=vt.identifierPrefix;if(st){var a=Tn,l=En;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=wa++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=Qy++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},e0={readContext:Gt,useCallback:nf,useContext:Gt,useEffect:tc,useImperativeHandle:tf,useInsertionEffect:Ym,useLayoutEffect:Zm,useMemo:sf,useReducer:Zo,useRef:Jm,useState:function(){return Zo(Na)},useDebugValue:nc,useDeferredValue:function(t){var n=Kt();return rf(n,ft.memoizedState,t)},useTransition:function(){var t=Zo(Na)[0],n=Kt().memoizedState;return[t,n]},useMutableSource:Vm,useSyncExternalStore:Bm,useId:af,unstable_isNewReconciler:!1},t0={readContext:Gt,useCallback:nf,useContext:Gt,useEffect:tc,useImperativeHandle:tf,useInsertionEffect:Ym,useLayoutEffect:Zm,useMemo:sf,useReducer:ec,useRef:Jm,useState:function(){return ec(Na)},useDebugValue:nc,useDeferredValue:function(t){var n=Kt();return ft===null?n.memoizedState=t:rf(n,ft.memoizedState,t)},useTransition:function(){var t=ec(Na)[0],n=Kt().memoizedState;return[t,n]},useMutableSource:Vm,useSyncExternalStore:Bm,useId:af,unstable_isNewReconciler:!1};function rn(t,n){if(t&&t.defaultProps){n=ce({},n),t=t.defaultProps;for(var a in t)n[a]===void 0&&(n[a]=t[a]);return n}return n}function sc(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:ce({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ai={isMounted:function(t){return(t=t._reactInternals)?Ss(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Rt(),u=ts(t),p=Pn(l,u);p.payload=n,a!=null&&(p.callback=a),n=Xn(t,p,u),n!==null&&(on(n,t,u,l),Ci(n,t,u))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Rt(),u=ts(t),p=Pn(l,u);p.tag=1,p.payload=n,a!=null&&(p.callback=a),n=Xn(t,p,u),n!==null&&(on(n,t,u,l),Ci(n,t,u))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Rt(),l=ts(t),u=Pn(a,l);u.tag=2,n!=null&&(u.callback=n),n=Xn(t,u,l),n!==null&&(on(n,t,l,a),Ci(n,t,l))}};function df(t,n,a,l,u,p,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,b):n.prototype&&n.prototype.isPureReactComponent?!ca(a,l)||!ca(u,p):!0}function uf(t,n,a){var l=!1,u=Kn,p=n.contextType;return typeof p=="object"&&p!==null?p=Gt(p):(u=Lt(n)?_s:bt.current,l=n.contextTypes,p=(l=l!=null)?or(t,u):Kn),n=new n(a,p),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ai,t.stateNode=n,n._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=u,t.__reactInternalMemoizedMaskedChildContext=p),n}function mf(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Ai.enqueueReplaceState(n,n.state,null)}function rc(t,n,a,l){var u=t.stateNode;u.props=a,u.state=t.memoizedState,u.refs={},Wo(t);var p=n.contextType;typeof p=="object"&&p!==null?u.context=Gt(p):(p=Lt(n)?_s:bt.current,u.context=or(t,p)),u.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(sc(t,n,p,a),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Ai.enqueueReplaceState(u,u.state,null),_i(t,a,u,l),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308)}function xr(t,n){try{var a="",l=n;do a+=oe(l),l=l.return;while(l);var u=a}catch(p){u=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:n,stack:u,digest:null}}function ac(t,n,a){return{value:t,source:null,stack:a??null,digest:n??null}}function ic(t,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var n0=typeof WeakMap=="function"?WeakMap:Map;function ff(t,n,a){a=Pn(-1,a),a.tag=3,a.payload={element:null};var l=n.value;return a.callback=function(){$i||($i=!0,wc=l),ic(t,n)},a}function hf(t,n,a){a=Pn(-1,a),a.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var u=n.value;a.payload=function(){return l(u)},a.callback=function(){ic(t,n)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){ic(t,n),typeof l!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var b=n.stack;this.componentDidCatch(n.value,{componentStack:b!==null?b:""})}),a}function pf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new n0;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(a)||(u.add(a),t=x0.bind(null,t,n,a),n.then(t,t))}function xf(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function gf(t,n,a,l,u){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=Pn(-1,1),n.tag=2,Xn(a,n,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=u,t)}var s0=k.ReactCurrentOwner,Mt=!1;function Tt(t,n,a,l){n.child=t===null?Dm(n,null,a,l):mr(n,t.child,a,l)}function vf(t,n,a,l,u){a=a.render;var p=n.ref;return hr(n,u),l=Xo(t,n,a,l,p,u),a=Yo(),t!==null&&!Mt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~u,In(t,n,u)):(st&&a&&Lo(n),n.flags|=1,Tt(t,n,l,u),n.child)}function yf(t,n,a,l,u){if(t===null){var p=a.type;return typeof p=="function"&&!Ec(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=p,jf(t,n,p,l,u)):(t=qi(a.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,(t.lanes&u)===0){var b=p.memoizedProps;if(a=a.compare,a=a!==null?a:ca,a(b,l)&&t.ref===n.ref)return In(t,n,u)}return n.flags|=1,t=ss(p,l),t.ref=n.ref,t.return=n,n.child=t}function jf(t,n,a,l,u){if(t!==null){var p=t.memoizedProps;if(ca(p,l)&&t.ref===n.ref)if(Mt=!1,n.pendingProps=l=p,(t.lanes&u)!==0)(t.flags&131072)!==0&&(Mt=!0);else return n.lanes=t.lanes,In(t,n,u)}return lc(t,n,a,l,u)}function wf(t,n,a){var l=n.pendingProps,u=l.children,p=t!==null?t.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(vr,Vt),Vt|=a;else{if((a&1073741824)===0)return t=p!==null?p.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Ze(vr,Vt),Vt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=p!==null?p.baseLanes:a,Ze(vr,Vt),Vt|=l}else p!==null?(l=p.baseLanes|a,n.memoizedState=null):l=a,Ze(vr,Vt),Vt|=l;return Tt(t,n,u,a),n.child}function Nf(t,n){var a=n.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function lc(t,n,a,l,u){var p=Lt(a)?_s:bt.current;return p=or(n,p),hr(n,u),a=Xo(t,n,a,l,p,u),l=Yo(),t!==null&&!Mt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~u,In(t,n,u)):(st&&l&&Lo(n),n.flags|=1,Tt(t,n,a,u),n.child)}function bf(t,n,a,l,u){if(Lt(a)){var p=!0;gi(n)}else p=!1;if(hr(n,u),n.stateNode===null)Mi(t,n),uf(n,a,l),rc(n,a,l,u),l=!0;else if(t===null){var b=n.stateNode,P=n.memoizedProps;b.props=P;var D=b.context,G=a.contextType;typeof G=="object"&&G!==null?G=Gt(G):(G=Lt(a)?_s:bt.current,G=or(n,G));var ie=a.getDerivedStateFromProps,le=typeof ie=="function"||typeof b.getSnapshotBeforeUpdate=="function";le||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P!==l||D!==G)&&mf(n,b,l,G),Jn=!1;var ae=n.memoizedState;b.state=ae,_i(n,l,b,u),D=n.memoizedState,P!==l||ae!==D||At.current||Jn?(typeof ie=="function"&&(sc(n,a,ie,l),D=n.memoizedState),(P=Jn||df(n,a,P,l,ae,D,G))?(le||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(n.flags|=4194308)):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=D),b.props=l,b.state=D,b.context=G,l=P):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{b=n.stateNode,zm(t,n),P=n.memoizedProps,G=n.type===n.elementType?P:rn(n.type,P),b.props=G,le=n.pendingProps,ae=b.context,D=a.contextType,typeof D=="object"&&D!==null?D=Gt(D):(D=Lt(a)?_s:bt.current,D=or(n,D));var we=a.getDerivedStateFromProps;(ie=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P!==le||ae!==D)&&mf(n,b,l,D),Jn=!1,ae=n.memoizedState,b.state=ae,_i(n,l,b,u);var be=n.memoizedState;P!==le||ae!==be||At.current||Jn?(typeof we=="function"&&(sc(n,a,we,l),be=n.memoizedState),(G=Jn||df(n,a,G,l,ae,be,D)||!1)?(ie||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(l,be,D),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(l,be,D)),typeof b.componentDidUpdate=="function"&&(n.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof b.componentDidUpdate!="function"||P===t.memoizedProps&&ae===t.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===t.memoizedProps&&ae===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=be),b.props=l,b.state=be,b.context=D,l=G):(typeof b.componentDidUpdate!="function"||P===t.memoizedProps&&ae===t.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===t.memoizedProps&&ae===t.memoizedState||(n.flags|=1024),l=!1)}return oc(t,n,a,l,p,u)}function oc(t,n,a,l,u,p){Nf(t,n);var b=(n.flags&128)!==0;if(!l&&!b)return u&&km(n,a,!1),In(t,n,p);l=n.stateNode,s0.current=n;var P=b&&typeof a.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,t!==null&&b?(n.child=mr(n,t.child,null,p),n.child=mr(n,null,P,p)):Tt(t,n,P,p),n.memoizedState=l.state,u&&km(n,a,!0),n.child}function Sf(t){var n=t.stateNode;n.pendingContext?Cm(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Cm(t,n.context,!1),Ho(t,n.containerInfo)}function Cf(t,n,a,l,u){return ur(),zo(u),n.flags|=256,Tt(t,n,a,l),n.child}var cc={dehydrated:null,treeContext:null,retryLane:0};function dc(t){return{baseLanes:t,cachePool:null,transitions:null}}function _f(t,n,a){var l=n.pendingProps,u=rt.current,p=!1,b=(n.flags&128)!==0,P;if((P=b)||(P=t!==null&&t.memoizedState===null?!1:(u&2)!==0),P?(p=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(u|=1),Ze(rt,u&1),t===null)return Oo(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(b=l.children,t=l.fallback,p?(l=n.mode,p=n.child,b={mode:"hidden",children:b},(l&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=b):p=Gi(b,l,0,null),t=Ds(t,l,a,null),p.return=n,t.return=n,p.sibling=t,n.child=p,n.child.memoizedState=dc(a),n.memoizedState=cc,t):uc(n,b));if(u=t.memoizedState,u!==null&&(P=u.dehydrated,P!==null))return r0(t,n,b,l,P,u,a);if(p){p=l.fallback,b=n.mode,u=t.child,P=u.sibling;var D={mode:"hidden",children:l.children};return(b&1)===0&&n.child!==u?(l=n.child,l.childLanes=0,l.pendingProps=D,n.deletions=null):(l=ss(u,D),l.subtreeFlags=u.subtreeFlags&14680064),P!==null?p=ss(P,p):(p=Ds(p,b,a,null),p.flags|=2),p.return=n,l.return=n,l.sibling=p,n.child=l,l=p,p=n.child,b=t.child.memoizedState,b=b===null?dc(a):{baseLanes:b.baseLanes|a,cachePool:null,transitions:b.transitions},p.memoizedState=b,p.childLanes=t.childLanes&~a,n.memoizedState=cc,l}return p=t.child,t=p.sibling,l=ss(p,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=a),l.return=n,l.sibling=null,t!==null&&(a=n.deletions,a===null?(n.deletions=[t],n.flags|=16):a.push(t)),n.child=l,n.memoizedState=null,l}function uc(t,n){return n=Gi({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function Li(t,n,a,l){return l!==null&&zo(l),mr(n,t.child,null,a),t=uc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function r0(t,n,a,l,u,p,b){if(a)return n.flags&256?(n.flags&=-257,l=ac(Error(i(422))),Li(t,n,b,l)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(p=l.fallback,u=n.mode,l=Gi({mode:"visible",children:l.children},u,0,null),p=Ds(p,u,b,null),p.flags|=2,l.return=n,p.return=n,l.sibling=p,n.child=l,(n.mode&1)!==0&&mr(n,t.child,null,b),n.child.memoizedState=dc(b),n.memoizedState=cc,p);if((n.mode&1)===0)return Li(t,n,b,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var P=l.dgst;return l=P,p=Error(i(419)),l=ac(p,l,void 0),Li(t,n,b,l)}if(P=(b&t.childLanes)!==0,Mt||P){if(l=vt,l!==null){switch(b&-b){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(l.suspendedLanes|b))!==0?0:u,u!==0&&u!==p.retryLane&&(p.retryLane=u,Rn(t,u),on(l,t,u,-1))}return kc(),l=ac(Error(i(421))),Li(t,n,b,l)}return u.data==="$?"?(n.flags|=128,n.child=t.child,n=g0.bind(null,t),u._reactRetry=n,null):(t=p.treeContext,Ut=qn(u.nextSibling),$t=n,st=!0,sn=null,t!==null&&(Ht[qt++]=En,Ht[qt++]=Tn,Ht[qt++]=ks,En=t.id,Tn=t.overflow,ks=n),n=uc(n,l.children),n.flags|=4096,n)}function kf(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Vo(t.return,n,a)}function mc(t,n,a,l,u){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=u)}function Ef(t,n,a){var l=n.pendingProps,u=l.revealOrder,p=l.tail;if(Tt(t,n,l.children,a),l=rt.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kf(t,a,n);else if(t.tag===19)kf(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(Ze(rt,l),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(a=n.child,u=null;a!==null;)t=a.alternate,t!==null&&ki(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),mc(n,!1,u,a,p);break;case"backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&ki(t)===null){n.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}mc(n,!0,a,null,p);break;case"together":mc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Mi(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function In(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Is|=n.lanes,(a&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(i(153));if(n.child!==null){for(t=n.child,a=ss(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ss(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function a0(t,n,a){switch(n.tag){case 3:Sf(n),ur();break;case 5:Um(n);break;case 1:Lt(n.type)&&gi(n);break;case 4:Ho(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,u=n.memoizedProps.value;Ze(bi,l._currentValue),l._currentValue=u;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(Ze(rt,rt.current&1),n.flags|=128,null):(a&n.child.childLanes)!==0?_f(t,n,a):(Ze(rt,rt.current&1),t=In(t,n,a),t!==null?t.sibling:null);Ze(rt,rt.current&1);break;case 19:if(l=(a&n.childLanes)!==0,(t.flags&128)!==0){if(l)return Ef(t,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ze(rt,rt.current),l)break;return null;case 22:case 23:return n.lanes=0,wf(t,n,a)}return In(t,n,a)}var Tf,fc,Rf,Pf;Tf=function(t,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},fc=function(){},Rf=function(t,n,a,l){var u=t.memoizedProps;if(u!==l){t=n.stateNode,Rs(gn.current);var p=null;switch(a){case"input":u=en(t,u),l=en(t,l),p=[];break;case"select":u=ce({},u,{value:void 0}),l=ce({},l,{value:void 0}),p=[];break;case"textarea":u=Wl(t,u),l=Wl(t,l),p=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=hi)}ql(a,l);var b;a=null;for(G in u)if(!l.hasOwnProperty(G)&&u.hasOwnProperty(G)&&u[G]!=null)if(G==="style"){var P=u[G];for(b in P)P.hasOwnProperty(b)&&(a||(a={}),a[b]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(c.hasOwnProperty(G)?p||(p=[]):(p=p||[]).push(G,null));for(G in l){var D=l[G];if(P=u?.[G],l.hasOwnProperty(G)&&D!==P&&(D!=null||P!=null))if(G==="style")if(P){for(b in P)!P.hasOwnProperty(b)||D&&D.hasOwnProperty(b)||(a||(a={}),a[b]="");for(b in D)D.hasOwnProperty(b)&&P[b]!==D[b]&&(a||(a={}),a[b]=D[b])}else a||(p||(p=[]),p.push(G,a)),a=D;else G==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,P=P?P.__html:void 0,D!=null&&P!==D&&(p=p||[]).push(G,D)):G==="children"?typeof D!="string"&&typeof D!="number"||(p=p||[]).push(G,""+D):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(c.hasOwnProperty(G)?(D!=null&&G==="onScroll"&&et("scroll",t),p||P===D||(p=[])):(p=p||[]).push(G,D))}a&&(p=p||[]).push("style",a);var G=p;(n.updateQueue=G)&&(n.flags|=4)}},Pf=function(t,n,a,l){a!==l&&(n.flags|=4)};function Sa(t,n){if(!st)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function i0(t,n,a){var l=n.pendingProps;switch(Mo(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(n),null;case 1:return Lt(n.type)&&xi(),Ct(n),null;case 3:return l=n.stateNode,pr(),tt(At),tt(bt),Ko(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(wi(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sn!==null&&(Sc(sn),sn=null))),fc(t,n),Ct(n),null;case 5:qo(n);var u=Rs(ya.current);if(a=n.type,t!==null&&n.stateNode!=null)Rf(t,n,a,l,u),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(i(166));return Ct(n),null}if(t=Rs(gn.current),wi(n)){l=n.stateNode,a=n.type;var p=n.memoizedProps;switch(l[xn]=n,l[ha]=p,t=(n.mode&1)!==0,a){case"dialog":et("cancel",l),et("close",l);break;case"iframe":case"object":case"embed":et("load",l);break;case"video":case"audio":for(u=0;u<ua.length;u++)et(ua[u],l);break;case"source":et("error",l);break;case"img":case"image":case"link":et("error",l),et("load",l);break;case"details":et("toggle",l);break;case"input":Ks(l,p),et("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!p.multiple},et("invalid",l);break;case"textarea":fu(l,p),et("invalid",l)}ql(a,p),u=null;for(var b in p)if(p.hasOwnProperty(b)){var P=p[b];b==="children"?typeof P=="string"?l.textContent!==P&&(p.suppressHydrationWarning!==!0&&fi(l.textContent,P,t),u=["children",P]):typeof P=="number"&&l.textContent!==""+P&&(p.suppressHydrationWarning!==!0&&fi(l.textContent,P,t),u=["children",""+P]):c.hasOwnProperty(b)&&P!=null&&b==="onScroll"&&et("scroll",l)}switch(a){case"input":Pe(l),mu(l,p,!0);break;case"textarea":Pe(l),pu(l);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(l.onclick=hi)}l=u,n.updateQueue=l,l!==null&&(n.flags|=4)}else{b=u.nodeType===9?u:u.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xu(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=b.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=b.createElement(a,{is:l.is}):(t=b.createElement(a),a==="select"&&(b=t,l.multiple?b.multiple=!0:l.size&&(b.size=l.size))):t=b.createElementNS(t,a),t[xn]=n,t[ha]=l,Tf(t,n,!1,!1),n.stateNode=t;e:{switch(b=Gl(a,l),a){case"dialog":et("cancel",t),et("close",t),u=l;break;case"iframe":case"object":case"embed":et("load",t),u=l;break;case"video":case"audio":for(u=0;u<ua.length;u++)et(ua[u],t);u=l;break;case"source":et("error",t),u=l;break;case"img":case"image":case"link":et("error",t),et("load",t),u=l;break;case"details":et("toggle",t),u=l;break;case"input":Ks(t,l),u=en(t,l),et("invalid",t);break;case"option":u=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},u=ce({},l,{value:void 0}),et("invalid",t);break;case"textarea":fu(t,l),u=Wl(t,l),et("invalid",t);break;default:u=l}ql(a,u),P=u;for(p in P)if(P.hasOwnProperty(p)){var D=P[p];p==="style"?yu(t,D):p==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&gu(t,D)):p==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&qr(t,D):typeof D=="number"&&qr(t,""+D):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(c.hasOwnProperty(p)?D!=null&&p==="onScroll"&&et("scroll",t):D!=null&&I(t,p,D,b))}switch(a){case"input":Pe(t),mu(t,l,!1);break;case"textarea":Pe(t),pu(t);break;case"option":l.value!=null&&t.setAttribute("value",""+ne(l.value));break;case"select":t.multiple=!!l.multiple,p=l.value,p!=null?Js(t,!!l.multiple,p,!1):l.defaultValue!=null&&Js(t,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(t.onclick=hi)}switch(a){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ct(n),null;case 6:if(t&&n.stateNode!=null)Pf(t,n,t.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(a=Rs(ya.current),Rs(gn.current),wi(n)){if(l=n.stateNode,a=n.memoizedProps,l[xn]=n,(p=l.nodeValue!==a)&&(t=$t,t!==null))switch(t.tag){case 3:fi(l.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fi(l.nodeValue,a,(t.mode&1)!==0)}p&&(n.flags|=4)}else l=(a.nodeType===9?a:a.ownerDocument).createTextNode(l),l[xn]=n,n.stateNode=l}return Ct(n),null;case 13:if(tt(rt),l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&Ut!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Am(),ur(),n.flags|=98560,p=!1;else if(p=wi(n),l!==null&&l.dehydrated!==null){if(t===null){if(!p)throw Error(i(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[xn]=n}else ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ct(n),p=!1}else sn!==null&&(Sc(sn),sn=null),p=!0;if(!p)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=a,n):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(rt.current&1)!==0?ht===0&&(ht=3):kc())),n.updateQueue!==null&&(n.flags|=4),Ct(n),null);case 4:return pr(),fc(t,n),t===null&&ma(n.stateNode.containerInfo),Ct(n),null;case 10:return Uo(n.type._context),Ct(n),null;case 17:return Lt(n.type)&&xi(),Ct(n),null;case 19:if(tt(rt),p=n.memoizedState,p===null)return Ct(n),null;if(l=(n.flags&128)!==0,b=p.rendering,b===null)if(l)Sa(p,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(b=ki(t),b!==null){for(n.flags|=128,Sa(p,!1),l=b.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=a,a=n.child;a!==null;)p=a,t=l,p.flags&=14680066,b=p.alternate,b===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=b.childLanes,p.lanes=b.lanes,p.child=b.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=b.memoizedProps,p.memoizedState=b.memoizedState,p.updateQueue=b.updateQueue,p.type=b.type,t=b.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Ze(rt,rt.current&1|2),n.child}t=t.sibling}p.tail!==null&&ct()>yr&&(n.flags|=128,l=!0,Sa(p,!1),n.lanes=4194304)}else{if(!l)if(t=ki(b),t!==null){if(n.flags|=128,l=!0,a=t.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),Sa(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!st)return Ct(n),null}else 2*ct()-p.renderingStartTime>yr&&a!==1073741824&&(n.flags|=128,l=!0,Sa(p,!1),n.lanes=4194304);p.isBackwards?(b.sibling=n.child,n.child=b):(a=p.last,a!==null?a.sibling=b:n.child=b,p.last=b)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=ct(),n.sibling=null,a=rt.current,Ze(rt,l?a&1|2:a&1),n):(Ct(n),null);case 22:case 23:return _c(),l=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(Vt&1073741824)!==0&&(Ct(n),n.subtreeFlags&6&&(n.flags|=8192)):Ct(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function l0(t,n){switch(Mo(n),n.tag){case 1:return Lt(n.type)&&xi(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return pr(),tt(At),tt(bt),Ko(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return qo(n),null;case 13:if(tt(rt),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(i(340));ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return tt(rt),null;case 4:return pr(),null;case 10:return Uo(n.type._context),null;case 22:case 23:return _c(),null;case 24:return null;default:return null}}var Di=!1,_t=!1,o0=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function gr(t,n){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(l){lt(t,n,l)}else a.current=null}function hc(t,n,a){try{a()}catch(l){lt(t,n,l)}}var If=!1;function c0(t,n){if(_o=ni,t=cm(),vo(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var b=0,P=-1,D=-1,G=0,ie=0,le=t,ae=null;t:for(;;){for(var we;le!==a||u!==0&&le.nodeType!==3||(P=b+u),le!==p||l!==0&&le.nodeType!==3||(D=b+l),le.nodeType===3&&(b+=le.nodeValue.length),(we=le.firstChild)!==null;)ae=le,le=we;for(;;){if(le===t)break t;if(ae===a&&++G===u&&(P=b),ae===p&&++ie===l&&(D=b),(we=le.nextSibling)!==null)break;le=ae,ae=le.parentNode}le=we}a=P===-1||D===-1?null:{start:P,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(ko={focusedElem:t,selectionRange:a},ni=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){n=Ne;try{var be=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Se=be.memoizedProps,dt=be.memoizedState,H=n.stateNode,U=H.getSnapshotBeforeUpdate(n.elementType===n.type?Se:rn(n.type,Se),dt);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var q=n.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ue){lt(n,n.return,ue)}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}return be=If,If=!1,be}function Ca(t,n,a){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&t)===t){var p=u.destroy;u.destroy=void 0,p!==void 0&&hc(n,a,p)}u=u.next}while(u!==l)}}function Oi(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var l=a.create;a.destroy=l()}a=a.next}while(a!==n)}}function pc(t){var n=t.ref;if(n!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof n=="function"?n(t):n.current=t}}function Af(t){var n=t.alternate;n!==null&&(t.alternate=null,Af(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[xn],delete n[ha],delete n[Po],delete n[Hy],delete n[qy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Lf(t){return t.tag===5||t.tag===3||t.tag===4}function Mf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=hi));else if(l!==4&&(t=t.child,t!==null))for(xc(t,n,a),t=t.sibling;t!==null;)xc(t,n,a),t=t.sibling}function gc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(gc(t,n,a),t=t.sibling;t!==null;)gc(t,n,a),t=t.sibling}var jt=null,an=!1;function Yn(t,n,a){for(a=a.child;a!==null;)Df(t,n,a),a=a.sibling}function Df(t,n,a){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Ja,a)}catch{}switch(a.tag){case 5:_t||gr(a,n);case 6:var l=jt,u=an;jt=null,Yn(t,n,a),jt=l,an=u,jt!==null&&(an?(t=jt,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):jt.removeChild(a.stateNode));break;case 18:jt!==null&&(an?(t=jt,a=a.stateNode,t.nodeType===8?Ro(t.parentNode,a):t.nodeType===1&&Ro(t,a),sa(t)):Ro(jt,a.stateNode));break;case 4:l=jt,u=an,jt=a.stateNode.containerInfo,an=!0,Yn(t,n,a),jt=l,an=u;break;case 0:case 11:case 14:case 15:if(!_t&&(l=a.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var p=u,b=p.destroy;p=p.tag,b!==void 0&&((p&2)!==0||(p&4)!==0)&&hc(a,n,b),u=u.next}while(u!==l)}Yn(t,n,a);break;case 1:if(!_t&&(gr(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=a.memoizedProps,l.state=a.memoizedState,l.componentWillUnmount()}catch(P){lt(a,n,P)}Yn(t,n,a);break;case 21:Yn(t,n,a);break;case 22:a.mode&1?(_t=(l=_t)||a.memoizedState!==null,Yn(t,n,a),_t=l):Yn(t,n,a);break;default:Yn(t,n,a)}}function Of(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new o0),n.forEach(function(l){var u=v0.bind(null,t,l);a.has(l)||(a.add(l),l.then(u,u))})}}function ln(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];try{var p=t,b=n,P=b;e:for(;P!==null;){switch(P.tag){case 5:jt=P.stateNode,an=!1;break e;case 3:jt=P.stateNode.containerInfo,an=!0;break e;case 4:jt=P.stateNode.containerInfo,an=!0;break e}P=P.return}if(jt===null)throw Error(i(160));Df(p,b,u),jt=null,an=!1;var D=u.alternate;D!==null&&(D.return=null),u.return=null}catch(G){lt(u,n,G)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)zf(n,t),n=n.sibling}function zf(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ln(n,t),yn(t),l&4){try{Ca(3,t,t.return),Oi(3,t)}catch(Se){lt(t,t.return,Se)}try{Ca(5,t,t.return)}catch(Se){lt(t,t.return,Se)}}break;case 1:ln(n,t),yn(t),l&512&&a!==null&&gr(a,a.return);break;case 5:if(ln(n,t),yn(t),l&512&&a!==null&&gr(a,a.return),t.flags&32){var u=t.stateNode;try{qr(u,"")}catch(Se){lt(t,t.return,Se)}}if(l&4&&(u=t.stateNode,u!=null)){var p=t.memoizedProps,b=a!==null?a.memoizedProps:p,P=t.type,D=t.updateQueue;if(t.updateQueue=null,D!==null)try{P==="input"&&p.type==="radio"&&p.name!=null&&Qs(u,p),Gl(P,b);var G=Gl(P,p);for(b=0;b<D.length;b+=2){var ie=D[b],le=D[b+1];ie==="style"?yu(u,le):ie==="dangerouslySetInnerHTML"?gu(u,le):ie==="children"?qr(u,le):I(u,ie,le,G)}switch(P){case"input":bs(u,p);break;case"textarea":hu(u,p);break;case"select":var ae=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!p.multiple;var we=p.value;we!=null?Js(u,!!p.multiple,we,!1):ae!==!!p.multiple&&(p.defaultValue!=null?Js(u,!!p.multiple,p.defaultValue,!0):Js(u,!!p.multiple,p.multiple?[]:"",!1))}u[ha]=p}catch(Se){lt(t,t.return,Se)}}break;case 6:if(ln(n,t),yn(t),l&4){if(t.stateNode===null)throw Error(i(162));u=t.stateNode,p=t.memoizedProps;try{u.nodeValue=p}catch(Se){lt(t,t.return,Se)}}break;case 3:if(ln(n,t),yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{sa(n.containerInfo)}catch(Se){lt(t,t.return,Se)}break;case 4:ln(n,t),yn(t);break;case 13:ln(n,t),yn(t),u=t.child,u.flags&8192&&(p=u.memoizedState!==null,u.stateNode.isHidden=p,!p||u.alternate!==null&&u.alternate.memoizedState!==null||(jc=ct())),l&4&&Of(t);break;case 22:if(ie=a!==null&&a.memoizedState!==null,t.mode&1?(_t=(G=_t)||ie,ln(n,t),_t=G):ln(n,t),yn(t),l&8192){if(G=t.memoizedState!==null,(t.stateNode.isHidden=G)&&!ie&&(t.mode&1)!==0)for(Ne=t,ie=t.child;ie!==null;){for(le=Ne=ie;Ne!==null;){switch(ae=Ne,we=ae.child,ae.tag){case 0:case 11:case 14:case 15:Ca(4,ae,ae.return);break;case 1:gr(ae,ae.return);var be=ae.stateNode;if(typeof be.componentWillUnmount=="function"){l=ae,a=ae.return;try{n=l,be.props=n.memoizedProps,be.state=n.memoizedState,be.componentWillUnmount()}catch(Se){lt(l,a,Se)}}break;case 5:gr(ae,ae.return);break;case 22:if(ae.memoizedState!==null){Uf(le);continue}}we!==null?(we.return=ae,Ne=we):Uf(le)}ie=ie.sibling}e:for(ie=null,le=t;;){if(le.tag===5){if(ie===null){ie=le;try{u=le.stateNode,G?(p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(P=le.stateNode,D=le.memoizedProps.style,b=D!=null&&D.hasOwnProperty("display")?D.display:null,P.style.display=vu("display",b))}catch(Se){lt(t,t.return,Se)}}}else if(le.tag===6){if(ie===null)try{le.stateNode.nodeValue=G?"":le.memoizedProps}catch(Se){lt(t,t.return,Se)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===t)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===t)break e;for(;le.sibling===null;){if(le.return===null||le.return===t)break e;ie===le&&(ie=null),le=le.return}ie===le&&(ie=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:ln(n,t),yn(t),l&4&&Of(t);break;case 21:break;default:ln(n,t),yn(t)}}function yn(t){var n=t.flags;if(n&2){try{e:{for(var a=t.return;a!==null;){if(Lf(a)){var l=a;break e}a=a.return}throw Error(i(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(qr(u,""),l.flags&=-33);var p=Mf(t);gc(t,p,u);break;case 3:case 4:var b=l.stateNode.containerInfo,P=Mf(t);xc(t,P,b);break;default:throw Error(i(161))}}catch(D){lt(t,t.return,D)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function d0(t,n,a){Ne=t,Ff(t)}function Ff(t,n,a){for(var l=(t.mode&1)!==0;Ne!==null;){var u=Ne,p=u.child;if(u.tag===22&&l){var b=u.memoizedState!==null||Di;if(!b){var P=u.alternate,D=P!==null&&P.memoizedState!==null||_t;P=Di;var G=_t;if(Di=b,(_t=D)&&!G)for(Ne=u;Ne!==null;)b=Ne,D=b.child,b.tag===22&&b.memoizedState!==null?Vf(u):D!==null?(D.return=b,Ne=D):Vf(u);for(;p!==null;)Ne=p,Ff(p),p=p.sibling;Ne=u,Di=P,_t=G}$f(t)}else(u.subtreeFlags&8772)!==0&&p!==null?(p.return=u,Ne=p):$f(t)}}function $f(t){for(;Ne!==null;){var n=Ne;if((n.flags&8772)!==0){var a=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:_t||Oi(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!_t)if(a===null)l.componentDidMount();else{var u=n.elementType===n.type?a.memoizedProps:rn(n.type,a.memoizedProps);l.componentDidUpdate(u,a.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&$m(n,p,l);break;case 3:var b=n.updateQueue;if(b!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}$m(n,b,a)}break;case 5:var P=n.stateNode;if(a===null&&n.flags&4){a=P;var D=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var G=n.alternate;if(G!==null){var ie=G.memoizedState;if(ie!==null){var le=ie.dehydrated;le!==null&&sa(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}_t||n.flags&512&&pc(n)}catch(ae){lt(n,n.return,ae)}}if(n===t){Ne=null;break}if(a=n.sibling,a!==null){a.return=n.return,Ne=a;break}Ne=n.return}}function Uf(t){for(;Ne!==null;){var n=Ne;if(n===t){Ne=null;break}var a=n.sibling;if(a!==null){a.return=n.return,Ne=a;break}Ne=n.return}}function Vf(t){for(;Ne!==null;){var n=Ne;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{Oi(4,n)}catch(D){lt(n,a,D)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var u=n.return;try{l.componentDidMount()}catch(D){lt(n,u,D)}}var p=n.return;try{pc(n)}catch(D){lt(n,p,D)}break;case 5:var b=n.return;try{pc(n)}catch(D){lt(n,b,D)}}}catch(D){lt(n,n.return,D)}if(n===t){Ne=null;break}var P=n.sibling;if(P!==null){P.return=n.return,Ne=P;break}Ne=n.return}}var u0=Math.ceil,zi=k.ReactCurrentDispatcher,vc=k.ReactCurrentOwner,Qt=k.ReactCurrentBatchConfig,qe=0,vt=null,ut=null,wt=0,Vt=0,vr=Gn(0),ht=0,_a=null,Is=0,Fi=0,yc=0,ka=null,Dt=null,jc=0,yr=1/0,An=null,$i=!1,wc=null,Zn=null,Ui=!1,es=null,Vi=0,Ea=0,Nc=null,Bi=-1,Wi=0;function Rt(){return(qe&6)!==0?ct():Bi!==-1?Bi:Bi=ct()}function ts(t){return(t.mode&1)===0?1:(qe&2)!==0&&wt!==0?wt&-wt:Ky.transition!==null?(Wi===0&&(Wi=Lu()),Wi):(t=Je,t!==0||(t=window.event,t=t===void 0?16:Bu(t.type)),t)}function on(t,n,a,l){if(50<Ea)throw Ea=0,Nc=null,Error(i(185));Yr(t,a,l),((qe&2)===0||t!==vt)&&(t===vt&&((qe&2)===0&&(Fi|=a),ht===4&&ns(t,wt)),Ot(t,l),a===1&&qe===0&&(n.mode&1)===0&&(yr=ct()+500,vi&&Qn()))}function Ot(t,n){var a=t.callbackNode;Kv(t,n);var l=Za(t,t===vt?wt:0);if(l===0)a!==null&&Pu(a),t.callbackNode=null,t.callbackPriority=0;else if(n=l&-l,t.callbackPriority!==n){if(a!=null&&Pu(a),n===1)t.tag===0?Gy(Wf.bind(null,t)):Em(Wf.bind(null,t)),By(function(){(qe&6)===0&&Qn()}),a=null;else{switch(Mu(l)){case 1:a=eo;break;case 4:a=Iu;break;case 16:a=Qa;break;case 536870912:a=Au;break;default:a=Qa}a=Yf(a,Bf.bind(null,t))}t.callbackPriority=n,t.callbackNode=a}}function Bf(t,n){if(Bi=-1,Wi=0,(qe&6)!==0)throw Error(i(327));var a=t.callbackNode;if(jr()&&t.callbackNode!==a)return null;var l=Za(t,t===vt?wt:0);if(l===0)return null;if((l&30)!==0||(l&t.expiredLanes)!==0||n)n=Hi(t,l);else{n=l;var u=qe;qe|=2;var p=qf();(vt!==t||wt!==n)&&(An=null,yr=ct()+500,Ls(t,n));do try{h0();break}catch(P){Hf(t,P)}while(!0);$o(),zi.current=p,qe=u,ut!==null?n=0:(vt=null,wt=0,n=ht)}if(n!==0){if(n===2&&(u=to(t),u!==0&&(l=u,n=bc(t,u))),n===1)throw a=_a,Ls(t,0),ns(t,l),Ot(t,ct()),a;if(n===6)ns(t,l);else{if(u=t.current.alternate,(l&30)===0&&!m0(u)&&(n=Hi(t,l),n===2&&(p=to(t),p!==0&&(l=p,n=bc(t,p))),n===1))throw a=_a,Ls(t,0),ns(t,l),Ot(t,ct()),a;switch(t.finishedWork=u,t.finishedLanes=l,n){case 0:case 1:throw Error(i(345));case 2:Ms(t,Dt,An);break;case 3:if(ns(t,l),(l&130023424)===l&&(n=jc+500-ct(),10<n)){if(Za(t,0)!==0)break;if(u=t.suspendedLanes,(u&l)!==l){Rt(),t.pingedLanes|=t.suspendedLanes&u;break}t.timeoutHandle=To(Ms.bind(null,t,Dt,An),n);break}Ms(t,Dt,An);break;case 4:if(ns(t,l),(l&4194240)===l)break;for(n=t.eventTimes,u=-1;0<l;){var b=31-tn(l);p=1<<b,b=n[b],b>u&&(u=b),l&=~p}if(l=u,l=ct()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*u0(l/1960))-l,10<l){t.timeoutHandle=To(Ms.bind(null,t,Dt,An),l);break}Ms(t,Dt,An);break;case 5:Ms(t,Dt,An);break;default:throw Error(i(329))}}}return Ot(t,ct()),t.callbackNode===a?Bf.bind(null,t):null}function bc(t,n){var a=ka;return t.current.memoizedState.isDehydrated&&(Ls(t,n).flags|=256),t=Hi(t,n),t!==2&&(n=Dt,Dt=a,n!==null&&Sc(n)),t}function Sc(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function m0(t){for(var n=t;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var l=0;l<a.length;l++){var u=a[l],p=u.getSnapshot;u=u.value;try{if(!nn(p(),u))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ns(t,n){for(n&=~yc,n&=~Fi,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var a=31-tn(n),l=1<<a;t[a]=-1,n&=~l}}function Wf(t){if((qe&6)!==0)throw Error(i(327));jr();var n=Za(t,0);if((n&1)===0)return Ot(t,ct()),null;var a=Hi(t,n);if(t.tag!==0&&a===2){var l=to(t);l!==0&&(n=l,a=bc(t,l))}if(a===1)throw a=_a,Ls(t,0),ns(t,n),Ot(t,ct()),a;if(a===6)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Ms(t,Dt,An),Ot(t,ct()),null}function Cc(t,n){var a=qe;qe|=1;try{return t(n)}finally{qe=a,qe===0&&(yr=ct()+500,vi&&Qn())}}function As(t){es!==null&&es.tag===0&&(qe&6)===0&&jr();var n=qe;qe|=1;var a=Qt.transition,l=Je;try{if(Qt.transition=null,Je=1,t)return t()}finally{Je=l,Qt.transition=a,qe=n,(qe&6)===0&&Qn()}}function _c(){Vt=vr.current,tt(vr)}function Ls(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,Vy(a)),ut!==null)for(a=ut.return;a!==null;){var l=a;switch(Mo(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&xi();break;case 3:pr(),tt(At),tt(bt),Ko();break;case 5:qo(l);break;case 4:pr();break;case 13:tt(rt);break;case 19:tt(rt);break;case 10:Uo(l.type._context);break;case 22:case 23:_c()}a=a.return}if(vt=t,ut=t=ss(t.current,null),wt=Vt=n,ht=0,_a=null,yc=Fi=Is=0,Dt=ka=null,Ts!==null){for(n=0;n<Ts.length;n++)if(a=Ts[n],l=a.interleaved,l!==null){a.interleaved=null;var u=l.next,p=a.pending;if(p!==null){var b=p.next;p.next=u,l.next=b}a.pending=l}Ts=null}return t}function Hf(t,n){do{var a=ut;try{if($o(),Ei.current=Ii,Ti){for(var l=at.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Ti=!1}if(Ps=0,gt=ft=at=null,ja=!1,wa=0,vc.current=null,a===null||a.return===null){ht=1,_a=n,ut=null;break}e:{var p=t,b=a.return,P=a,D=n;if(n=wt,P.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var G=D,ie=P,le=ie.tag;if((ie.mode&1)===0&&(le===0||le===11||le===15)){var ae=ie.alternate;ae?(ie.updateQueue=ae.updateQueue,ie.memoizedState=ae.memoizedState,ie.lanes=ae.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var we=xf(b);if(we!==null){we.flags&=-257,gf(we,b,P,p,n),we.mode&1&&pf(p,G,n),n=we,D=G;var be=n.updateQueue;if(be===null){var Se=new Set;Se.add(D),n.updateQueue=Se}else be.add(D);break e}else{if((n&1)===0){pf(p,G,n),kc();break e}D=Error(i(426))}}else if(st&&P.mode&1){var dt=xf(b);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),gf(dt,b,P,p,n),zo(xr(D,P));break e}}p=D=xr(D,P),ht!==4&&(ht=2),ka===null?ka=[p]:ka.push(p),p=b;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var H=ff(p,D,n);Fm(p,H);break e;case 1:P=D;var U=p.type,q=p.stateNode;if((p.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Zn===null||!Zn.has(q)))){p.flags|=65536,n&=-n,p.lanes|=n;var ue=hf(p,P,n);Fm(p,ue);break e}}p=p.return}while(p!==null)}Kf(a)}catch(Ce){n=Ce,ut===a&&a!==null&&(ut=a=a.return);continue}break}while(!0)}function qf(){var t=zi.current;return zi.current=Ii,t===null?Ii:t}function kc(){(ht===0||ht===3||ht===2)&&(ht=4),vt===null||(Is&268435455)===0&&(Fi&268435455)===0||ns(vt,wt)}function Hi(t,n){var a=qe;qe|=2;var l=qf();(vt!==t||wt!==n)&&(An=null,Ls(t,n));do try{f0();break}catch(u){Hf(t,u)}while(!0);if($o(),qe=a,zi.current=l,ut!==null)throw Error(i(261));return vt=null,wt=0,ht}function f0(){for(;ut!==null;)Gf(ut)}function h0(){for(;ut!==null&&!Fv();)Gf(ut)}function Gf(t){var n=Xf(t.alternate,t,Vt);t.memoizedProps=t.pendingProps,n===null?Kf(t):ut=n,vc.current=null}function Kf(t){var n=t;do{var a=n.alternate;if(t=n.return,(n.flags&32768)===0){if(a=i0(a,n,Vt),a!==null){ut=a;return}}else{if(a=l0(a,n),a!==null){a.flags&=32767,ut=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,ut=null;return}}if(n=n.sibling,n!==null){ut=n;return}ut=n=t}while(n!==null);ht===0&&(ht=5)}function Ms(t,n,a){var l=Je,u=Qt.transition;try{Qt.transition=null,Je=1,p0(t,n,a,l)}finally{Qt.transition=u,Je=l}return null}function p0(t,n,a,l){do jr();while(es!==null);if((qe&6)!==0)throw Error(i(327));a=t.finishedWork;var u=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var p=a.lanes|a.childLanes;if(Qv(t,p),t===vt&&(ut=vt=null,wt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ui||(Ui=!0,Yf(Qa,function(){return jr(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=Qt.transition,Qt.transition=null;var b=Je;Je=1;var P=qe;qe|=4,vc.current=null,c0(t,a),zf(a,t),My(ko),ni=!!_o,ko=_o=null,t.current=a,d0(a),$v(),qe=P,Je=b,Qt.transition=p}else t.current=a;if(Ui&&(Ui=!1,es=t,Vi=u),p=t.pendingLanes,p===0&&(Zn=null),Bv(a.stateNode),Ot(t,ct()),n!==null)for(l=t.onRecoverableError,a=0;a<n.length;a++)u=n[a],l(u.value,{componentStack:u.stack,digest:u.digest});if($i)throw $i=!1,t=wc,wc=null,t;return(Vi&1)!==0&&t.tag!==0&&jr(),p=t.pendingLanes,(p&1)!==0?t===Nc?Ea++:(Ea=0,Nc=t):Ea=0,Qn(),null}function jr(){if(es!==null){var t=Mu(Vi),n=Qt.transition,a=Je;try{if(Qt.transition=null,Je=16>t?16:t,es===null)var l=!1;else{if(t=es,es=null,Vi=0,(qe&6)!==0)throw Error(i(331));var u=qe;for(qe|=4,Ne=t.current;Ne!==null;){var p=Ne,b=p.child;if((Ne.flags&16)!==0){var P=p.deletions;if(P!==null){for(var D=0;D<P.length;D++){var G=P[D];for(Ne=G;Ne!==null;){var ie=Ne;switch(ie.tag){case 0:case 11:case 15:Ca(8,ie,p)}var le=ie.child;if(le!==null)le.return=ie,Ne=le;else for(;Ne!==null;){ie=Ne;var ae=ie.sibling,we=ie.return;if(Af(ie),ie===G){Ne=null;break}if(ae!==null){ae.return=we,Ne=ae;break}Ne=we}}}var be=p.alternate;if(be!==null){var Se=be.child;if(Se!==null){be.child=null;do{var dt=Se.sibling;Se.sibling=null,Se=dt}while(Se!==null)}}Ne=p}}if((p.subtreeFlags&2064)!==0&&b!==null)b.return=p,Ne=b;else e:for(;Ne!==null;){if(p=Ne,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Ca(9,p,p.return)}var H=p.sibling;if(H!==null){H.return=p.return,Ne=H;break e}Ne=p.return}}var U=t.current;for(Ne=U;Ne!==null;){b=Ne;var q=b.child;if((b.subtreeFlags&2064)!==0&&q!==null)q.return=b,Ne=q;else e:for(b=U;Ne!==null;){if(P=Ne,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Oi(9,P)}}catch(Ce){lt(P,P.return,Ce)}if(P===b){Ne=null;break e}var ue=P.sibling;if(ue!==null){ue.return=P.return,Ne=ue;break e}Ne=P.return}}if(qe=u,Qn(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Ja,t)}catch{}l=!0}return l}finally{Je=a,Qt.transition=n}}return!1}function Qf(t,n,a){n=xr(a,n),n=ff(t,n,1),t=Xn(t,n,1),n=Rt(),t!==null&&(Yr(t,1,n),Ot(t,n))}function lt(t,n,a){if(t.tag===3)Qf(t,t,a);else for(;n!==null;){if(n.tag===3){Qf(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zn===null||!Zn.has(l))){t=xr(a,t),t=hf(n,t,1),n=Xn(n,t,1),t=Rt(),n!==null&&(Yr(n,1,t),Ot(n,t));break}}n=n.return}}function x0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),n=Rt(),t.pingedLanes|=t.suspendedLanes&a,vt===t&&(wt&a)===a&&(ht===4||ht===3&&(wt&130023424)===wt&&500>ct()-jc?Ls(t,0):yc|=a),Ot(t,n)}function Jf(t,n){n===0&&((t.mode&1)===0?n=1:(n=Ya,Ya<<=1,(Ya&130023424)===0&&(Ya=4194304)));var a=Rt();t=Rn(t,n),t!==null&&(Yr(t,n,a),Ot(t,a))}function g0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Jf(t,a)}function v0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(i(314))}l!==null&&l.delete(n),Jf(t,a)}var Xf;Xf=function(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps||At.current)Mt=!0;else{if((t.lanes&a)===0&&(n.flags&128)===0)return Mt=!1,a0(t,n,a);Mt=(t.flags&131072)!==0}else Mt=!1,st&&(n.flags&1048576)!==0&&Tm(n,ji,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Mi(t,n),t=n.pendingProps;var u=or(n,bt.current);hr(n,a),u=Xo(null,n,l,t,u,a);var p=Yo();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Lt(l)?(p=!0,gi(n)):p=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Wo(n),u.updater=Ai,n.stateNode=u,u._reactInternals=n,rc(n,l,t,a),n=oc(null,n,l,!0,p,a)):(n.tag=0,st&&p&&Lo(n),Tt(null,n,u,a),n=n.child),n;case 16:l=n.elementType;e:{switch(Mi(t,n),t=n.pendingProps,u=l._init,l=u(l._payload),n.type=l,u=n.tag=j0(l),t=rn(l,t),u){case 0:n=lc(null,n,l,t,a);break e;case 1:n=bf(null,n,l,t,a);break e;case 11:n=vf(null,n,l,t,a);break e;case 14:n=yf(null,n,l,rn(l.type,t),a);break e}throw Error(i(306,l,""))}return n;case 0:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:rn(l,u),lc(t,n,l,u,a);case 1:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:rn(l,u),bf(t,n,l,u,a);case 3:e:{if(Sf(n),t===null)throw Error(i(387));l=n.pendingProps,p=n.memoizedState,u=p.element,zm(t,n),_i(n,l,null,a);var b=n.memoizedState;if(l=b.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){u=xr(Error(i(423)),n),n=Cf(t,n,l,a,u);break e}else if(l!==u){u=xr(Error(i(424)),n),n=Cf(t,n,l,a,u);break e}else for(Ut=qn(n.stateNode.containerInfo.firstChild),$t=n,st=!0,sn=null,a=Dm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ur(),l===u){n=In(t,n,a);break e}Tt(t,n,l,a)}n=n.child}return n;case 5:return Um(n),t===null&&Oo(n),l=n.type,u=n.pendingProps,p=t!==null?t.memoizedProps:null,b=u.children,Eo(l,u)?b=null:p!==null&&Eo(l,p)&&(n.flags|=32),Nf(t,n),Tt(t,n,b,a),n.child;case 6:return t===null&&Oo(n),null;case 13:return _f(t,n,a);case 4:return Ho(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=mr(n,null,l,a):Tt(t,n,l,a),n.child;case 11:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:rn(l,u),vf(t,n,l,u,a);case 7:return Tt(t,n,n.pendingProps,a),n.child;case 8:return Tt(t,n,n.pendingProps.children,a),n.child;case 12:return Tt(t,n,n.pendingProps.children,a),n.child;case 10:e:{if(l=n.type._context,u=n.pendingProps,p=n.memoizedProps,b=u.value,Ze(bi,l._currentValue),l._currentValue=b,p!==null)if(nn(p.value,b)){if(p.children===u.children&&!At.current){n=In(t,n,a);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var P=p.dependencies;if(P!==null){b=p.child;for(var D=P.firstContext;D!==null;){if(D.context===l){if(p.tag===1){D=Pn(-1,a&-a),D.tag=2;var G=p.updateQueue;if(G!==null){G=G.shared;var ie=G.pending;ie===null?D.next=D:(D.next=ie.next,ie.next=D),G.pending=D}}p.lanes|=a,D=p.alternate,D!==null&&(D.lanes|=a),Vo(p.return,a,n),P.lanes|=a;break}D=D.next}}else if(p.tag===10)b=p.type===n.type?null:p.child;else if(p.tag===18){if(b=p.return,b===null)throw Error(i(341));b.lanes|=a,P=b.alternate,P!==null&&(P.lanes|=a),Vo(b,a,n),b=p.sibling}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===n){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}Tt(t,n,u.children,a),n=n.child}return n;case 9:return u=n.type,l=n.pendingProps.children,hr(n,a),u=Gt(u),l=l(u),n.flags|=1,Tt(t,n,l,a),n.child;case 14:return l=n.type,u=rn(l,n.pendingProps),u=rn(l.type,u),yf(t,n,l,u,a);case 15:return jf(t,n,n.type,n.pendingProps,a);case 17:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:rn(l,u),Mi(t,n),n.tag=1,Lt(l)?(t=!0,gi(n)):t=!1,hr(n,a),uf(n,l,u),rc(n,l,u,a),oc(null,n,l,!0,t,a);case 19:return Ef(t,n,a);case 22:return wf(t,n,a)}throw Error(i(156,n.tag))};function Yf(t,n){return Ru(t,n)}function y0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,n,a,l){return new y0(t,n,a,l)}function Ec(t){return t=t.prototype,!(!t||!t.isReactComponent)}function j0(t){if(typeof t=="function")return Ec(t)?1:0;if(t!=null){if(t=t.$$typeof,t===V)return 11;if(t===ee)return 14}return 2}function ss(t,n){var a=t.alternate;return a===null?(a=Jt(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function qi(t,n,a,l,u,p){var b=2;if(l=t,typeof t=="function")Ec(t)&&(b=1);else if(typeof t=="string")b=5;else e:switch(t){case L:return Ds(a.children,u,p,n);case M:b=8,u|=8;break;case z:return t=Jt(12,a,n,u|2),t.elementType=z,t.lanes=p,t;case R:return t=Jt(13,a,n,u),t.elementType=R,t.lanes=p,t;case S:return t=Jt(19,a,n,u),t.elementType=S,t.lanes=p,t;case fe:return Gi(a,u,p,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:b=10;break e;case O:b=9;break e;case V:b=11;break e;case ee:b=14;break e;case re:b=16,l=null;break e}throw Error(i(130,t==null?t:typeof t,""))}return n=Jt(b,a,n,u),n.elementType=t,n.type=l,n.lanes=p,n}function Ds(t,n,a,l){return t=Jt(7,t,l,n),t.lanes=a,t}function Gi(t,n,a,l){return t=Jt(22,t,l,n),t.elementType=fe,t.lanes=a,t.stateNode={isHidden:!1},t}function Tc(t,n,a){return t=Jt(6,t,null,n),t.lanes=a,t}function Rc(t,n,a){return n=Jt(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function w0(t,n,a,l,u){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Pc(t,n,a,l,u,p,b,P,D){return t=new w0(t,n,a,P,D),n===1?(n=1,p===!0&&(n|=8)):n=0,p=Jt(3,null,null,n),t.current=p,p.stateNode=t,p.memoizedState={element:l,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wo(p),t}function N0(t,n,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:l==null?null:""+l,children:t,containerInfo:n,implementation:a}}function Zf(t){if(!t)return Kn;t=t._reactInternals;e:{if(Ss(t)!==t||t.tag!==1)throw Error(i(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Lt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(t.tag===1){var a=t.type;if(Lt(a))return _m(t,a,n)}return n}function eh(t,n,a,l,u,p,b,P,D){return t=Pc(a,l,!0,t,u,p,b,P,D),t.context=Zf(null),a=t.current,l=Rt(),u=ts(a),p=Pn(l,u),p.callback=n??null,Xn(a,p,u),t.current.lanes=u,Yr(t,u,l),Ot(t,l),t}function Ki(t,n,a,l){var u=n.current,p=Rt(),b=ts(u);return a=Zf(a),n.context===null?n.context=a:n.pendingContext=a,n=Pn(p,b),n.payload={element:t},l=l===void 0?null:l,l!==null&&(n.callback=l),t=Xn(u,n,b),t!==null&&(on(t,u,b,p),Ci(t,u,b)),b}function Qi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function th(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ic(t,n){th(t,n),(t=t.alternate)&&th(t,n)}function b0(){return null}var nh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ac(t){this._internalRoot=t}Ji.prototype.render=Ac.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(i(409));Ki(t,n,null,null)},Ji.prototype.unmount=Ac.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;As(function(){Ki(null,t,null,null)}),n[_n]=null}};function Ji(t){this._internalRoot=t}Ji.prototype.unstable_scheduleHydration=function(t){if(t){var n=zu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Bn.length&&n!==0&&n<Bn[a].priority;a++);Bn.splice(a,0,t),a===0&&Uu(t)}};function Lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sh(){}function S0(t,n,a,l,u){if(u){if(typeof l=="function"){var p=l;l=function(){var G=Qi(b);p.call(G)}}var b=eh(n,l,t,0,null,!1,!1,"",sh);return t._reactRootContainer=b,t[_n]=b.current,ma(t.nodeType===8?t.parentNode:t),As(),b}for(;u=t.lastChild;)t.removeChild(u);if(typeof l=="function"){var P=l;l=function(){var G=Qi(D);P.call(G)}}var D=Pc(t,0,!1,null,null,!1,!1,"",sh);return t._reactRootContainer=D,t[_n]=D.current,ma(t.nodeType===8?t.parentNode:t),As(function(){Ki(n,D,a,l)}),D}function Yi(t,n,a,l,u){var p=a._reactRootContainer;if(p){var b=p;if(typeof u=="function"){var P=u;u=function(){var D=Qi(b);P.call(D)}}Ki(n,b,t,u)}else b=S0(a,n,t,u,l);return Qi(b)}Du=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var a=Xr(n.pendingLanes);a!==0&&(so(n,a|1),Ot(n,ct()),(qe&6)===0&&(yr=ct()+500,Qn()))}break;case 13:As(function(){var l=Rn(t,1);if(l!==null){var u=Rt();on(l,t,1,u)}}),Ic(t,1)}},ro=function(t){if(t.tag===13){var n=Rn(t,134217728);if(n!==null){var a=Rt();on(n,t,134217728,a)}Ic(t,134217728)}},Ou=function(t){if(t.tag===13){var n=ts(t),a=Rn(t,n);if(a!==null){var l=Rt();on(a,t,n,l)}Ic(t,n)}},zu=function(){return Je},Fu=function(t,n){var a=Je;try{return Je=t,n()}finally{Je=a}},Jl=function(t,n,a){switch(n){case"input":if(bs(t,a),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var u=pi(l);if(!u)throw Error(i(90));Ie(l),bs(l,u)}}}break;case"textarea":hu(t,a);break;case"select":n=a.value,n!=null&&Js(t,!!a.multiple,n,!1)}},bu=Cc,Su=As;var C0={usingClientEntryPoint:!1,Events:[pa,ir,pi,wu,Nu,Cc]},Ta={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_0={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Eu(t),t===null?null:t.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||b0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{Ja=Zi.inject(_0),pn=Zi}catch{}}return zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C0,zt.createPortal=function(t,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lc(n))throw Error(i(200));return N0(t,n,null,a)},zt.createRoot=function(t,n){if(!Lc(t))throw Error(i(299));var a=!1,l="",u=nh;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Pc(t,1,!1,null,null,a,!1,l,u),t[_n]=n.current,ma(t.nodeType===8?t.parentNode:t),new Ac(n)},zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=Eu(n),t=t===null?null:t.stateNode,t},zt.flushSync=function(t){return As(t)},zt.hydrate=function(t,n,a){if(!Xi(n))throw Error(i(200));return Yi(null,t,n,!0,a)},zt.hydrateRoot=function(t,n,a){if(!Lc(t))throw Error(i(405));var l=a!=null&&a.hydratedSources||null,u=!1,p="",b=nh;if(a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),n=eh(n,null,t,1,a??null,u,!1,p,b),t[_n]=n.current,ma(t),l)for(t=0;t<l.length;t++)a=l[t],u=a._getVersion,u=u(a._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,u]:n.mutableSourceEagerHydrationData.push(a,u);return new Ji(n)},zt.render=function(t,n,a){if(!Xi(n))throw Error(i(200));return Yi(null,t,n,!1,a)},zt.unmountComponentAtNode=function(t){if(!Xi(t))throw Error(i(40));return t._reactRootContainer?(As(function(){Yi(null,null,t,!1,function(){t._reactRootContainer=null,t[_n]=null})}),!0):!1},zt.unstable_batchedUpdates=Cc,zt.unstable_renderSubtreeIntoContainer=function(t,n,a,l){if(!Xi(a))throw Error(i(200));if(t==null||t._reactInternals===void 0)throw Error(i(38));return Yi(t,n,a,!1,l)},zt.version="18.3.1-next-f1338f8080-20240426",zt}var uh;function ip(){if(uh)return Oc.exports;uh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Oc.exports=L0(),Oc.exports}var mh;function M0(){if(mh)return el;mh=1;var s=ip();return el.createRoot=s.createRoot,el.hydrateRoot=s.hydrateRoot,el}var D0=M0();const O0=_d(D0);var Mr=ip();const z0=_d(Mr);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ma(){return Ma=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])}return s},Ma.apply(this,arguments)}var os;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(os||(os={}));const fh="popstate";function F0(s){s===void 0&&(s={});function r(o,c){let{pathname:d,search:m,hash:h}=o.location;return td("",{pathname:d,search:m,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){return typeof c=="string"?c:fl(c)}return U0(r,i,null,s)}function it(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function lp(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function $0(){return Math.random().toString(36).substr(2,8)}function hh(s,r){return{usr:s.state,key:s.key,idx:r}}function td(s,r,i,o){return i===void 0&&(i=null),Ma({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?Dr(r):r,{state:i,key:r&&r.key||o||$0()})}function fl(s){let{pathname:r="/",search:i="",hash:o=""}=s;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function Dr(s){let r={};if(s){let i=s.indexOf("#");i>=0&&(r.hash=s.substr(i),s=s.substr(0,i));let o=s.indexOf("?");o>=0&&(r.search=s.substr(o),s=s.substr(0,o)),s&&(r.pathname=s)}return r}function U0(s,r,i,o){o===void 0&&(o={});let{window:c=document.defaultView,v5Compat:d=!1}=o,m=c.history,h=os.Pop,g=null,v=y();v==null&&(v=0,m.replaceState(Ma({},m.state,{idx:v}),""));function y(){return(m.state||{idx:null}).idx}function x(){h=os.Pop;let j=y(),_=j==null?null:j-v;v=j,g&&g({action:h,location:N.location,delta:_})}function w(j,_){h=os.Push;let C=td(N.location,j,_);v=y()+1;let I=hh(C,v),k=N.createHref(C);try{m.pushState(I,"",k)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;c.location.assign(k)}d&&g&&g({action:h,location:N.location,delta:1})}function T(j,_){h=os.Replace;let C=td(N.location,j,_);v=y();let I=hh(C,v),k=N.createHref(C);m.replaceState(I,"",k),d&&g&&g({action:h,location:N.location,delta:0})}function E(j){let _=c.location.origin!=="null"?c.location.origin:c.location.href,C=typeof j=="string"?j:fl(j);return C=C.replace(/ $/,"%20"),it(_,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,_)}let N={get action(){return h},get location(){return s(c,m)},listen(j){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(fh,x),g=j,()=>{c.removeEventListener(fh,x),g=null}},createHref(j){return r(c,j)},createURL:E,encodeLocation(j){let _=E(j);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:w,replace:T,go(j){return m.go(j)}};return N}var ph;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(ph||(ph={}));function V0(s,r,i){return i===void 0&&(i="/"),B0(s,r,i)}function B0(s,r,i,o){let c=typeof r=="string"?Dr(r):r,d=Rr(c.pathname||"/",i);if(d==null)return null;let m=op(s);W0(m);let h=null;for(let g=0;h==null&&g<m.length;++g){let v=tj(d);h=Z0(m[g],v)}return h}function op(s,r,i,o){r===void 0&&(r=[]),i===void 0&&(i=[]),o===void 0&&(o="");let c=(d,m,h)=>{let g={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};g.relativePath.startsWith("/")&&(it(g.relativePath.startsWith(o),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(o.length));let v=cs([o,g.relativePath]),y=i.concat(g);d.children&&d.children.length>0&&(it(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),op(d.children,r,y,v)),!(d.path==null&&!d.index)&&r.push({path:v,score:X0(v,d.index),routesMeta:y})};return s.forEach((d,m)=>{var h;if(d.path===""||!((h=d.path)!=null&&h.includes("?")))c(d,m);else for(let g of cp(d.path))c(d,m,g)}),r}function cp(s){let r=s.split("/");if(r.length===0)return[];let[i,...o]=r,c=i.endsWith("?"),d=i.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let m=cp(o.join("/")),h=[];return h.push(...m.map(g=>g===""?d:[d,g].join("/"))),c&&h.push(...m),h.map(g=>s.startsWith("/")&&g===""?"/":g)}function W0(s){s.sort((r,i)=>r.score!==i.score?i.score-r.score:Y0(r.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}const H0=/^:[\w-]+$/,q0=3,G0=2,K0=1,Q0=10,J0=-2,xh=s=>s==="*";function X0(s,r){let i=s.split("/"),o=i.length;return i.some(xh)&&(o+=J0),r&&(o+=G0),i.filter(c=>!xh(c)).reduce((c,d)=>c+(H0.test(d)?q0:d===""?K0:Q0),o)}function Y0(s,r){return s.length===r.length&&s.slice(0,-1).every((o,c)=>o===r[c])?s[s.length-1]-r[r.length-1]:0}function Z0(s,r,i){let{routesMeta:o}=s,c={},d="/",m=[];for(let h=0;h<o.length;++h){let g=o[h],v=h===o.length-1,y=d==="/"?r:r.slice(d.length)||"/",x=nd({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},y),w=g.route;if(!x)return null;Object.assign(c,x.params),m.push({params:c,pathname:cs([d,x.pathname]),pathnameBase:aj(cs([d,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(d=cs([d,x.pathnameBase]))}return m}function nd(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,o]=ej(s.path,s.caseSensitive,s.end),c=r.match(i);if(!c)return null;let d=c[0],m=d.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:o.reduce((v,y,x)=>{let{paramName:w,isOptional:T}=y;if(w==="*"){let N=h[x]||"";m=d.slice(0,d.length-N.length).replace(/(.)\/+$/,"$1")}const E=h[x];return T&&!E?v[w]=void 0:v[w]=(E||"").replace(/%2F/g,"/"),v},{}),pathname:d,pathnameBase:m,pattern:s}}function ej(s,r,i){r===void 0&&(r=!1),i===void 0&&(i=!0),lp(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let o=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,g)=>(o.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(o.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),o]}function tj(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return lp(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function Rr(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,o=s.charAt(i);return o&&o!=="/"?null:s.slice(i)||"/"}function nj(s,r){r===void 0&&(r="/");let{pathname:i,search:o="",hash:c=""}=typeof s=="string"?Dr(s):s;return{pathname:i?i.startsWith("/")?i:sj(i,r):r,search:ij(o),hash:lj(c)}}function sj(s,r){let i=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function $c(s,r,i,o){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rj(s){return s.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function Td(s,r){let i=rj(s);return r?i.map((o,c)=>c===i.length-1?o.pathname:o.pathnameBase):i.map(o=>o.pathnameBase)}function Rd(s,r,i,o){o===void 0&&(o=!1);let c;typeof s=="string"?c=Dr(s):(c=Ma({},s),it(!c.pathname||!c.pathname.includes("?"),$c("?","pathname","search",c)),it(!c.pathname||!c.pathname.includes("#"),$c("#","pathname","hash",c)),it(!c.search||!c.search.includes("#"),$c("#","search","hash",c)));let d=s===""||c.pathname==="",m=d?"/":c.pathname,h;if(m==null)h=i;else{let x=r.length-1;if(!o&&m.startsWith("..")){let w=m.split("/");for(;w[0]==="..";)w.shift(),x-=1;c.pathname=w.join("/")}h=x>=0?r[x]:"/"}let g=nj(c,h),v=m&&m!=="/"&&m.endsWith("/"),y=(d||m===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(v||y)&&(g.pathname+="/"),g}const cs=s=>s.join("/").replace(/\/\/+/g,"/"),aj=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),ij=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,lj=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function oj(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const dp=["post","put","patch","delete"];new Set(dp);const cj=["get",...dp];new Set(cj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Da(){return Da=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])}return s},Da.apply(this,arguments)}const Sl=f.createContext(null),up=f.createContext(null),On=f.createContext(null),Cl=f.createContext(null),zn=f.createContext({outlet:null,matches:[],isDataRoute:!1}),mp=f.createContext(null);function dj(s,r){let{relative:i}=r===void 0?{}:r;Or()||it(!1);let{basename:o,navigator:c}=f.useContext(On),{hash:d,pathname:m,search:h}=_l(s,{relative:i}),g=m;return o!=="/"&&(g=m==="/"?o:cs([o,m])),c.createHref({pathname:g,search:h,hash:d})}function Or(){return f.useContext(Cl)!=null}function qs(){return Or()||it(!1),f.useContext(Cl).location}function fp(s){f.useContext(On).static||f.useLayoutEffect(s)}function It(){let{isDataRoute:s}=f.useContext(zn);return s?bj():uj()}function uj(){Or()||it(!1);let s=f.useContext(Sl),{basename:r,future:i,navigator:o}=f.useContext(On),{matches:c}=f.useContext(zn),{pathname:d}=qs(),m=JSON.stringify(Td(c,i.v7_relativeSplatPath)),h=f.useRef(!1);return fp(()=>{h.current=!0}),f.useCallback(function(v,y){if(y===void 0&&(y={}),!h.current)return;if(typeof v=="number"){o.go(v);return}let x=Rd(v,JSON.parse(m),d,y.relative==="path");s==null&&r!=="/"&&(x.pathname=x.pathname==="/"?r:cs([r,x.pathname])),(y.replace?o.replace:o.push)(x,y.state,y)},[r,o,m,d,s])}function Pd(){let{matches:s}=f.useContext(zn),r=s[s.length-1];return r?r.params:{}}function _l(s,r){let{relative:i}=r===void 0?{}:r,{future:o}=f.useContext(On),{matches:c}=f.useContext(zn),{pathname:d}=qs(),m=JSON.stringify(Td(c,o.v7_relativeSplatPath));return f.useMemo(()=>Rd(s,JSON.parse(m),d,i==="path"),[s,m,d,i])}function mj(s,r){return fj(s,r)}function fj(s,r,i,o){Or()||it(!1);let{navigator:c}=f.useContext(On),{matches:d}=f.useContext(zn),m=d[d.length-1],h=m?m.params:{};m&&m.pathname;let g=m?m.pathnameBase:"/";m&&m.route;let v=qs(),y;if(r){var x;let j=typeof r=="string"?Dr(r):r;g==="/"||(x=j.pathname)!=null&&x.startsWith(g)||it(!1),y=j}else y=v;let w=y.pathname||"/",T=w;if(g!=="/"){let j=g.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let E=V0(s,{pathname:T}),N=vj(E&&E.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:cs([g,c.encodeLocation?c.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:cs([g,c.encodeLocation?c.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),d,i,o);return r&&N?f.createElement(Cl.Provider,{value:{location:Da({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:os.Pop}},N):N}function hj(){let s=Nj(),r=oj(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},r),i?f.createElement("pre",{style:c},i):null,null)}const pj=f.createElement(hj,null);class xj extends f.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){console.error("React Router caught the following error during render",r,i)}render(){return this.state.error!==void 0?f.createElement(zn.Provider,{value:this.props.routeContext},f.createElement(mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gj(s){let{routeContext:r,match:i,children:o}=s,c=f.useContext(Sl);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),f.createElement(zn.Provider,{value:r},o)}function vj(s,r,i,o){var c;if(r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s==null){var d;if(!i)return null;if(i.errors)s=i.matches;else if((d=o)!=null&&d.v7_partialHydration&&r.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let m=s,h=(c=i)==null?void 0:c.errors;if(h!=null){let y=m.findIndex(x=>x.route.id&&h?.[x.route.id]!==void 0);y>=0||it(!1),m=m.slice(0,Math.min(m.length,y+1))}let g=!1,v=-1;if(i&&o&&o.v7_partialHydration)for(let y=0;y<m.length;y++){let x=m[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(v=y),x.route.id){let{loaderData:w,errors:T}=i,E=x.route.loader&&w[x.route.id]===void 0&&(!T||T[x.route.id]===void 0);if(x.route.lazy||E){g=!0,v>=0?m=m.slice(0,v+1):m=[m[0]];break}}}return m.reduceRight((y,x,w)=>{let T,E=!1,N=null,j=null;i&&(T=h&&x.route.id?h[x.route.id]:void 0,N=x.route.errorElement||pj,g&&(v<0&&w===0?(Sj("route-fallback"),E=!0,j=null):v===w&&(E=!0,j=x.route.hydrateFallbackElement||null)));let _=r.concat(m.slice(0,w+1)),C=()=>{let I;return T?I=N:E?I=j:x.route.Component?I=f.createElement(x.route.Component,null):x.route.element?I=x.route.element:I=y,f.createElement(gj,{match:x,routeContext:{outlet:y,matches:_,isDataRoute:i!=null},children:I})};return i&&(x.route.ErrorBoundary||x.route.errorElement||w===0)?f.createElement(xj,{location:i.location,revalidation:i.revalidation,component:N,error:T,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}var hp=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(hp||{}),pp=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(pp||{});function yj(s){let r=f.useContext(Sl);return r||it(!1),r}function jj(s){let r=f.useContext(up);return r||it(!1),r}function wj(s){let r=f.useContext(zn);return r||it(!1),r}function xp(s){let r=wj(),i=r.matches[r.matches.length-1];return i.route.id||it(!1),i.route.id}function Nj(){var s;let r=f.useContext(mp),i=jj(),o=xp();return r!==void 0?r:(s=i.errors)==null?void 0:s[o]}function bj(){let{router:s}=yj(hp.UseNavigateStable),r=xp(pp.UseNavigateStable),i=f.useRef(!1);return fp(()=>{i.current=!0}),f.useCallback(function(c,d){d===void 0&&(d={}),i.current&&(typeof c=="number"?s.navigate(c):s.navigate(c,Da({fromRouteId:r},d)))},[s,r])}const gh={};function Sj(s,r,i){gh[s]||(gh[s]=!0)}function Cj(s,r){s?.v7_startTransition,s?.v7_relativeSplatPath}function Sr(s){let{to:r,replace:i,state:o,relative:c}=s;Or()||it(!1);let{future:d,static:m}=f.useContext(On),{matches:h}=f.useContext(zn),{pathname:g}=qs(),v=It(),y=Rd(r,Td(h,d.v7_relativeSplatPath),g,c==="path"),x=JSON.stringify(y);return f.useEffect(()=>v(JSON.parse(x),{replace:i,state:o,relative:c}),[v,x,c,i,o]),null}function Oe(s){it(!1)}function _j(s){let{basename:r="/",children:i=null,location:o,navigationType:c=os.Pop,navigator:d,static:m=!1,future:h}=s;Or()&&it(!1);let g=r.replace(/^\/*/,"/"),v=f.useMemo(()=>({basename:g,navigator:d,static:m,future:Da({v7_relativeSplatPath:!1},h)}),[g,h,d,m]);typeof o=="string"&&(o=Dr(o));let{pathname:y="/",search:x="",hash:w="",state:T=null,key:E="default"}=o,N=f.useMemo(()=>{let j=Rr(y,g);return j==null?null:{location:{pathname:j,search:x,hash:w,state:T,key:E},navigationType:c}},[g,y,x,w,T,E,c]);return N==null?null:f.createElement(On.Provider,{value:v},f.createElement(Cl.Provider,{children:i,value:N}))}function hl(s){let{children:r,location:i}=s;return mj(sd(r),i)}new Promise(()=>{});function sd(s,r){r===void 0&&(r=[]);let i=[];return f.Children.forEach(s,(o,c)=>{if(!f.isValidElement(o))return;let d=[...r,c];if(o.type===f.Fragment){i.push.apply(i,sd(o.props.children,d));return}o.type!==Oe&&it(!1),!o.props.index||!o.props.children||it(!1);let m={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=sd(o.props.children,d)),i.push(m)}),i}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pl(){return pl=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])}return s},pl.apply(this,arguments)}function gp(s,r){if(s==null)return{};var i={},o=Object.keys(s),c,d;for(d=0;d<o.length;d++)c=o[d],!(r.indexOf(c)>=0)&&(i[c]=s[c]);return i}function kj(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Ej(s,r){return s.button===0&&(!r||r==="_self")&&!kj(s)}const Tj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Rj=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Pj="6";try{window.__reactRouterVersion=Pj}catch{}const Ij=f.createContext({isTransitioning:!1}),Aj="startTransition",vh=Ed[Aj];function Lj(s){let{basename:r,children:i,future:o,window:c}=s,d=f.useRef();d.current==null&&(d.current=F0({window:c,v5Compat:!0}));let m=d.current,[h,g]=f.useState({action:m.action,location:m.location}),{v7_startTransition:v}=o||{},y=f.useCallback(x=>{v&&vh?vh(()=>g(x)):g(x)},[g,v]);return f.useLayoutEffect(()=>m.listen(y),[m,y]),f.useEffect(()=>Cj(o),[o]),f.createElement(_j,{basename:r,children:i,location:h.location,navigationType:h.action,navigator:m,future:o})}const Mj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oj=f.forwardRef(function(r,i){let{onClick:o,relative:c,reloadDocument:d,replace:m,state:h,target:g,to:v,preventScrollReset:y,viewTransition:x}=r,w=gp(r,Tj),{basename:T}=f.useContext(On),E,N=!1;if(typeof v=="string"&&Dj.test(v)&&(E=v,Mj))try{let I=new URL(window.location.href),k=v.startsWith("//")?new URL(I.protocol+v):new URL(v),W=Rr(k.pathname,T);k.origin===I.origin&&W!=null?v=W+k.search+k.hash:N=!0}catch{}let j=dj(v,{relative:c}),_=Fj(v,{replace:m,state:h,target:g,preventScrollReset:y,relative:c,viewTransition:x});function C(I){o&&o(I),I.defaultPrevented||_(I)}return f.createElement("a",pl({},w,{href:E||j,onClick:N||d?o:C,ref:i,target:g}))}),xl=f.forwardRef(function(r,i){let{"aria-current":o="page",caseSensitive:c=!1,className:d="",end:m=!1,style:h,to:g,viewTransition:v,children:y}=r,x=gp(r,Rj),w=_l(g,{relative:x.relative}),T=qs(),E=f.useContext(up),{navigator:N,basename:j}=f.useContext(On),_=E!=null&&$j(w)&&v===!0,C=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,I=T.pathname,k=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;c||(I=I.toLowerCase(),k=k?k.toLowerCase():null,C=C.toLowerCase()),k&&j&&(k=Rr(k,j)||k);const W=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let F=I===C||!m&&I.startsWith(C)&&I.charAt(W)==="/",L=k!=null&&(k===C||!m&&k.startsWith(C)&&k.charAt(C.length)==="/"),M={isActive:F,isPending:L,isTransitioning:_},z=F?o:void 0,K;typeof d=="function"?K=d(M):K=[d,F?"active":null,L?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let O=typeof h=="function"?h(M):h;return f.createElement(Oj,pl({},x,{"aria-current":z,className:K,ref:i,style:O,to:g,viewTransition:v}),typeof y=="function"?y(M):y)});var rd;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(rd||(rd={}));var yh;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(yh||(yh={}));function zj(s){let r=f.useContext(Sl);return r||it(!1),r}function Fj(s,r){let{target:i,replace:o,state:c,preventScrollReset:d,relative:m,viewTransition:h}=r===void 0?{}:r,g=It(),v=qs(),y=_l(s,{relative:m});return f.useCallback(x=>{if(Ej(x,i)){x.preventDefault();let w=o!==void 0?o:fl(v)===fl(y);g(s,{replace:w,state:c,preventScrollReset:d,relative:m,viewTransition:h})}},[v,g,y,o,c,i,s,d,m,h])}function $j(s,r){r===void 0&&(r={});let i=f.useContext(Ij);i==null&&it(!1);let{basename:o}=zj(rd.useViewTransitionState),c=_l(s,{relative:r.relative});if(!i.isTransitioning)return!1;let d=Rr(i.currentLocation.pathname,o)||i.currentLocation.pathname,m=Rr(i.nextLocation.pathname,o)||i.nextLocation.pathname;return nd(c.pathname,m)!=null||nd(c.pathname,d)!=null}const Uj="/api";class Vj{baseURL;token=null;constructor(r){this.baseURL=r}setToken(r){this.token=r}clearToken(){this.token=null}async get(r){return this.request(r,{method:"GET"})}async post(r,i){return this.request(r,{method:"POST",body:i?JSON.stringify(i):void 0})}async put(r,i){return this.request(r,{method:"PUT",body:i?JSON.stringify(i):void 0})}async delete(r){return this.request(r,{method:"DELETE"})}async login(r,i){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:r,password:i})})}async request(r,i={}){const o=`${this.baseURL}${r}`,c={"Content-Type":"application/json",...i.headers};this.token&&(c.Authorization=`Bearer ${this.token}`);try{const d=await fetch(o,{...i,headers:c}),m=await d.json();if(!d.ok){d.status===401&&(this.clearToken(),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login");const h=typeof m.error=="string"?m.error:m.error?.message||m.error?.code||JSON.stringify(m.error)||`HTTP ${d.status}`;throw new Error(h)}return m}catch(d){throw console.error("API request failed:",d),d}}async health(){return this.request("/health")}async getTenants(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.search&&i.append("search",r.search),this.request(`/tenants?${i.toString()}`)}async getTenant(r){return this.request(`/tenants/${r}`)}async createTenant(r){return this.request("/tenants",{method:"POST",body:JSON.stringify(r)})}async updateTenant(r,i){return this.request(`/tenants/${r}`,{method:"PUT",body:JSON.stringify(i)})}async deleteTenant(r){return this.request(`/tenants/${r}`,{method:"DELETE"})}async getStores(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.search&&i.append("search",r.search),this.request(`/stores?${i.toString()}`)}async getStore(r){return this.request(`/stores/${r}`)}async createStore(r){return this.request("/stores",{method:"POST",body:JSON.stringify(r)})}async updateStore(r,i){return this.request(`/stores/${r}`,{method:"PUT",body:JSON.stringify(i)})}async deleteStore(r){return this.request(`/stores/${r}`,{method:"DELETE"})}async getExtensions(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/sip-extensions?${i.toString()}`)}async createW3Extension(r){return this.request("/w3-voip/extensions",{method:"POST",body:JSON.stringify(r)})}async getSipTrunks(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/sip-trunks?${i.toString()}`)}async createW3Trunk(r){return this.request("/w3-voip/trunks",{method:"POST",body:JSON.stringify(r)})}async getTimeConditions(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/time-conditions?${i.toString()}`)}async createTimeCondition(r){return this.request("/voip/time-conditions",{method:"POST",body:JSON.stringify(r)})}async getIvrMenus(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/ivr-menus?${i.toString()}`)}async createIvrMenu(r){return this.request("/voip/ivr-menus",{method:"POST",body:JSON.stringify(r)})}async getRingGroups(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/ring-groups?${i.toString()}`)}async createRingGroup(r){return this.request("/voip/ring-groups",{method:"POST",body:JSON.stringify(r)})}async getQueues(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/queues?${i.toString()}`)}async createQueue(r){return this.request("/voip/queues",{method:"POST",body:JSON.stringify(r)})}async getConferenceRooms(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/conference-rooms?${i.toString()}`)}async createConferenceRoom(r){return this.request("/voip/conference-rooms",{method:"POST",body:JSON.stringify(r)})}async getVoicemailBoxes(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/voicemail-boxes?${i.toString()}`)}async createVoicemailBox(r){return this.request("/voip/voicemail-boxes",{method:"POST",body:JSON.stringify(r)})}async getW3Trunks(r){const i=new URLSearchParams;return r?.store_id&&i.append("store_id",r.store_id),this.request(`/w3-voip/trunks?${i.toString()}`)}async getW3Trunk(r){return this.request(`/w3-voip/trunks/${r}`)}async updateW3Trunk(r,i){return this.request(`/w3-voip/trunks/${r}`,{method:"PUT",body:JSON.stringify(i)})}async deleteW3Trunk(r){return this.request(`/w3-voip/trunks/${r}`,{method:"DELETE"})}async getW3Extensions(r){const i=new URLSearchParams;return r?.store_id&&i.append("store_id",r.store_id),this.request(`/w3-voip/extensions?${i.toString()}`)}async getW3Extension(r){return this.request(`/w3-voip/extensions/${r}`)}async updateW3Extension(r,i){return this.request(`/w3-voip/extensions/${r}`,{method:"PUT",body:JSON.stringify(i)})}async deleteW3Extension(r){return this.request(`/w3-voip/extensions/${r}`,{method:"DELETE"})}async getW3Dids(r){const i=new URLSearchParams;return r?.store_id&&i.append("store_id",r.store_id),this.request(`/w3-voip/dids?${i.toString()}`)}async createW3Did(r){return this.request("/w3-voip/dids",{method:"POST",body:JSON.stringify(r)})}async getW3Routes(){return this.request("/w3-voip/routes")}async createW3Route(r){return this.request("/w3-voip/routes",{method:"POST",body:JSON.stringify(r)})}async getW3ContactPolicies(){return this.request("/w3-voip/contact-policies")}async createW3ContactPolicy(r){return this.request("/w3-voip/contact-policies",{method:"POST",body:JSON.stringify(r)})}async getCdrs(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!==void 0&&i.append(o,c.toString())}),this.request(`/cdr?${i.toString()}`)}async getCdrStats(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!==void 0&&i.append(o,c.toString())}),this.request(`/cdr/stats?${i.toString()}`)}async getActivityLogs(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!==void 0&&i.append(o,c.toString())}),this.request(`/cdr-activity/activity-log?${i.toString()}`)}async getActivityStats(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!==void 0&&i.append(o,c.toString())}),this.request(`/cdr-activity/activity-log/stats?${i.toString()}`)}async getExtension(r){return this.request(`/extensions/${r}`)}async createExtension(r){return this.request("/extensions",{method:"POST",body:JSON.stringify(r)})}async updateExtension(r,i){return this.request(`/extensions/${r}`,{method:"PUT",body:JSON.stringify(i)})}async deleteExtension(r){return this.request(`/extensions/${r}`,{method:"DELETE"})}async getUsers(){return this.request("/users")}async createUser(r){return this.request("/users",{method:"POST",body:JSON.stringify(r)})}async updateUser(r,i){return this.request(`/users/${r}`,{method:"PATCH",body:JSON.stringify(i)})}async deleteUser(r){return this.request(`/users/${r}`,{method:"DELETE"})}async getCDR(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!=null&&i.append(o,c.toString())}),this.request(`/cdr?${i.toString()}`)}async getCDRStats(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!=null&&i.append(o,c.toString())}),this.request(`/cdr/stats?${i.toString()}`)}async exportCDR(r,i){const o=new URLSearchParams;return Object.entries(i||{}).forEach(([c,d])=>{d!=null&&o.append(c,d.toString())}),this.request(`/cdr/export/${r}?${o.toString()}`)}async getCallStatus(){return this.request("/calls/status")}async originateCall(r){return this.request("/calls/originate",{method:"POST",body:JSON.stringify(r)})}async transferCall(r){return this.request("/calls/transfer",{method:"POST",body:JSON.stringify(r)})}async hangupCall(r){return this.request("/calls/hangup",{method:"POST",body:JSON.stringify(r)})}async holdCall(r){return this.request("/calls/hold",{method:"POST",body:JSON.stringify(r)})}async muteCall(r){return this.request("/calls/mute",{method:"POST",body:JSON.stringify(r)})}async recordCall(r){return this.request("/calls/record",{method:"POST",body:JSON.stringify(r)})}async getCallInfo(r){return this.request(`/calls/info/${r}`)}async getCrossTenantStats(){return this.request("/tenants/stats")}async getTenantStatsList(){return this.request("/tenants/stats-list")}async createTenantWithCompanies(r){return this.request("/tenants",{method:"POST",body:JSON.stringify(r)})}async getTenantWithDetails(r){return this.request(`/tenants/${r}`)}async updateTenantWithDetails(r,i){return this.request(`/tenants/${r}`,{method:"PUT",body:JSON.stringify(i)})}async activateTenant(r){return this.request(`/tenants/${r}/activate`,{method:"POST"})}async suspendTenant(r){return this.request(`/tenants/${r}/suspend`,{method:"POST"})}async impersonateUser(r,i){return this.request(`/tenants/${r}/impersonate`,{method:"POST",body:JSON.stringify({userId:i})})}async getCrossTenantCalls(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!==void 0&&i.append(o,c.toString())}),this.request(`/analytics/cross-tenant/calls?${i.toString()}`)}async getCrossTenantExtensions(){return this.request("/analytics/cross-tenant/extensions")}async getCrossTenantLiveCalls(){return this.request("/analytics/cross-tenant/live-calls")}async getCrossTenantUsers(){return this.request("/analytics/cross-tenant/users")}async getCrossTenantCompanies(){return this.request("/analytics/cross-tenant/companies")}async getCrossTenantSummary(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!==void 0&&i.append(o,c.toString())}),this.request(`/analytics/cross-tenant/summary?${i.toString()}`)}originalToken=null;startImpersonation(r){this.originalToken=this.token,this.token=r}exitImpersonation(){this.originalToken&&(this.token=this.originalToken,this.originalToken=null)}isImpersonating(){return this.originalToken!==null}}const xe=new Vj(Uj);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ge=(s,r)=>{const i=f.forwardRef(({color:o="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:m,className:h="",children:g,...v},y)=>f.createElement("svg",{ref:y,...Bj,width:c,height:c,stroke:o,strokeWidth:m?Number(d)*24/Number(c):d,className:["lucide",`lucide-${Wj(s)}`,h].join(" "),...v},[...r.map(([x,w])=>f.createElement(x,w)),...Array.isArray(g)?g:[g]]));return i.displayName=`${s}`,i};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=ge("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=ge("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=ge("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=ge("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=ge("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=ge("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=ge("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=ge("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=ge("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=ge("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ge("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=ge("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=ge("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=ge("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=ge("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=ge("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=ge("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=ge("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=ge("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=ge("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=ge("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=ge("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ge("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ge("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=ge("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=ge("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ge("PhoneOutgoing",[["polyline",{points:"22 8 22 2 16 2",key:"1g204g"}],["line",{x1:"16",x2:"22",y1:"8",y2:"2",key:"1ggias"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=ge("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ge("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=ge("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=ge("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ge("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ge("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ge("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ge("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=ge("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ge("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=ge("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=ge("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=ge("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=ge("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function fw({expiresAt:s,onLogout:r}){const[i,o]=f.useState(0),[c,d]=f.useState(!1);f.useEffect(()=>{const h=()=>{const v=Date.now(),y=Math.max(0,s-v);o(y),y<=12e4&&y>0?d(!0):y===0&&r()};h();const g=setInterval(h,1e3);return()=>clearInterval(g)},[s,r]);const m=h=>{const g=Math.floor(h/6e4),v=Math.floor(h%(1e3*60)/1e3);return`${g}:${v.toString().padStart(2,"0")}`};return!c||i===0?null:e.jsx("div",{className:"fixed top-4 right-4 z-50 bg-yellow-50 border border-yellow-200 rounded-lg p-4 shadow-lg max-w-sm",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(vp,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Sessione in scadenza"}),e.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["La tua sessione scadrà tra"," ",e.jsx("span",{className:"font-mono font-semibold",children:m(i)})]}),e.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[e.jsx(un,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"text-xs text-yellow-600",children:"Fai login per continuare"})]})]}),e.jsx("button",{onClick:r,className:"text-yellow-600 hover:text-yellow-800 text-sm font-medium",children:"Esci"})]})})}const Rp=f.createContext(void 0);function hw({children:s}){const[r,i]=f.useState({user:null,token:null,isAuthenticated:!1,isLoading:!0}),o=It();qs(),f.useEffect(()=>{const g=localStorage.getItem("token"),v=localStorage.getItem("user");if(g&&v)try{if(g.split(".").length!==3)throw new Error("Invalid token format");const y=JSON.parse(v),x=JSON.parse(atob(g.split(".")[1]));x.exp&&x.exp*1e3<Date.now()?(localStorage.removeItem("token"),localStorage.removeItem("user"),xe.clearToken(),i({user:null,token:null,isAuthenticated:!1,isLoading:!1})):(xe.setToken(g),i({user:y,token:g,isAuthenticated:!0,isLoading:!1}))}catch(y){console.error("Invalid token:",y),localStorage.removeItem("token"),localStorage.removeItem("user"),xe.clearToken(),i({user:null,token:null,isAuthenticated:!1,isLoading:!1})}else xe.clearToken(),i({user:null,token:null,isAuthenticated:!1,isLoading:!1})},[]),f.useEffect(()=>{r.token?xe.setToken(r.token):xe.clearToken()},[r.token]),f.useEffect(()=>{if(!r.isAuthenticated||!r.token)return;const g=()=>{try{const y=JSON.parse(atob(r.token.split(".")[1])),x=Date.now(),w=y.exp*1e3,T=900*1e3;(w<x||y.iat*1e3+T<x)&&(console.log("Session expired - logging out"),d(),o("/login"))}catch(y){console.error("Error checking token expiry:",y),d(),o("/login")}};g();const v=setInterval(g,60*1e3);return()=>clearInterval(v)},[r.isAuthenticated,r.token,o]);const c=async g=>{try{if(!g||typeof g!="string"||g.split(".").length!==3)throw new Error("Invalid token format");const v=JSON.parse(atob(g.split(".")[1])),y={id:v.id||v.userId,email:v.email,firstName:v.firstName||"",lastName:v.lastName||"",tenantId:v.tenant_id||v.tenantId,tenantSlug:v.role==="super_admin"?"edgvoip":v.tenant_slug||v.tenantSlug,role:v.role,iat:v.iat,exp:v.exp};localStorage.setItem("token",g),localStorage.setItem("user",JSON.stringify(y)),xe.setToken(g),i({user:y,token:g,isAuthenticated:!0,isLoading:!1})}catch(v){throw console.error("Invalid token:",v),localStorage.removeItem("token"),localStorage.removeItem("user"),xe.clearToken(),new Error("Invalid token")}},d=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),xe.clearToken(),i({user:null,token:null,isAuthenticated:!1,isLoading:!1})},m=async()=>{if(!r.token)return!1;try{if(r.token.split(".").length!==3)return d(),!1;const g=JSON.parse(atob(r.token.split(".")[1]));return g.exp&&g.exp*1e3<Date.now()?(d(),!1):!0}catch(g){return console.error("Token refresh failed:",g),d(),!1}},h=()=>{if(!r.token)return 0;try{return JSON.parse(atob(r.token.split(".")[1])).iat*1e3+900*1e3}catch{return 0}};return e.jsxs(Rp.Provider,{value:{...r,login:c,logout:d,refreshToken:m},children:[s,r.isAuthenticated&&e.jsx(fw,{expiresAt:h(),onLogout:()=>{d(),o("/login")}})]})}function xt(){const s=f.useContext(Rp);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}function Le(s,r,{checkForDefaultPrevented:i=!0}={}){return function(c){if(s?.(c),i===!1||!c.defaultPrevented)return r?.(c)}}function _h(s,r){if(typeof s=="function")return s(r);s!=null&&(s.current=r)}function Pp(...s){return r=>{let i=!1;const o=s.map(c=>{const d=_h(c,r);return!i&&typeof d=="function"&&(i=!0),d});if(i)return()=>{for(let c=0;c<o.length;c++){const d=o[c];typeof d=="function"?d():_h(s[c],null)}}}}function Ye(...s){return f.useCallback(Pp(...s),s)}function pw(s,r){const i=f.createContext(r),o=d=>{const{children:m,...h}=d,g=f.useMemo(()=>h,Object.values(h));return e.jsx(i.Provider,{value:g,children:m})};o.displayName=s+"Provider";function c(d){const m=f.useContext(i);if(m)return m;if(r!==void 0)return r;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[o,c]}function Fn(s,r=[]){let i=[];function o(d,m){const h=f.createContext(m),g=i.length;i=[...i,m];const v=x=>{const{scope:w,children:T,...E}=x,N=w?.[s]?.[g]||h,j=f.useMemo(()=>E,Object.values(E));return e.jsx(N.Provider,{value:j,children:T})};v.displayName=d+"Provider";function y(x,w){const T=w?.[s]?.[g]||h,E=f.useContext(T);if(E)return E;if(m!==void 0)return m;throw new Error(`\`${x}\` must be used within \`${d}\``)}return[v,y]}const c=()=>{const d=i.map(m=>f.createContext(m));return function(h){const g=h?.[s]||d;return f.useMemo(()=>({[`__scope${s}`]:{...h,[s]:g}}),[h,g])}};return c.scopeName=s,[o,xw(c,...r)]}function xw(...s){const r=s[0];if(s.length===1)return r;const i=()=>{const o=s.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const m=o.reduce((h,{useScope:g,scopeName:v})=>{const x=g(d)[`__scope${v}`];return{...h,...x}},{});return f.useMemo(()=>({[`__scope${r.scopeName}`]:m}),[m])}};return i.scopeName=r.scopeName,i}function Ar(s){const r=vw(s),i=f.forwardRef((o,c)=>{const{children:d,...m}=o,h=f.Children.toArray(d),g=h.find(jw);if(g){const v=g.props.children,y=h.map(x=>x===g?f.Children.count(v)>1?f.Children.only(null):f.isValidElement(v)?v.props.children:null:x);return e.jsx(r,{...m,ref:c,children:f.isValidElement(v)?f.cloneElement(v,void 0,y):null})}return e.jsx(r,{...m,ref:c,children:d})});return i.displayName=`${s}.Slot`,i}var gw=Ar("Slot");function vw(s){const r=f.forwardRef((i,o)=>{const{children:c,...d}=i;if(f.isValidElement(c)){const m=Nw(c),h=ww(d,c.props);return c.type!==f.Fragment&&(h.ref=o?Pp(o,m):m),f.cloneElement(c,h)}return f.Children.count(c)>1?f.Children.only(null):null});return r.displayName=`${s}.SlotClone`,r}var yw=Symbol("radix.slottable");function jw(s){return f.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===yw}function ww(s,r){const i={...r};for(const o in r){const c=s[o],d=r[o];/^on[A-Z]/.test(o)?c&&d?i[o]=(...h)=>{const g=d(...h);return c(...h),g}:c&&(i[o]=c):o==="style"?i[o]={...c,...d}:o==="className"&&(i[o]=[c,d].filter(Boolean).join(" "))}return{...s,...i}}function Nw(s){let r=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=Object.getOwnPropertyDescriptor(s,"ref")?.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}function Fd(s){const r=s+"CollectionProvider",[i,o]=Fn(r),[c,d]=i(r,{collectionRef:{current:null},itemMap:new Map}),m=N=>{const{scope:j,children:_}=N,C=dn.useRef(null),I=dn.useRef(new Map).current;return e.jsx(c,{scope:j,itemMap:I,collectionRef:C,children:_})};m.displayName=r;const h=s+"CollectionSlot",g=Ar(h),v=dn.forwardRef((N,j)=>{const{scope:_,children:C}=N,I=d(h,_),k=Ye(j,I.collectionRef);return e.jsx(g,{ref:k,children:C})});v.displayName=h;const y=s+"CollectionItemSlot",x="data-radix-collection-item",w=Ar(y),T=dn.forwardRef((N,j)=>{const{scope:_,children:C,...I}=N,k=dn.useRef(null),W=Ye(j,k),F=d(y,_);return dn.useEffect(()=>(F.itemMap.set(k,{ref:k,...I}),()=>void F.itemMap.delete(k))),e.jsx(w,{[x]:"",ref:W,children:C})});T.displayName=y;function E(N){const j=d(s+"CollectionConsumer",N);return dn.useCallback(()=>{const C=j.collectionRef.current;if(!C)return[];const I=Array.from(C.querySelectorAll(`[${x}]`));return Array.from(j.itemMap.values()).sort((F,L)=>I.indexOf(F.ref.current)-I.indexOf(L.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:m,Slot:v,ItemSlot:T},E,o]}var bw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=bw.reduce((s,r)=>{const i=Ar(`Primitive.${r}`),o=f.forwardRef((c,d)=>{const{asChild:m,...h}=c,g=m?i:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(g,{...h,ref:d})});return o.displayName=`Primitive.${r}`,{...s,[r]:o}},{});function Ip(s,r){s&&Mr.flushSync(()=>s.dispatchEvent(r))}function Xt(s){const r=f.useRef(s);return f.useEffect(()=>{r.current=s}),f.useMemo(()=>(...i)=>r.current?.(...i),[])}function Sw(s,r=globalThis?.document){const i=Xt(s);f.useEffect(()=>{const o=c=>{c.key==="Escape"&&i(c)};return r.addEventListener("keydown",o,{capture:!0}),()=>r.removeEventListener("keydown",o,{capture:!0})},[i,r])}var Cw="DismissableLayer",dd="dismissableLayer.update",_w="dismissableLayer.pointerDownOutside",kw="dismissableLayer.focusOutside",kh,Ap=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),El=f.forwardRef((s,r)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:m,onDismiss:h,...g}=s,v=f.useContext(Ap),[y,x]=f.useState(null),w=y?.ownerDocument??globalThis?.document,[,T]=f.useState({}),E=Ye(r,L=>x(L)),N=Array.from(v.layers),[j]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),_=N.indexOf(j),C=y?N.indexOf(y):-1,I=v.layersWithOutsidePointerEventsDisabled.size>0,k=C>=_,W=Tw(L=>{const M=L.target,z=[...v.branches].some(K=>K.contains(M));!k||z||(c?.(L),m?.(L),L.defaultPrevented||h?.())},w),F=Rw(L=>{const M=L.target;[...v.branches].some(K=>K.contains(M))||(d?.(L),m?.(L),L.defaultPrevented||h?.())},w);return Sw(L=>{C===v.layers.size-1&&(o?.(L),!L.defaultPrevented&&h&&(L.preventDefault(),h()))},w),f.useEffect(()=>{if(y)return i&&(v.layersWithOutsidePointerEventsDisabled.size===0&&(kh=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(y)),v.layers.add(y),Eh(),()=>{i&&v.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=kh)}},[y,w,i,v]),f.useEffect(()=>()=>{y&&(v.layers.delete(y),v.layersWithOutsidePointerEventsDisabled.delete(y),Eh())},[y,v]),f.useEffect(()=>{const L=()=>T({});return document.addEventListener(dd,L),()=>document.removeEventListener(dd,L)},[]),e.jsx(Me.div,{...g,ref:E,style:{pointerEvents:I?k?"auto":"none":void 0,...s.style},onFocusCapture:Le(s.onFocusCapture,F.onFocusCapture),onBlurCapture:Le(s.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Le(s.onPointerDownCapture,W.onPointerDownCapture)})});El.displayName=Cw;var Ew="DismissableLayerBranch",Lp=f.forwardRef((s,r)=>{const i=f.useContext(Ap),o=f.useRef(null),c=Ye(r,o);return f.useEffect(()=>{const d=o.current;if(d)return i.branches.add(d),()=>{i.branches.delete(d)}},[i.branches]),e.jsx(Me.div,{...s,ref:c})});Lp.displayName=Ew;function Tw(s,r=globalThis?.document){const i=Xt(s),o=f.useRef(!1),c=f.useRef(()=>{});return f.useEffect(()=>{const d=h=>{if(h.target&&!o.current){let g=function(){Mp(_w,i,v,{discrete:!0})};const v={originalEvent:h};h.pointerType==="touch"?(r.removeEventListener("click",c.current),c.current=g,r.addEventListener("click",c.current,{once:!0})):g()}else r.removeEventListener("click",c.current);o.current=!1},m=window.setTimeout(()=>{r.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(m),r.removeEventListener("pointerdown",d),r.removeEventListener("click",c.current)}},[r,i]),{onPointerDownCapture:()=>o.current=!0}}function Rw(s,r=globalThis?.document){const i=Xt(s),o=f.useRef(!1);return f.useEffect(()=>{const c=d=>{d.target&&!o.current&&Mp(kw,i,{originalEvent:d},{discrete:!1})};return r.addEventListener("focusin",c),()=>r.removeEventListener("focusin",c)},[r,i]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Eh(){const s=new CustomEvent(dd);document.dispatchEvent(s)}function Mp(s,r,i,{discrete:o}){const c=i.originalEvent.target,d=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:i});r&&c.addEventListener(s,r,{once:!0}),o?Ip(c,d):c.dispatchEvent(d)}var Pw=El,Iw=Lp,Nt=globalThis?.document?f.useLayoutEffect:()=>{},Aw="Portal",Tl=f.forwardRef((s,r)=>{const{container:i,...o}=s,[c,d]=f.useState(!1);Nt(()=>d(!0),[]);const m=i||c&&globalThis?.document?.body;return m?z0.createPortal(e.jsx(Me.div,{...o,ref:r}),m):null});Tl.displayName=Aw;function Lw(s,r){return f.useReducer((i,o)=>r[i][o]??i,s)}var Gs=s=>{const{present:r,children:i}=s,o=Mw(r),c=typeof i=="function"?i({present:o.isPresent}):f.Children.only(i),d=Ye(o.ref,Dw(c));return typeof i=="function"||o.isPresent?f.cloneElement(c,{ref:d}):null};Gs.displayName="Presence";function Mw(s){const[r,i]=f.useState(),o=f.useRef(null),c=f.useRef(s),d=f.useRef("none"),m=s?"mounted":"unmounted",[h,g]=Lw(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const v=tl(o.current);d.current=h==="mounted"?v:"none"},[h]),Nt(()=>{const v=o.current,y=c.current;if(y!==s){const w=d.current,T=tl(v);s?g("MOUNT"):T==="none"||v?.display==="none"?g("UNMOUNT"):g(y&&w!==T?"ANIMATION_OUT":"UNMOUNT"),c.current=s}},[s,g]),Nt(()=>{if(r){let v;const y=r.ownerDocument.defaultView??window,x=T=>{const N=tl(o.current).includes(CSS.escape(T.animationName));if(T.target===r&&N&&(g("ANIMATION_END"),!c.current)){const j=r.style.animationFillMode;r.style.animationFillMode="forwards",v=y.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=j)})}},w=T=>{T.target===r&&(d.current=tl(o.current))};return r.addEventListener("animationstart",w),r.addEventListener("animationcancel",x),r.addEventListener("animationend",x),()=>{y.clearTimeout(v),r.removeEventListener("animationstart",w),r.removeEventListener("animationcancel",x),r.removeEventListener("animationend",x)}}else g("ANIMATION_END")},[r,g]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:f.useCallback(v=>{o.current=v?getComputedStyle(v):null,i(v)},[])}}function tl(s){return s?.animationName||"none"}function Dw(s){let r=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=Object.getOwnPropertyDescriptor(s,"ref")?.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}var Ow=Ed[" useInsertionEffect ".trim().toString()]||Nt;function gs({prop:s,defaultProp:r,onChange:i=()=>{},caller:o}){const[c,d,m]=zw({defaultProp:r,onChange:i}),h=s!==void 0,g=h?s:c;{const y=f.useRef(s!==void 0);f.useEffect(()=>{const x=y.current;x!==h&&console.warn(`${o} is changing from ${x?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,o])}const v=f.useCallback(y=>{if(h){const x=Fw(y)?y(s):y;x!==s&&m.current?.(x)}else d(y)},[h,s,d,m]);return[g,v]}function zw({defaultProp:s,onChange:r}){const[i,o]=f.useState(s),c=f.useRef(i),d=f.useRef(r);return Ow(()=>{d.current=r},[r]),f.useEffect(()=>{c.current!==i&&(d.current?.(i),c.current=i)},[i,c]),[i,o,d]}function Fw(s){return typeof s=="function"}var Dp=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$w="VisuallyHidden",$d=f.forwardRef((s,r)=>e.jsx(Me.span,{...s,ref:r,style:{...Dp,...s.style}}));$d.displayName=$w;var Ud="ToastProvider",[Vd,Uw,Vw]=Fd("Toast"),[Op]=Fn("Toast",[Vw]),[Bw,Rl]=Op(Ud),zp=s=>{const{__scopeToast:r,label:i="Notification",duration:o=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:m}=s,[h,g]=f.useState(null),[v,y]=f.useState(0),x=f.useRef(!1),w=f.useRef(!1);return i.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ud}\`. Expected non-empty \`string\`.`),e.jsx(Vd.Provider,{scope:r,children:e.jsx(Bw,{scope:r,label:i,duration:o,swipeDirection:c,swipeThreshold:d,toastCount:v,viewport:h,onViewportChange:g,onToastAdd:f.useCallback(()=>y(T=>T+1),[]),onToastRemove:f.useCallback(()=>y(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:w,children:m})})};zp.displayName=Ud;var Fp="ToastViewport",Ww=["F8"],ud="toast.viewportPause",md="toast.viewportResume",$p=f.forwardRef((s,r)=>{const{__scopeToast:i,hotkey:o=Ww,label:c="Notifications ({hotkey})",...d}=s,m=Rl(Fp,i),h=Uw(i),g=f.useRef(null),v=f.useRef(null),y=f.useRef(null),x=f.useRef(null),w=Ye(r,x,m.onViewportChange),T=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=m.toastCount>0;f.useEffect(()=>{const j=_=>{o.length!==0&&o.every(I=>_[I]||_.code===I)&&x.current?.focus()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[o]),f.useEffect(()=>{const j=g.current,_=x.current;if(E&&j&&_){const C=()=>{if(!m.isClosePausedRef.current){const F=new CustomEvent(ud);_.dispatchEvent(F),m.isClosePausedRef.current=!0}},I=()=>{if(m.isClosePausedRef.current){const F=new CustomEvent(md);_.dispatchEvent(F),m.isClosePausedRef.current=!1}},k=F=>{!j.contains(F.relatedTarget)&&I()},W=()=>{j.contains(document.activeElement)||I()};return j.addEventListener("focusin",C),j.addEventListener("focusout",k),j.addEventListener("pointermove",C),j.addEventListener("pointerleave",W),window.addEventListener("blur",C),window.addEventListener("focus",I),()=>{j.removeEventListener("focusin",C),j.removeEventListener("focusout",k),j.removeEventListener("pointermove",C),j.removeEventListener("pointerleave",W),window.removeEventListener("blur",C),window.removeEventListener("focus",I)}}},[E,m.isClosePausedRef]);const N=f.useCallback(({tabbingDirection:j})=>{const C=h().map(I=>{const k=I.ref.current,W=[k,...sN(k)];return j==="forwards"?W:W.reverse()});return(j==="forwards"?C.reverse():C).flat()},[h]);return f.useEffect(()=>{const j=x.current;if(j){const _=C=>{const I=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!I){const W=document.activeElement,F=C.shiftKey;if(C.target===j&&F){v.current?.focus();return}const z=N({tabbingDirection:F?"backwards":"forwards"}),K=z.findIndex(O=>O===W);Uc(z.slice(K+1))?C.preventDefault():F?v.current?.focus():y.current?.focus()}};return j.addEventListener("keydown",_),()=>j.removeEventListener("keydown",_)}},[h,N]),e.jsxs(Iw,{ref:g,role:"region","aria-label":c.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&e.jsx(fd,{ref:v,onFocusFromOutsideViewport:()=>{const j=N({tabbingDirection:"forwards"});Uc(j)}}),e.jsx(Vd.Slot,{scope:i,children:e.jsx(Me.ol,{tabIndex:-1,...d,ref:w})}),E&&e.jsx(fd,{ref:y,onFocusFromOutsideViewport:()=>{const j=N({tabbingDirection:"backwards"});Uc(j)}})]})});$p.displayName=Fp;var Up="ToastFocusProxy",fd=f.forwardRef((s,r)=>{const{__scopeToast:i,onFocusFromOutsideViewport:o,...c}=s,d=Rl(Up,i);return e.jsx($d,{tabIndex:0,...c,ref:r,style:{position:"fixed"},onFocus:m=>{const h=m.relatedTarget;!d.viewport?.contains(h)&&o()}})});fd.displayName=Up;var Ua="Toast",Hw="toast.swipeStart",qw="toast.swipeMove",Gw="toast.swipeCancel",Kw="toast.swipeEnd",Vp=f.forwardRef((s,r)=>{const{forceMount:i,open:o,defaultOpen:c,onOpenChange:d,...m}=s,[h,g]=gs({prop:o,defaultProp:c??!0,onChange:d,caller:Ua});return e.jsx(Gs,{present:i||h,children:e.jsx(Xw,{open:h,...m,ref:r,onClose:()=>g(!1),onPause:Xt(s.onPause),onResume:Xt(s.onResume),onSwipeStart:Le(s.onSwipeStart,v=>{v.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(s.onSwipeMove,v=>{const{x:y,y:x}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","move"),v.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:Le(s.onSwipeCancel,v=>{v.currentTarget.setAttribute("data-swipe","cancel"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(s.onSwipeEnd,v=>{const{x:y,y:x}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","end"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),g(!1)})})})});Vp.displayName=Ua;var[Qw,Jw]=Op(Ua,{onClose(){}}),Xw=f.forwardRef((s,r)=>{const{__scopeToast:i,type:o="foreground",duration:c,open:d,onClose:m,onEscapeKeyDown:h,onPause:g,onResume:v,onSwipeStart:y,onSwipeMove:x,onSwipeCancel:w,onSwipeEnd:T,...E}=s,N=Rl(Ua,i),[j,_]=f.useState(null),C=Ye(r,S=>_(S)),I=f.useRef(null),k=f.useRef(null),W=c||N.duration,F=f.useRef(0),L=f.useRef(W),M=f.useRef(0),{onToastAdd:z,onToastRemove:K}=N,O=Xt(()=>{j?.contains(document.activeElement)&&N.viewport?.focus(),m()}),V=f.useCallback(S=>{!S||S===1/0||(window.clearTimeout(M.current),F.current=new Date().getTime(),M.current=window.setTimeout(O,S))},[O]);f.useEffect(()=>{const S=N.viewport;if(S){const ee=()=>{V(L.current),v?.()},re=()=>{const fe=new Date().getTime()-F.current;L.current=L.current-fe,window.clearTimeout(M.current),g?.()};return S.addEventListener(ud,re),S.addEventListener(md,ee),()=>{S.removeEventListener(ud,re),S.removeEventListener(md,ee)}}},[N.viewport,W,g,v,V]),f.useEffect(()=>{d&&!N.isClosePausedRef.current&&V(W)},[d,W,N.isClosePausedRef,V]),f.useEffect(()=>(z(),()=>K()),[z,K]);const R=f.useMemo(()=>j?Qp(j):null,[j]);return N.viewport?e.jsxs(e.Fragment,{children:[R&&e.jsx(Yw,{__scopeToast:i,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:R}),e.jsx(Qw,{scope:i,onClose:O,children:Mr.createPortal(e.jsx(Vd.ItemSlot,{scope:i,children:e.jsx(Pw,{asChild:!0,onEscapeKeyDown:Le(h,()=>{N.isFocusedToastEscapeKeyDownRef.current||O(),N.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Me.li,{tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":N.swipeDirection,...E,ref:C,style:{userSelect:"none",touchAction:"none",...s.style},onKeyDown:Le(s.onKeyDown,S=>{S.key==="Escape"&&(h?.(S.nativeEvent),S.nativeEvent.defaultPrevented||(N.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Le(s.onPointerDown,S=>{S.button===0&&(I.current={x:S.clientX,y:S.clientY})}),onPointerMove:Le(s.onPointerMove,S=>{if(!I.current)return;const ee=S.clientX-I.current.x,re=S.clientY-I.current.y,fe=!!k.current,A=["left","right"].includes(N.swipeDirection),J=["left","up"].includes(N.swipeDirection)?Math.min:Math.max,ce=A?J(0,ee):0,$=A?0:J(0,re),se=S.pointerType==="touch"?10:2,_e={x:ce,y:$},Y={originalEvent:S,delta:_e};fe?(k.current=_e,nl(qw,x,Y,{discrete:!1})):Th(_e,N.swipeDirection,se)?(k.current=_e,nl(Hw,y,Y,{discrete:!1}),S.target.setPointerCapture(S.pointerId)):(Math.abs(ee)>se||Math.abs(re)>se)&&(I.current=null)}),onPointerUp:Le(s.onPointerUp,S=>{const ee=k.current,re=S.target;if(re.hasPointerCapture(S.pointerId)&&re.releasePointerCapture(S.pointerId),k.current=null,I.current=null,ee){const fe=S.currentTarget,A={originalEvent:S,delta:ee};Th(ee,N.swipeDirection,N.swipeThreshold)?nl(Kw,T,A,{discrete:!0}):nl(Gw,w,A,{discrete:!0}),fe.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),N.viewport)})]}):null}),Yw=s=>{const{__scopeToast:r,children:i,...o}=s,c=Rl(Ua,r),[d,m]=f.useState(!1),[h,g]=f.useState(!1);return tN(()=>m(!0)),f.useEffect(()=>{const v=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(v)},[]),h?null:e.jsx(Tl,{asChild:!0,children:e.jsx($d,{...o,children:d&&e.jsxs(e.Fragment,{children:[c.label," ",i]})})})},Zw="ToastTitle",Bp=f.forwardRef((s,r)=>{const{__scopeToast:i,...o}=s;return e.jsx(Me.div,{...o,ref:r})});Bp.displayName=Zw;var eN="ToastDescription",Wp=f.forwardRef((s,r)=>{const{__scopeToast:i,...o}=s;return e.jsx(Me.div,{...o,ref:r})});Wp.displayName=eN;var Hp="ToastAction",qp=f.forwardRef((s,r)=>{const{altText:i,...o}=s;return i.trim()?e.jsx(Kp,{altText:i,asChild:!0,children:e.jsx(Bd,{...o,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${Hp}\`. Expected non-empty \`string\`.`),null)});qp.displayName=Hp;var Gp="ToastClose",Bd=f.forwardRef((s,r)=>{const{__scopeToast:i,...o}=s,c=Jw(Gp,i);return e.jsx(Kp,{asChild:!0,children:e.jsx(Me.button,{type:"button",...o,ref:r,onClick:Le(s.onClick,c.onClose)})})});Bd.displayName=Gp;var Kp=f.forwardRef((s,r)=>{const{__scopeToast:i,altText:o,...c}=s;return e.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...c,ref:r})});function Qp(s){const r=[];return Array.from(s.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&r.push(o.textContent),nN(o)){const c=o.ariaHidden||o.hidden||o.style.display==="none",d=o.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const m=o.dataset.radixToastAnnounceAlt;m&&r.push(m)}else r.push(...Qp(o))}}),r}function nl(s,r,i,{discrete:o}){const c=i.originalEvent.currentTarget,d=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:i});r&&c.addEventListener(s,r,{once:!0}),o?Ip(c,d):c.dispatchEvent(d)}var Th=(s,r,i=0)=>{const o=Math.abs(s.x),c=Math.abs(s.y),d=o>c;return r==="left"||r==="right"?d&&o>i:!d&&c>i};function tN(s=()=>{}){const r=Xt(s);Nt(()=>{let i=0,o=0;return i=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(i),window.cancelAnimationFrame(o)}},[r])}function nN(s){return s.nodeType===s.ELEMENT_NODE}function sN(s){const r=[],i=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const c=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||c?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)r.push(i.currentNode);return r}function Uc(s){const r=document.activeElement;return s.some(i=>i===r?!0:(i.focus(),document.activeElement!==r))}var rN=zp,Jp=$p,Xp=Vp,Yp=Bp,Zp=Wp,ex=qp,tx=Bd;function nx(s){var r,i,o="";if(typeof s=="string"||typeof s=="number")o+=s;else if(typeof s=="object")if(Array.isArray(s)){var c=s.length;for(r=0;r<c;r++)s[r]&&(i=nx(s[r]))&&(o&&(o+=" "),o+=i)}else for(i in s)s[i]&&(o&&(o+=" "),o+=i);return o}function sx(){for(var s,r,i=0,o="",c=arguments.length;i<c;i++)(s=arguments[i])&&(r=nx(s))&&(o&&(o+=" "),o+=r);return o}const Rh=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Ph=sx,Va=(s,r)=>i=>{var o;if(r?.variants==null)return Ph(s,i?.class,i?.className);const{variants:c,defaultVariants:d}=r,m=Object.keys(c).map(v=>{const y=i?.[v],x=d?.[v];if(y===null)return null;const w=Rh(y)||Rh(x);return c[v][w]}),h=i&&Object.entries(i).reduce((v,y)=>{let[x,w]=y;return w===void 0||(v[x]=w),v},{}),g=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((v,y)=>{let{class:x,className:w,...T}=y;return Object.entries(T).every(E=>{let[N,j]=E;return Array.isArray(j)?j.includes({...d,...h}[N]):{...d,...h}[N]===j})?[...v,x,w]:v},[]);return Ph(s,m,g,i?.class,i?.className)},Wd="-",aN=s=>{const r=lN(s),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=s;return{getClassGroupId:m=>{const h=m.split(Wd);return h[0]===""&&h.length!==1&&h.shift(),rx(h,r)||iN(m)},getConflictingClassGroupIds:(m,h)=>{const g=i[m]||[];return h&&o[m]?[...g,...o[m]]:g}}},rx=(s,r)=>{if(s.length===0)return r.classGroupId;const i=s[0],o=r.nextPart.get(i),c=o?rx(s.slice(1),o):void 0;if(c)return c;if(r.validators.length===0)return;const d=s.join(Wd);return r.validators.find(({validator:m})=>m(d))?.classGroupId},Ih=/^\[(.+)\]$/,iN=s=>{if(Ih.test(s)){const r=Ih.exec(s)[1],i=r?.substring(0,r.indexOf(":"));if(i)return"arbitrary.."+i}},lN=s=>{const{theme:r,prefix:i}=s,o={nextPart:new Map,validators:[]};return cN(Object.entries(s.classGroups),i).forEach(([d,m])=>{hd(m,o,d,r)}),o},hd=(s,r,i,o)=>{s.forEach(c=>{if(typeof c=="string"){const d=c===""?r:Ah(r,c);d.classGroupId=i;return}if(typeof c=="function"){if(oN(c)){hd(c(o),r,i,o);return}r.validators.push({validator:c,classGroupId:i});return}Object.entries(c).forEach(([d,m])=>{hd(m,Ah(r,d),i,o)})})},Ah=(s,r)=>{let i=s;return r.split(Wd).forEach(o=>{i.nextPart.has(o)||i.nextPart.set(o,{nextPart:new Map,validators:[]}),i=i.nextPart.get(o)}),i},oN=s=>s.isThemeGetter,cN=(s,r)=>r?s.map(([i,o])=>{const c=o.map(d=>typeof d=="string"?r+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([m,h])=>[r+m,h])):d);return[i,c]}):s,dN=s=>{if(s<1)return{get:()=>{},set:()=>{}};let r=0,i=new Map,o=new Map;const c=(d,m)=>{i.set(d,m),r++,r>s&&(r=0,o=i,i=new Map)};return{get(d){let m=i.get(d);if(m!==void 0)return m;if((m=o.get(d))!==void 0)return c(d,m),m},set(d,m){i.has(d)?i.set(d,m):c(d,m)}}},ax="!",uN=s=>{const{separator:r,experimentalParseClassName:i}=s,o=r.length===1,c=r[0],d=r.length,m=h=>{const g=[];let v=0,y=0,x;for(let j=0;j<h.length;j++){let _=h[j];if(v===0){if(_===c&&(o||h.slice(j,j+d)===r)){g.push(h.slice(y,j)),y=j+d;continue}if(_==="/"){x=j;continue}}_==="["?v++:_==="]"&&v--}const w=g.length===0?h:h.substring(y),T=w.startsWith(ax),E=T?w.substring(1):w,N=x&&x>y?x-y:void 0;return{modifiers:g,hasImportantModifier:T,baseClassName:E,maybePostfixModifierPosition:N}};return i?h=>i({className:h,parseClassName:m}):m},mN=s=>{if(s.length<=1)return s;const r=[];let i=[];return s.forEach(o=>{o[0]==="["?(r.push(...i.sort(),o),i=[]):i.push(o)}),r.push(...i.sort()),r},fN=s=>({cache:dN(s.cacheSize),parseClassName:uN(s),...aN(s)}),hN=/\s+/,pN=(s,r)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:c}=r,d=[],m=s.trim().split(hN);let h="";for(let g=m.length-1;g>=0;g-=1){const v=m[g],{modifiers:y,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:T}=i(v);let E=!!T,N=o(E?w.substring(0,T):w);if(!N){if(!E){h=v+(h.length>0?" "+h:h);continue}if(N=o(w),!N){h=v+(h.length>0?" "+h:h);continue}E=!1}const j=mN(y).join(":"),_=x?j+ax:j,C=_+N;if(d.includes(C))continue;d.push(C);const I=c(N,E);for(let k=0;k<I.length;++k){const W=I[k];d.push(_+W)}h=v+(h.length>0?" "+h:h)}return h};function xN(){let s=0,r,i,o="";for(;s<arguments.length;)(r=arguments[s++])&&(i=ix(r))&&(o&&(o+=" "),o+=i);return o}const ix=s=>{if(typeof s=="string")return s;let r,i="";for(let o=0;o<s.length;o++)s[o]&&(r=ix(s[o]))&&(i&&(i+=" "),i+=r);return i};function gN(s,...r){let i,o,c,d=m;function m(g){const v=r.reduce((y,x)=>x(y),s());return i=fN(v),o=i.cache.get,c=i.cache.set,d=h,h(g)}function h(g){const v=o(g);if(v)return v;const y=pN(g,i);return c(g,y),y}return function(){return d(xN.apply(null,arguments))}}const nt=s=>{const r=i=>i[s]||[];return r.isThemeGetter=!0,r},lx=/^\[(?:([a-z-]+):)?(.+)\]$/i,vN=/^\d+\/\d+$/,yN=new Set(["px","full","screen"]),jN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ln=s=>kr(s)||yN.has(s)||vN.test(s),as=s=>Ur(s,"length",IN),kr=s=>!!s&&!Number.isNaN(Number(s)),Vc=s=>Ur(s,"number",kr),Pa=s=>!!s&&Number.isInteger(Number(s)),CN=s=>s.endsWith("%")&&kr(s.slice(0,-1)),De=s=>lx.test(s),is=s=>jN.test(s),_N=new Set(["length","size","percentage"]),kN=s=>Ur(s,_N,ox),EN=s=>Ur(s,"position",ox),TN=new Set(["image","url"]),RN=s=>Ur(s,TN,LN),PN=s=>Ur(s,"",AN),Ia=()=>!0,Ur=(s,r,i)=>{const o=lx.exec(s);return o?o[1]?typeof r=="string"?o[1]===r:r.has(o[1]):i(o[2]):!1},IN=s=>wN.test(s)&&!NN.test(s),ox=()=>!1,AN=s=>bN.test(s),LN=s=>SN.test(s),MN=()=>{const s=nt("colors"),r=nt("spacing"),i=nt("blur"),o=nt("brightness"),c=nt("borderColor"),d=nt("borderRadius"),m=nt("borderSpacing"),h=nt("borderWidth"),g=nt("contrast"),v=nt("grayscale"),y=nt("hueRotate"),x=nt("invert"),w=nt("gap"),T=nt("gradientColorStops"),E=nt("gradientColorStopPositions"),N=nt("inset"),j=nt("margin"),_=nt("opacity"),C=nt("padding"),I=nt("saturate"),k=nt("scale"),W=nt("sepia"),F=nt("skew"),L=nt("space"),M=nt("translate"),z=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",De,r],V=()=>[De,r],R=()=>["",Ln,as],S=()=>["auto",kr,De],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",De],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[kr,De];return{cacheSize:500,separator:":",theme:{colors:[Ia],spacing:[Ln,as],blur:["none","",is,De],brightness:$(),borderColor:[s],borderRadius:["none","","full",is,De],borderSpacing:V(),borderWidth:R(),contrast:$(),grayscale:J(),hueRotate:$(),invert:J(),gap:V(),gradientColorStops:[s],gradientColorStopPositions:[CN,as],inset:O(),margin:O(),opacity:$(),padding:V(),saturate:$(),scale:$(),sepia:J(),skew:$(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[is]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),De]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pa,De]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Pa,De]}],"grid-cols":[{"grid-cols":[Ia]}],"col-start-end":[{col:["auto",{span:["full",Pa,De]},De]}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":[Ia]}],"row-start-end":[{row:["auto",{span:[Pa,De]},De]}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",De,r]}],"min-w":[{"min-w":[De,r,"min","max","fit"]}],"max-w":[{"max-w":[De,r,"none","full","min","max","fit","prose",{screen:[is]},is]}],h:[{h:[De,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[De,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[De,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[De,r,"auto","min","max","fit"]}],"font-size":[{text:["base",is,as]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vc]}],"font-family":[{font:[Ia]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",kr,Vc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ln,De]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ln,as]}],"underline-offset":[{"underline-offset":["auto",Ln,De]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),EN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RN]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:re()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-s":[{"border-s":[c]}],"border-color-e":[{"border-e":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Ln,De]}],"outline-w":[{outline:[Ln,as]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Ln,as]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",is,PN]}],"shadow-color":[{shadow:[Ia]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[o]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",is,De]}],grayscale:[{grayscale:[v]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[x]}],saturate:[{saturate:[I]}],sepia:[{sepia:[W]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[v]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[W]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[m]}],"border-spacing-x":[{"border-spacing-x":[m]}],"border-spacing-y":[{"border-spacing-y":[m]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Pa,De]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[Ln,as,Vc]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},DN=gN(MN);function Ee(...s){return DN(sx(s))}const ON=rN,cx=f.forwardRef(({className:s,...r},i)=>e.jsx(Jp,{ref:i,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...r}));cx.displayName=Jp.displayName;const zN=Va("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dx=f.forwardRef(({className:s,variant:r,...i},o)=>e.jsx(Xp,{ref:o,className:Ee(zN({variant:r}),s),...i}));dx.displayName=Xp.displayName;const FN=f.forwardRef(({className:s,...r},i)=>e.jsx(ex,{ref:i,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...r}));FN.displayName=ex.displayName;const ux=f.forwardRef(({className:s,...r},i)=>e.jsx(tx,{ref:i,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...r,children:e.jsx(Ir,{className:"h-4 w-4"})}));ux.displayName=tx.displayName;const mx=f.forwardRef(({className:s,...r},i)=>e.jsx(Yp,{ref:i,className:Ee("text-sm font-semibold",s),...r}));mx.displayName=Yp.displayName;const fx=f.forwardRef(({className:s,...r},i)=>e.jsx(Zp,{ref:i,className:Ee("text-sm opacity-90",s),...r}));fx.displayName=Zp.displayName;const $N=1,UN=1e6;let Bc=0;function VN(){return Bc=(Bc+1)%Number.MAX_SAFE_INTEGER,Bc.toString()}const Wc=new Map,Lh=s=>{if(Wc.has(s))return;const r=setTimeout(()=>{Wc.delete(s),La({type:"REMOVE_TOAST",toastId:s})},UN);Wc.set(s,r)},BN=(s,r)=>{switch(r.type){case"ADD_TOAST":return{...s,toasts:[r.toast,...s.toasts].slice(0,$N)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(i=>i.id===r.toast.id?{...i,...r.toast}:i)};case"DISMISS_TOAST":{const{toastId:i}=r;return i?Lh(i):s.toasts.forEach(o=>{Lh(o.id)}),{...s,toasts:s.toasts.map(o=>o.id===i||i===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return r.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(i=>i.id!==r.toastId)}}},ol=[];let cl={toasts:[]};function La(s){cl=BN(cl,s),ol.forEach(r=>{r(cl)})}function WN({...s}){const r=VN(),i=c=>La({type:"UPDATE_TOAST",toast:{...c,id:r}}),o=()=>La({type:"DISMISS_TOAST",toastId:r});return La({type:"ADD_TOAST",toast:{...s,id:r,open:!0,onOpenChange:c=>{c||o()}}}),{id:r,dismiss:o,update:i}}function Zt(){const[s,r]=f.useState(cl);return f.useEffect(()=>(ol.push(r),()=>{const i=ol.indexOf(r);i>-1&&ol.splice(i,1)}),[s]),{...s,toast:WN,dismiss:i=>La({type:"DISMISS_TOAST",toastId:i})}}function HN(){const{toasts:s}=Zt();return e.jsxs(ON,{children:[s.map(function({id:r,title:i,description:o,action:c,...d}){return e.jsxs(dx,{...d,children:[e.jsxs("div",{className:"grid gap-1",children:[i&&e.jsx(mx,{children:i}),o&&e.jsx(fx,{children:o})]}),c,e.jsx(ux,{})]},r)}),e.jsx(cx,{})]})}const qN=Va("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 ease-smooth focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:scale-[1.02] active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 hover:scale-[1.02] active:scale-[0.98]",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:scale-[1.02] active:scale-[0.98]",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 hover:scale-[1.02] active:scale-[0.98]",ghost:"hover:bg-accent hover:text-accent-foreground hover:scale-105 active:scale-95",link:"text-primary underline-offset-4 hover:underline hover:scale-105",glass:"glass-light hover:bg-white/70 hover:scale-105 hover:shadow-lg transition-all duration-200 active:scale-95",gradient:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 hover:scale-[1.02] active:scale-[0.98] text-white shadow-lg hover:shadow-xl",glassDark:"backdrop-blur-sm bg-slate-900/60 dark:bg-slate-800/60 border-white/10 hover:bg-slate-800/80 hover:scale-105 hover:shadow-glass-lg transition-all duration-200 active:scale-95"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=f.forwardRef(({className:s,variant:r,size:i,asChild:o=!1,...c},d)=>{const m=o?gw:"button";return e.jsx(m,{className:Ee(qN({variant:r,size:i,className:s})),ref:d,...c})});B.displayName="Button";const GN=(s,r)=>{const i=[{name:"Dashboard",href:`/${r}/dashboard`,icon:id,level:0}];return s==="super_admin"?[{name:"Dashboard",href:"/edgvoip/dashboard",icon:id,level:0},{name:"Tenants",href:"/edgvoip/tenants",icon:ot,level:0},{name:"Users",href:"/edgvoip/users",icon:ot,level:0},{name:"Analytics",href:"/edgvoip/analytics",icon:gl,level:0},{name:"System Settings",href:"/edgvoip/system-settings",icon:xs,level:0},{name:"Logs",href:"/edgvoip/logs",icon:_r,level:0}]:s==="tenant_admin"?[...i,{name:"Tenant Management",icon:ot,level:0,children:[{name:"Stores",href:`/${r}/stores`,icon:ad,level:1},{name:"Users",href:`/${r}/users`,icon:ot,level:1}]},{name:"VoIP Management",icon:Qe,level:0,children:[{name:"Extensions",href:`/${r}/extensions`,icon:Qe,level:1},{name:"SIP Trunks",href:`/${r}/sip-trunks`,icon:bh,level:1},{name:"Call Routing",href:`/${r}/call-routing`,icon:bh,level:1},{name:"Dialplan Editor",href:`/${r}/dialplan-editor`,icon:_r,level:1},{name:"Ring Groups",href:`/${r}/ring-groups`,icon:uw,level:1},{name:"Call Queues",href:`/${r}/queues`,icon:Np,level:1},{name:"IVR Menus",href:`/${r}/ivr-menus`,icon:Cp,level:1},{name:"Conference Rooms",href:`/${r}/conference-rooms`,icon:Cr,level:1},{name:"Voicemail",href:`/${r}/voicemail`,icon:Fr,level:1},{name:"Time Conditions",href:`/${r}/time-conditions`,icon:un,level:1}]},{name:"Live Calls",href:`/${r}/live-calls`,icon:zr,level:0},{name:"CDR & Analytics",href:`/${r}/cdr`,icon:gl,level:0},{name:"Logs & Verbose",href:`/${r}/logs`,icon:_r,level:0}]:[...i,{name:"My Extensions",href:"/my-extensions",icon:Qe,level:0},{name:"Make Call",href:"/make-call",icon:Qe,level:0},{name:"My CDR",href:"/my-cdr",icon:Md,level:0}]};function KN(){const{logout:s,user:r}=xt(),[i,o]=f.useState([]),[c,d]=f.useState(!1),[m,h]=f.useState(!1),[g,v]=f.useState(!1),y=f.useRef(null),x=r?GN(r.role,r.tenantSlug):[];f.useEffect(()=>{const _=()=>{v(window.innerWidth<768),window.innerWidth<768&&d(!0)};return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]),f.useEffect(()=>g?void 0:(c||(()=>{y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{if(!m){d(!0);const C=new CustomEvent("sidebar-state-change",{detail:{collapsed:!0}});window.dispatchEvent(C)}},3e3)})(),()=>{y.current&&clearTimeout(y.current)}),[c,m,g]),dn.useEffect(()=>{r&&(r.role==="super_admin"?o(["System Management","VoIP Management"]):r.role==="tenant_admin"&&o(["Tenant Management","VoIP Management"]))},[r]);const w=_=>{o(C=>C.includes(_)?C.filter(I=>I!==_):[...C,_])},T=()=>{g||(h(!0),y.current&&clearTimeout(y.current),setTimeout(()=>{if(c){d(!1);const _=new CustomEvent("sidebar-state-change",{detail:{collapsed:!1}});window.dispatchEvent(_)}},200))},E=()=>{g||h(!1)},N=()=>{const _=!c;d(_);const C=new CustomEvent("sidebar-state-change",{detail:{collapsed:_}});window.dispatchEvent(C)},j=_=>{if(_.children){const C=i.includes(_.name);return e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>w(_.name),className:Ee("group flex items-center w-full px-2 py-2 text-sm font-medium rounded-md","text-gray-600 hover:bg-blue-50/50 hover:text-blue-700","hover:translate-x-1 transition-all duration-200 ease-smooth",c&&"justify-center"),title:c?_.name:void 0,children:[e.jsx(_.icon,{className:Ee("h-5 w-5 flex-shrink-0",c?"":"mr-3")}),!c&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"truncate",children:_.name}),C?e.jsx(Ld,{className:"ml-auto h-4 w-4"}):e.jsx(wh,{className:"ml-auto h-4 w-4"})]})]}),C&&!c&&e.jsx("div",{className:"ml-4 space-y-1 animate-fadeIn",children:_.children.map(I=>e.jsxs(xl,{to:I.href,className:({isActive:k})=>Ee("group flex items-center px-2 py-2 text-sm font-medium rounded-md","transition-all duration-200 ease-smooth","hover:translate-x-1 hover:bg-blue-50/50",k?"bg-blue-100/80 text-blue-900 shadow-sm":"text-gray-500 hover:text-blue-700"),children:[e.jsx(I.icon,{className:"mr-3 h-4 w-4 flex-shrink-0"}),I.name]},I.name))})]},_.name)}return e.jsxs(xl,{to:_.href,className:({isActive:C})=>Ee("group flex items-center px-2 py-2 text-sm font-medium rounded-md","transition-all duration-200 ease-smooth","hover:translate-x-1 hover:bg-blue-50/50",c&&"justify-center",C?"bg-blue-100/80 text-blue-900 shadow-sm":"text-gray-600 hover:text-blue-700"),title:c?_.name:void 0,children:[e.jsx(_.icon,{className:Ee("h-5 w-5 flex-shrink-0",c?"":"mr-3")}),!c&&e.jsx("span",{className:"truncate",children:_.name})]},_.name)};return e.jsx("div",{className:Ee("hidden md:flex md:flex-col fixed left-0 top-0 h-full z-40","glass-nav transition-all duration-300 ease-smooth",c?"w-16":"w-64"),onMouseEnter:T,onMouseLeave:E,children:e.jsxs("div",{className:"flex flex-col flex-grow pt-5 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between flex-shrink-0 px-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qe,{className:"h-8 w-8 text-blue-600"}),!c&&e.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900 animate-fadeIn",children:"EDG VoIP"})]}),!g&&e.jsx(B,{variant:"ghost",size:"sm",onClick:N,className:"p-1 hover:bg-white/50 hover:scale-105 transition-all duration-200",children:c?e.jsx(wh,{className:"h-4 w-4"}):e.jsx(Qj,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"mt-5 flex-grow flex flex-col",children:e.jsx("nav",{className:"flex-1 px-2 pb-4 space-y-1",children:x.map(j)})}),e.jsx("div",{className:"flex-shrink-0 flex border-t border-white/20 p-4",children:e.jsxs("div",{className:"flex items-center w-full",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-sm",children:e.jsx("span",{className:"text-sm font-medium text-white",children:r?.firstName?.charAt(0)?.toUpperCase()||"U"})})}),!c&&e.jsxs("div",{className:"ml-3 flex-1 animate-fadeIn",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 truncate",children:r?.firstName&&r?.lastName?`${r.firstName} ${r.lastName}`:"User"}),e.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[r?.role==="super_admin"&&"Super Administrator",r?.role==="tenant_admin"&&`Tenant Admin • ${r?.tenantId?.slice(0,8)}...`,r?.role==="user"&&`User • ${r?.tenantId?.slice(0,8)}...`]})]}),e.jsx(B,{variant:"ghost",size:"sm",onClick:s,className:Ee("hover:bg-white/50 hover:scale-105 transition-all duration-200",c?"ml-0":"ml-2"),title:c?"Logout":void 0,children:e.jsx(Sp,{className:"h-4 w-4"})})]})})]})})}const Z=f.forwardRef(({className:s,type:r,...i},o)=>e.jsx("input",{type:r,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 ease-smooth hover:border-ring/50 focus:scale-[1.01]",s),ref:o,...i}));Z.displayName="Input";const QN=Va("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function he({className:s,variant:r,...i}){return e.jsx("div",{className:Ee(QN({variant:r}),s),...i})}function JN(){const[s,r]=f.useState("light");f.useEffect(()=>{const o=localStorage.getItem("theme"),c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",d=o||c;r(d),document.documentElement.classList.toggle("dark",d==="dark")},[]);const i=()=>{const o=s==="light"?"dark":"light";r(o),localStorage.setItem("theme",o),document.documentElement.classList.toggle("dark",o==="dark")};return e.jsxs(B,{variant:"ghost",size:"sm",onClick:i,className:Ee("h-9 w-9 p-0 hover:bg-white/50 hover:scale-105 transition-all duration-200","relative overflow-hidden"),title:`Switch to ${s==="light"?"dark":"light"} mode`,children:[e.jsx(ow,{className:Ee("h-4 w-4 transition-all duration-300",s==="light"?"rotate-0 scale-100":"rotate-90 scale-0")}),e.jsx(aw,{className:Ee("absolute h-4 w-4 transition-all duration-300",s==="dark"?"rotate-0 scale-100":"-rotate-90 scale-0")})]})}function XN(){const{user:s}=xt(),[r,i]=f.useState(!1),[o,c]=f.useState(!1),[d,m]=f.useState(!1),h=async()=>{try{c(!0);const y=await(await fetch("/api/freeswitch/status")).json(),x=!!((y?.data&&y.data.connected)??y.connected);i(x)}catch(v){console.error("Error checking FreeSWITCH status:",v),i(!1)}finally{c(!1)}},g=async()=>{await h()};return f.useEffect(()=>{h();const v=setInterval(h,3e4);return()=>clearInterval(v)},[]),f.useEffect(()=>{const v=y=>{m(y.detail.collapsed)};return window.addEventListener("sidebar-state-change",v),()=>{window.removeEventListener("sidebar-state-change",v)}},[]),e.jsx("header",{className:"glass-light sticky top-0 z-30 px-6 py-4 border-b border-white/20",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:["EDG VoIP System",e.jsx("span",{className:Ee("ml-2 text-xs px-2 py-1 rounded-full transition-all duration-200",d?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"),children:d?"Compact":"Full"})]}),s&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.role==="super_admin"&&e.jsxs(e.Fragment,{children:[e.jsx(zs,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"font-medium",children:"Super Admin"})]}),s.role==="tenant_admin"&&e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"Tenant Admin"}),s.tenant_id&&e.jsxs("span",{className:"text-gray-500",children:["• Tenant: ",s.tenant_id.slice(0,8),"..."]})]}),s.role==="tenant_user"&&e.jsxs(e.Fragment,{children:[e.jsx(kl,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"font-medium",children:"User"}),s.tenant_id&&e.jsxs("span",{className:"text-gray-500",children:["• Tenant: ",s.tenant_id.slice(0,8),"..."]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Z,{type:"text",placeholder:"Search...",className:"glass-input pl-10 w-64 focus:ring-2 focus:ring-blue-500/50 transition-all duration-200"})]}),e.jsx(JN,{}),e.jsxs(B,{variant:"ghost",size:"sm",className:"relative hover:bg-white/50 hover:scale-105 transition-all duration-200",children:[e.jsx(Hj,{className:"h-5 w-5"}),e.jsx(he,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs animate-bounce-smooth",children:"3"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-gray-600",children:"System Online"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:Ee("h-2 w-2 rounded-full transition-colors duration-200",r?"bg-green-500 animate-pulse":"bg-red-500")}),e.jsxs("span",{className:Ee("text-sm transition-colors duration-200",r?"text-gray-600":"text-red-600"),children:["FreeSWITCH ",r?"":"(ESL Disabled)"]}),e.jsx("button",{onClick:g,disabled:o,className:"p-1 hover:bg-white/50 hover:scale-105 rounded transition-all duration-200",title:r?"Refresh FreeSWITCH Status":"FreeSWITCH ESL not configured",children:e.jsx(kt,{className:Ee("h-3 w-3 text-gray-500 transition-transform duration-200",o?"animate-spin":"hover:rotate-180")})})]})]})]})]})})})}const Mh=[{name:"Dashboard",href:"/edgvoip/dashboard",icon:id},{name:"Tenants",href:"/edgvoip/tenants",icon:Pr},{name:"Users",href:"/edgvoip/users",icon:ot},{name:"Analytics",href:"/edgvoip/analytics",icon:gl},{name:"System Settings",href:"/edgvoip/system-settings",icon:xs},{name:"Logs",href:"/edgvoip/logs",icon:_r}];function YN(){const{logout:s,user:r}=xt();return e.jsxs("header",{className:"bg-white border-b border-gray-200",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qe,{className:"h-8 w-8 text-blue-600"}),e.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"EDG VoIP"}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Super Admin"})]})}),e.jsx("nav",{className:"hidden md:flex space-x-8",children:Mh.map(i=>e.jsxs(xl,{to:i.href,className:({isActive:o})=>`inline-flex items-center px-1 pt-1 text-sm font-medium transition-colors ${o?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300"}`,children:[e.jsx(i.icon,{className:"mr-2 h-4 w-4"}),i.name]},i.name))}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-white",children:r?.firstName?.charAt(0)?.toUpperCase()||"S"})})}),e.jsxs("div",{className:"ml-3 hidden sm:block",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:r?.firstName&&r?.lastName?`${r.firstName} ${r.lastName}`:"Super Admin"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Super Administrator"})]})]}),e.jsx(B,{variant:"ghost",size:"sm",onClick:s,className:"ml-2",children:e.jsx(Sp,{className:"h-4 w-4"})})]})]})}),e.jsx("div",{className:"md:hidden",children:e.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-50",children:Mh.map(i=>e.jsxs(xl,{to:i.href,className:({isActive:o})=>`flex items-center px-3 py-2 text-base font-medium rounded-md transition-colors ${o?"text-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(i.icon,{className:"mr-3 h-5 w-5"}),i.name]},i.name))})})]})}function hx({children:s,variant:r="tenant"}){const[i,o]=f.useState(!1);return f.useEffect(()=>{const c=d=>{o(d.detail.collapsed)};return window.addEventListener("sidebar-state-change",c),()=>{window.removeEventListener("sidebar-state-change",c)}},[]),r==="superadmin"?e.jsx("div",{className:"h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-slate-100 dark:from-slate-950 dark:via-blue-950/30 dark:to-slate-900 overflow-hidden",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx(YN,{}),e.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:s})]})}):e.jsx("div",{className:"h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-slate-100 dark:from-slate-950 dark:via-blue-950/30 dark:to-slate-900 overflow-hidden",children:e.jsxs("div",{className:"flex h-full",children:[e.jsx(KN,{}),e.jsxs("div",{className:Ee("flex-1 flex flex-col h-full overflow-hidden transition-all duration-300 ease-smooth","min-w-0",i?"ml-16":"ml-64"),style:{width:i?"calc(100% - 4rem)":"calc(100% - 16rem)",maxWidth:i?"calc(100vw - 4rem)":"calc(100vw - 16rem)"},children:[e.jsx(XN,{}),e.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:s})]})]})})}const ZN={default:"border border-gray-200 bg-white text-gray-900 dark:border-gray-800 dark:bg-gray-900 dark:text-gray-100",destructive:"border border-red-200 bg-red-50 text-red-800 dark:border-red-900/50 dark:bg-red-950 dark:text-red-300",success:"border border-emerald-200 bg-emerald-50 text-emerald-800 dark:border-emerald-900/50 dark:bg-emerald-950 dark:text-emerald-300",warning:"border border-amber-200 bg-amber-50 text-amber-900 dark:border-amber-900/50 dark:bg-amber-950 dark:text-amber-300",info:"border border-sky-200 bg-sky-50 text-sky-900 dark:border-sky-900/50 dark:bg-sky-950 dark:text-sky-300"},Fs=f.forwardRef(({className:s="",variant:r="default",children:i,...o},c)=>{const d=`w-full rounded-md px-4 py-3 text-sm ${ZN[r]} ${s}`.trim();return e.jsx("div",{ref:c,role:"alert",className:d,...o,children:i})});Fs.displayName="Alert";const $s=f.forwardRef(({className:s="",children:r,...i},o)=>{const c=`mt-1 leading-relaxed ${s}`.trim();return e.jsx("p",{ref:o,className:c,...i,children:r})});$s.displayName="AlertDescription";function e1(){const[s,r]=f.useState(null),[i,o]=f.useState(!1),c=It();f.useEffect(()=>{const m=xe.isImpersonating();if(o(m),m){const h=localStorage.getItem("impersonation_info");if(h)try{r(JSON.parse(h))}catch(g){console.error("Failed to parse impersonation info:",g)}}},[]);const d=()=>{xe.exitImpersonation(),localStorage.removeItem("impersonation_info"),o(!1),r(null),c("/edgvoip/dashboard")};return!i||!s?null:e.jsx("div",{className:"fixed top-0 left-0 right-0 z-50",children:e.jsxs(Fs,{className:"border-orange-200 bg-orange-50 text-orange-800 rounded-none",children:[e.jsx(zs,{className:"h-4 w-4"}),e.jsxs($s,{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(kl,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:["Impersonating: ",s.originalUser.first_name," ",s.originalUser.last_name]}),e.jsxs("span",{className:"text-sm text-orange-600",children:["(",s.originalUser.email,")"]})]}),e.jsxs("div",{className:"text-sm text-orange-600",children:["Started: ",new Date(s.impersonatedAt).toLocaleTimeString()]})]}),e.jsxs(B,{size:"sm",variant:"outline",onClick:d,className:"border-orange-300 text-orange-800 hover:bg-orange-100",children:[e.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Exit Impersonation"]})]})]})})}var t1="Label",px=f.forwardRef((s,r)=>e.jsx(Me.label,{...s,ref:r,onMouseDown:i=>{i.target.closest("button, input, select, textarea")||(s.onMouseDown?.(i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));px.displayName=t1;var xx=px;const n1=Va("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),te=f.forwardRef(({className:s,...r},i)=>e.jsx(xx,{ref:i,className:Ee(n1(),s),...r}));te.displayName=xx.displayName;const s1=Va("rounded-xl border transition-all duration-200",{variants:{variant:{default:"bg-card text-card-foreground shadow-sm",glass:"glass-card",glassDark:"backdrop-blur-sm bg-slate-900/60 dark:bg-slate-800/60 border-white/10 shadow-glass hover:shadow-glass-lg hover:-translate-y-0.5",elevated:"bg-card text-card-foreground shadow-lg hover:shadow-xl hover:-translate-y-1"}},defaultVariants:{variant:"default"}}),de=f.forwardRef(({className:s,variant:r,...i},o)=>e.jsx("div",{ref:o,className:Ee(s1({variant:r}),s),...i}));de.displayName="Card";const ve=f.forwardRef(({className:s,...r},i)=>e.jsx("div",{ref:i,className:Ee("flex flex-col space-y-1.5 p-6",s),...r}));ve.displayName="CardHeader";const ye=f.forwardRef(({className:s,...r},i)=>e.jsx("h3",{ref:i,className:Ee("text-2xl font-semibold leading-none tracking-tight",s),...r}));ye.displayName="CardTitle";const Ue=f.forwardRef(({className:s,...r},i)=>e.jsx("p",{ref:i,className:Ee("text-sm text-muted-foreground",s),...r}));Ue.displayName="CardDescription";const me=f.forwardRef(({className:s,...r},i)=>e.jsx("div",{ref:i,className:Ee("p-6 pt-0",s),...r}));me.displayName="CardContent";const r1=f.forwardRef(({className:s,...r},i)=>e.jsx("div",{ref:i,className:Ee("flex items-center p-6 pt-0",s),...r}));r1.displayName="CardFooter";function a1({tenantSlug:s}){const[r,i]=f.useState({username:"",password:""}),[o,c]=f.useState(!1),{login:d}=xt(),{toast:m}=Zt(),h=It(),g=async y=>{y.preventDefault(),c(!0);try{const w=await(await fetch(`/api/${s}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.username,password:r.password})})).json();if(w.success&&w.data?.token)await d(w.data.token),m({title:"Login successful",description:`Welcome to ${w.data.user.tenantSlug}`}),h(`/${s}/dashboard`);else throw new Error(w.error||"Login failed")}catch(x){m({title:"Login failed",description:x.message||"Invalid credentials. Please try again.",variant:"destructive"})}finally{c(!1)}},v=y=>{i(x=>({...x,[y.target.name]:y.target.value}))};return e.jsx("div",{className:`min-h-screen flex items-center justify-center 
                bg-gradient-to-br from-blue-600 via-blue-500 to-indigo-600
                bg-[length:400%_400%] animate-gradient py-12 px-4 sm:px-6 lg:px-8`,children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`mx-auto h-16 w-16 flex items-center justify-center rounded-full 
                        bg-white/20 backdrop-blur-sm border border-white/30 shadow-glass`,children:e.jsx(Qe,{className:"h-8 w-8 text-white"})}),e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-white",children:"EDG VoIP System"}),e.jsx("p",{className:"mt-2 text-sm text-white/80",children:"Enterprise Multi-tenant VoIP Platform"})]}),e.jsxs(de,{variant:"glass",className:"p-8",children:[e.jsxs(ve,{children:[e.jsx(ye,{className:"text-center text-2xl font-bold",children:"Sign in to your account"}),e.jsx(Ue,{className:"text-center",children:"Enter your credentials to access the VoIP management system"})]}),e.jsxs(me,{children:[e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{htmlFor:"username",className:"text-sm font-medium",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(kl,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(Z,{id:"username",name:"username",type:"text",required:!0,className:`glass-input pl-10 focus:ring-2 focus:ring-blue-500/50 
                              transition-all duration-200`,placeholder:"Enter your email",value:r.username,onChange:v,disabled:o})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(bp,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(Z,{id:"password",name:"password",type:"password",required:!0,className:`glass-input pl-10 focus:ring-2 focus:ring-blue-500/50 
                              transition-all duration-200`,placeholder:"Enter your password",value:r.password,onChange:v,disabled:o})]})]}),e.jsx(B,{type:"submit",variant:"gradient",className:"w-full hover:scale-[1.02] transition-all duration-200",disabled:o,children:o?"Signing in...":"Sign in"})]}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Demo credentials:"}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[s==="demo"&&e.jsx("div",{children:"👨‍💼 Demo Tenant Admin: admin@demo.local / tenantadmin123"}),s==="edgvoip"&&e.jsx("div",{children:"👑 Super Admin: admin@edgvoip.it / admin123"}),s!=="demo"&&s!=="edgvoip"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"👨‍💼 Tenant Admin: tenantadmin@edgvoip.local / tenantadmin123"}),e.jsx("div",{children:"👤 Regular User: user@edgvoip.local / user123"})]})]})]})]})]})]})})}function i1(){const[s,r]=f.useState(""),[i,o]=f.useState(""),[c,d]=f.useState(!1),[m,h]=f.useState(""),g=It(),v=async y=>{y.preventDefault(),d(!0),h("");try{const x=await xe.post("/edgvoip/login",{email:s,password:i});if(x.success&&x.data?.token){if(localStorage.setItem("token",x.data.token),xe.setToken(x.data.token),x.data.user?.role!=="super_admin")throw new Error("Access denied. Super admin privileges required.");g("/edgvoip/dashboard")}else throw new Error(x.error||"Login failed")}catch(x){h(x.message||"Login failed")}finally{d(!1)}};return e.jsx("div",{className:`min-h-screen flex items-center justify-center 
                bg-gradient-to-br from-purple-600 via-purple-500 to-indigo-600
                bg-[length:400%_400%] animate-gradient p-4`,children:e.jsxs(de,{variant:"glass",className:"w-full max-w-md p-8",children:[e.jsxs(ve,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-4 bg-white/20 backdrop-blur-sm rounded-full border border-white/30 shadow-glass",children:e.jsx(zs,{className:"h-10 w-10 text-white"})})}),e.jsx(ye,{className:"text-2xl font-bold text-white",children:"Super Admin Login"}),e.jsx(Ue,{className:"text-white/80",children:"Access the EDG VoIP Master Dashboard"})]}),e.jsxs(me,{children:[e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[m&&e.jsx(Fs,{variant:"destructive",className:"glass-light",children:e.jsx($s,{children:m})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{htmlFor:"email",className:"text-sm font-medium text-white",children:"Email"}),e.jsx(Z,{id:"email",type:"email",placeholder:"admin@edgvoip.it",value:s,onChange:y=>r(y.target.value),required:!0,disabled:c,className:`glass-input focus:ring-2 focus:ring-purple-500/50 
                          transition-all duration-200`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{htmlFor:"password",className:"text-sm font-medium text-white",children:"Password"}),e.jsx(Z,{id:"password",type:"password",placeholder:"Enter your password",value:i,onChange:y=>o(y.target.value),required:!0,disabled:c,className:`glass-input focus:ring-2 focus:ring-purple-500/50 
                          transition-all duration-200`})]}),e.jsx(B,{type:"submit",variant:"gradient",className:"w-full hover:scale-[1.02] transition-all duration-200",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(nw,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):e.jsxs(e.Fragment,{children:[e.jsx(zs,{className:"mr-2 h-4 w-4"}),"Access Master Dashboard"]})})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-white/20",children:e.jsxs("div",{className:"text-center text-sm text-white/80",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(Pr,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"EDG VoIP Master Tenant"})]}),e.jsx("p",{children:"Cross-tenant management and analytics"})]})})]})]})})}function l1(){const[s,r]=f.useState(null),[i,o]=f.useState([]),[c,d]=f.useState(!0),[m,h]=f.useState(""),g=It();f.useEffect(()=>{v()},[]);const v=async()=>{try{d(!0);const[x,w]=await Promise.all([xe.getCrossTenantStats(),xe.getTenantStatsList()]);x.success&&r(x.data),w.success&&o(w.data)}catch(x){h(x.message||"Failed to load dashboard data")}finally{d(!1)}},y=x=>{switch(x){case"active":return e.jsx(he,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"});case"suspended":return e.jsx(he,{variant:"destructive",children:"Suspended"});case"pending":return e.jsx(he,{variant:"secondary",children:"Pending"});default:return e.jsx(he,{variant:"outline",children:x})}};return c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):m?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(de,{className:"w-full max-w-md",children:e.jsx(me,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ps,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:m}),e.jsx(B,{onClick:v,variant:"outline",children:"Retry"})]})})})}):e.jsx("div",{children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cross-tenant Management Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Overview of all tenants and system statistics"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Total Tenants"}),e.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.total_tenants||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s?.active_tenants||0," active, ",s?.inactive_tenants||0," inactive"]})]})]}),e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(ot,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.total_users||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all tenants"})]})]}),e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Total Extensions"}),e.jsx(Qe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.total_extensions||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"VoIP extensions configured"})]})]}),e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Calls (24h)"}),e.jsx(zr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.total_calls_24h||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx(zd,{className:"h-3 w-3 inline mr-1"}),"Last 24 hours"]})]})]})]}),e.jsx("div",{className:"mb-8",children:e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Quick Actions"}),e.jsx(Ue,{children:"Common administrative tasks"})]}),e.jsx(me,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(B,{className:"h-20 flex flex-col items-center justify-center",onClick:()=>g("/edgvoip/tenants?action=create"),children:[e.jsx(He,{className:"h-6 w-6 mb-2"}),e.jsx("span",{children:"Create New Tenant"})]}),e.jsxs(B,{variant:"outline",className:"h-20 flex flex-col items-center justify-center",onClick:()=>g("/edgvoip/tenants"),children:[e.jsx(Pt,{className:"h-6 w-6 mb-2"}),e.jsx("span",{children:"View All Tenants"})]}),e.jsxs(B,{variant:"outline",className:"h-20 flex flex-col items-center justify-center",onClick:()=>g("/edgvoip/analytics"),children:[e.jsx(gl,{className:"h-6 w-6 mb-2"}),e.jsx("span",{children:"View Analytics"})]})]})})]})}),e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Tenant Overview"}),e.jsx(Ue,{children:"Summary of all tenants in the system"})]}),e.jsx(me,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Tenant"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Users"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Extensions"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Companies"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Calls (24h)"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:i.map(x=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:x.tenant_name}),e.jsx("div",{className:"text-sm text-gray-500",children:x.tenant_slug})]})}),e.jsx("td",{className:"py-3 px-4",children:y(x.status)}),e.jsx("td",{className:"py-3 px-4",children:x.users_count}),e.jsx("td",{className:"py-3 px-4",children:x.extensions_count}),e.jsx("td",{className:"py-3 px-4",children:x.companies_count}),e.jsx("td",{className:"py-3 px-4",children:x.calls_24h}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(B,{size:"sm",variant:"outline",onClick:()=>g(`/edgvoip/tenants/${x.tenant_id}`),children:[e.jsx(Pt,{className:"h-3 w-3 mr-1"}),"View"]}),e.jsxs(B,{size:"sm",variant:"outline",onClick:()=>g(`/edgvoip/tenants/${x.tenant_id}/users`),children:[e.jsx(ot,{className:"h-3 w-3 mr-1"}),"Users"]})]})})]},x.tenant_id))})]})})})]})]})})}var o1=Ed[" useId ".trim().toString()]||(()=>{}),c1=0;function ds(s){const[r,i]=f.useState(o1());return Nt(()=>{i(o=>o??String(c1++))},[s]),r?`radix-${r}`:""}var Hc="focusScope.autoFocusOnMount",qc="focusScope.autoFocusOnUnmount",Dh={bubbles:!1,cancelable:!0},d1="FocusScope",Hd=f.forwardRef((s,r)=>{const{loop:i=!1,trapped:o=!1,onMountAutoFocus:c,onUnmountAutoFocus:d,...m}=s,[h,g]=f.useState(null),v=Xt(c),y=Xt(d),x=f.useRef(null),w=Ye(r,N=>g(N)),T=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(o){let N=function(I){if(T.paused||!h)return;const k=I.target;h.contains(k)?x.current=k:ls(x.current,{select:!0})},j=function(I){if(T.paused||!h)return;const k=I.relatedTarget;k!==null&&(h.contains(k)||ls(x.current,{select:!0}))},_=function(I){if(document.activeElement===document.body)for(const W of I)W.removedNodes.length>0&&ls(h)};document.addEventListener("focusin",N),document.addEventListener("focusout",j);const C=new MutationObserver(_);return h&&C.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",j),C.disconnect()}}},[o,h,T.paused]),f.useEffect(()=>{if(h){zh.add(T);const N=document.activeElement;if(!h.contains(N)){const _=new CustomEvent(Hc,Dh);h.addEventListener(Hc,v),h.dispatchEvent(_),_.defaultPrevented||(u1(x1(gx(h)),{select:!0}),document.activeElement===N&&ls(h))}return()=>{h.removeEventListener(Hc,v),setTimeout(()=>{const _=new CustomEvent(qc,Dh);h.addEventListener(qc,y),h.dispatchEvent(_),_.defaultPrevented||ls(N??document.body,{select:!0}),h.removeEventListener(qc,y),zh.remove(T)},0)}}},[h,v,y,T]);const E=f.useCallback(N=>{if(!i&&!o||T.paused)return;const j=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,_=document.activeElement;if(j&&_){const C=N.currentTarget,[I,k]=m1(C);I&&k?!N.shiftKey&&_===k?(N.preventDefault(),i&&ls(I,{select:!0})):N.shiftKey&&_===I&&(N.preventDefault(),i&&ls(k,{select:!0})):_===C&&N.preventDefault()}},[i,o,T.paused]);return e.jsx(Me.div,{tabIndex:-1,...m,ref:w,onKeyDown:E})});Hd.displayName=d1;function u1(s,{select:r=!1}={}){const i=document.activeElement;for(const o of s)if(ls(o,{select:r}),document.activeElement!==i)return}function m1(s){const r=gx(s),i=Oh(r,s),o=Oh(r.reverse(),s);return[i,o]}function gx(s){const r=[],i=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const c=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||c?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)r.push(i.currentNode);return r}function Oh(s,r){for(const i of s)if(!f1(i,{upTo:r}))return i}function f1(s,{upTo:r}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(r!==void 0&&s===r)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function h1(s){return s instanceof HTMLInputElement&&"select"in s}function ls(s,{select:r=!1}={}){if(s&&s.focus){const i=document.activeElement;s.focus({preventScroll:!0}),s!==i&&h1(s)&&r&&s.select()}}var zh=p1();function p1(){let s=[];return{add(r){const i=s[0];r!==i&&i?.pause(),s=Fh(s,r),s.unshift(r)},remove(r){s=Fh(s,r),s[0]?.resume()}}}function Fh(s,r){const i=[...s],o=i.indexOf(r);return o!==-1&&i.splice(o,1),i}function x1(s){return s.filter(r=>r.tagName!=="A")}var Gc=0;function vx(){f.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??$h()),document.body.insertAdjacentElement("beforeend",s[1]??$h()),Gc++,()=>{Gc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Gc--}},[])}function $h(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var jn=function(){return jn=Object.assign||function(r){for(var i,o=1,c=arguments.length;o<c;o++){i=arguments[o];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(r[d]=i[d])}return r},jn.apply(this,arguments)};function yx(s,r){var i={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(i[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(s);c<o.length;c++)r.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(s,o[c])&&(i[o[c]]=s[o[c]]);return i}function g1(s,r,i){if(i||arguments.length===2)for(var o=0,c=r.length,d;o<c;o++)(d||!(o in r))&&(d||(d=Array.prototype.slice.call(r,0,o)),d[o]=r[o]);return s.concat(d||Array.prototype.slice.call(r))}var dl="right-scroll-bar-position",ul="width-before-scroll-bar",v1="with-scroll-bars-hidden",y1="--removed-body-scroll-bar-size";function Kc(s,r){return typeof s=="function"?s(r):s&&(s.current=r),s}function j1(s,r){var i=f.useState(function(){return{value:s,callback:r,facade:{get current(){return i.value},set current(o){var c=i.value;c!==o&&(i.value=o,i.callback(o,c))}}}})[0];return i.callback=r,i.facade}var w1=typeof window<"u"?f.useLayoutEffect:f.useEffect,Uh=new WeakMap;function N1(s,r){var i=j1(null,function(o){return s.forEach(function(c){return Kc(c,o)})});return w1(function(){var o=Uh.get(i);if(o){var c=new Set(o),d=new Set(s),m=i.current;c.forEach(function(h){d.has(h)||Kc(h,null)}),d.forEach(function(h){c.has(h)||Kc(h,m)})}Uh.set(i,s)},[s]),i}function b1(s){return s}function S1(s,r){r===void 0&&(r=b1);var i=[],o=!1,c={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:s},useMedium:function(d){var m=r(d,o);return i.push(m),function(){i=i.filter(function(h){return h!==m})}},assignSyncMedium:function(d){for(o=!0;i.length;){var m=i;i=[],m.forEach(d)}i={push:function(h){return d(h)},filter:function(){return i}}},assignMedium:function(d){o=!0;var m=[];if(i.length){var h=i;i=[],h.forEach(d),m=i}var g=function(){var y=m;m=[],y.forEach(d)},v=function(){return Promise.resolve().then(g)};v(),i={push:function(y){m.push(y),v()},filter:function(y){return m=m.filter(y),i}}}};return c}function C1(s){s===void 0&&(s={});var r=S1(null);return r.options=jn({async:!0,ssr:!1},s),r}var jx=function(s){var r=s.sideCar,i=yx(s,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=r.read();if(!o)throw new Error("Sidecar medium not found");return f.createElement(o,jn({},i))};jx.isSideCarExport=!0;function _1(s,r){return s.useMedium(r),jx}var wx=C1(),Qc=function(){},Pl=f.forwardRef(function(s,r){var i=f.useRef(null),o=f.useState({onScrollCapture:Qc,onWheelCapture:Qc,onTouchMoveCapture:Qc}),c=o[0],d=o[1],m=s.forwardProps,h=s.children,g=s.className,v=s.removeScrollBar,y=s.enabled,x=s.shards,w=s.sideCar,T=s.noRelative,E=s.noIsolation,N=s.inert,j=s.allowPinchZoom,_=s.as,C=_===void 0?"div":_,I=s.gapMode,k=yx(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),W=w,F=N1([i,r]),L=jn(jn({},k),c);return f.createElement(f.Fragment,null,y&&f.createElement(W,{sideCar:wx,removeScrollBar:v,shards:x,noRelative:T,noIsolation:E,inert:N,setCallbacks:d,allowPinchZoom:!!j,lockRef:i,gapMode:I}),m?f.cloneElement(f.Children.only(h),jn(jn({},L),{ref:F})):f.createElement(C,jn({},L,{className:g,ref:F}),h))});Pl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pl.classNames={fullWidth:ul,zeroRight:dl};var k1=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function E1(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var r=k1();return r&&s.setAttribute("nonce",r),s}function T1(s,r){s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}function R1(s){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(s)}var P1=function(){var s=0,r=null;return{add:function(i){s==0&&(r=E1())&&(T1(r,i),R1(r)),s++},remove:function(){s--,!s&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},I1=function(){var s=P1();return function(r,i){f.useEffect(function(){return s.add(r),function(){s.remove()}},[r&&i])}},Nx=function(){var s=I1(),r=function(i){var o=i.styles,c=i.dynamic;return s(o,c),null};return r},A1={left:0,top:0,right:0,gap:0},Jc=function(s){return parseInt(s||"",10)||0},L1=function(s){var r=window.getComputedStyle(document.body),i=r[s==="padding"?"paddingLeft":"marginLeft"],o=r[s==="padding"?"paddingTop":"marginTop"],c=r[s==="padding"?"paddingRight":"marginRight"];return[Jc(i),Jc(o),Jc(c)]},M1=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return A1;var r=L1(s),i=document.documentElement.clientWidth,o=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,o-i+r[2]-r[0])}},D1=Nx(),Er="data-scroll-locked",O1=function(s,r,i,o){var c=s.left,d=s.top,m=s.right,h=s.gap;return i===void 0&&(i="margin"),`
  .`.concat(v1,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(h,"px ").concat(o,`;
  }
  body[`).concat(Er,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(o,";"),i==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(m,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(o,`;
    `),i==="padding"&&"padding-right: ".concat(h,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dl,` {
    right: `).concat(h,"px ").concat(o,`;
  }
  
  .`).concat(ul,` {
    margin-right: `).concat(h,"px ").concat(o,`;
  }
  
  .`).concat(dl," .").concat(dl,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(ul," .").concat(ul,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Er,`] {
    `).concat(y1,": ").concat(h,`px;
  }
`)},Vh=function(){var s=parseInt(document.body.getAttribute(Er)||"0",10);return isFinite(s)?s:0},z1=function(){f.useEffect(function(){return document.body.setAttribute(Er,(Vh()+1).toString()),function(){var s=Vh()-1;s<=0?document.body.removeAttribute(Er):document.body.setAttribute(Er,s.toString())}},[])},F1=function(s){var r=s.noRelative,i=s.noImportant,o=s.gapMode,c=o===void 0?"margin":o;z1();var d=f.useMemo(function(){return M1(c)},[c]);return f.createElement(D1,{styles:O1(d,!r,c,i?"":"!important")})},pd=!1;if(typeof window<"u")try{var sl=Object.defineProperty({},"passive",{get:function(){return pd=!0,!0}});window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{pd=!1}var wr=pd?{passive:!1}:!1,$1=function(s){return s.tagName==="TEXTAREA"},bx=function(s,r){if(!(s instanceof Element))return!1;var i=window.getComputedStyle(s);return i[r]!=="hidden"&&!(i.overflowY===i.overflowX&&!$1(s)&&i[r]==="visible")},U1=function(s){return bx(s,"overflowY")},V1=function(s){return bx(s,"overflowX")},Bh=function(s,r){var i=r.ownerDocument,o=r;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var c=Sx(s,o);if(c){var d=Cx(s,o),m=d[1],h=d[2];if(m>h)return!0}o=o.parentNode}while(o&&o!==i.body);return!1},B1=function(s){var r=s.scrollTop,i=s.scrollHeight,o=s.clientHeight;return[r,i,o]},W1=function(s){var r=s.scrollLeft,i=s.scrollWidth,o=s.clientWidth;return[r,i,o]},Sx=function(s,r){return s==="v"?U1(r):V1(r)},Cx=function(s,r){return s==="v"?B1(r):W1(r)},H1=function(s,r){return s==="h"&&r==="rtl"?-1:1},q1=function(s,r,i,o,c){var d=H1(s,window.getComputedStyle(r).direction),m=d*o,h=i.target,g=r.contains(h),v=!1,y=m>0,x=0,w=0;do{if(!h)break;var T=Cx(s,h),E=T[0],N=T[1],j=T[2],_=N-j-d*E;(E||_)&&Sx(s,h)&&(x+=_,w+=E);var C=h.parentNode;h=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!g&&h!==document.body||g&&(r.contains(h)||r===h));return(y&&Math.abs(x)<1||!y&&Math.abs(w)<1)&&(v=!0),v},rl=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},Wh=function(s){return[s.deltaX,s.deltaY]},Hh=function(s){return s&&"current"in s?s.current:s},G1=function(s,r){return s[0]===r[0]&&s[1]===r[1]},K1=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},Q1=0,Nr=[];function J1(s){var r=f.useRef([]),i=f.useRef([0,0]),o=f.useRef(),c=f.useState(Q1++)[0],d=f.useState(Nx)[0],m=f.useRef(s);f.useEffect(function(){m.current=s},[s]),f.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(c));var N=g1([s.lockRef.current],(s.shards||[]).map(Hh),!0).filter(Boolean);return N.forEach(function(j){return j.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),N.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(c))})}}},[s.inert,s.lockRef.current,s.shards]);var h=f.useCallback(function(N,j){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!m.current.allowPinchZoom;var _=rl(N),C=i.current,I="deltaX"in N?N.deltaX:C[0]-_[0],k="deltaY"in N?N.deltaY:C[1]-_[1],W,F=N.target,L=Math.abs(I)>Math.abs(k)?"h":"v";if("touches"in N&&L==="h"&&F.type==="range")return!1;var M=Bh(L,F);if(!M)return!0;if(M?W=L:(W=L==="v"?"h":"v",M=Bh(L,F)),!M)return!1;if(!o.current&&"changedTouches"in N&&(I||k)&&(o.current=W),!W)return!0;var z=o.current||W;return q1(z,j,N,z==="h"?I:k)},[]),g=f.useCallback(function(N){var j=N;if(!(!Nr.length||Nr[Nr.length-1]!==d)){var _="deltaY"in j?Wh(j):rl(j),C=r.current.filter(function(W){return W.name===j.type&&(W.target===j.target||j.target===W.shadowParent)&&G1(W.delta,_)})[0];if(C&&C.should){j.cancelable&&j.preventDefault();return}if(!C){var I=(m.current.shards||[]).map(Hh).filter(Boolean).filter(function(W){return W.contains(j.target)}),k=I.length>0?h(j,I[0]):!m.current.noIsolation;k&&j.cancelable&&j.preventDefault()}}},[]),v=f.useCallback(function(N,j,_,C){var I={name:N,delta:j,target:_,should:C,shadowParent:X1(_)};r.current.push(I),setTimeout(function(){r.current=r.current.filter(function(k){return k!==I})},1)},[]),y=f.useCallback(function(N){i.current=rl(N),o.current=void 0},[]),x=f.useCallback(function(N){v(N.type,Wh(N),N.target,h(N,s.lockRef.current))},[]),w=f.useCallback(function(N){v(N.type,rl(N),N.target,h(N,s.lockRef.current))},[]);f.useEffect(function(){return Nr.push(d),s.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:w}),document.addEventListener("wheel",g,wr),document.addEventListener("touchmove",g,wr),document.addEventListener("touchstart",y,wr),function(){Nr=Nr.filter(function(N){return N!==d}),document.removeEventListener("wheel",g,wr),document.removeEventListener("touchmove",g,wr),document.removeEventListener("touchstart",y,wr)}},[]);var T=s.removeScrollBar,E=s.inert;return f.createElement(f.Fragment,null,E?f.createElement(d,{styles:K1(c)}):null,T?f.createElement(F1,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function X1(s){for(var r=null;s!==null;)s instanceof ShadowRoot&&(r=s.host,s=s.host),s=s.parentNode;return r}const Y1=_1(wx,J1);var qd=f.forwardRef(function(s,r){return f.createElement(Pl,jn({},s,{ref:r,sideCar:Y1}))});qd.classNames=Pl.classNames;var Z1=function(s){if(typeof document>"u")return null;var r=Array.isArray(s)?s[0]:s;return r.ownerDocument.body},br=new WeakMap,al=new WeakMap,il={},Xc=0,_x=function(s){return s&&(s.host||_x(s.parentNode))},eb=function(s,r){return r.map(function(i){if(s.contains(i))return i;var o=_x(i);return o&&s.contains(o)?o:(console.error("aria-hidden",i,"in not contained inside",s,". Doing nothing"),null)}).filter(function(i){return!!i})},tb=function(s,r,i,o){var c=eb(r,Array.isArray(s)?s:[s]);il[i]||(il[i]=new WeakMap);var d=il[i],m=[],h=new Set,g=new Set(c),v=function(x){!x||h.has(x)||(h.add(x),v(x.parentNode))};c.forEach(v);var y=function(x){!x||g.has(x)||Array.prototype.forEach.call(x.children,function(w){if(h.has(w))y(w);else try{var T=w.getAttribute(o),E=T!==null&&T!=="false",N=(br.get(w)||0)+1,j=(d.get(w)||0)+1;br.set(w,N),d.set(w,j),m.push(w),N===1&&E&&al.set(w,!0),j===1&&w.setAttribute(i,"true"),E||w.setAttribute(o,"true")}catch(_){console.error("aria-hidden: cannot operate on ",w,_)}})};return y(r),h.clear(),Xc++,function(){m.forEach(function(x){var w=br.get(x)-1,T=d.get(x)-1;br.set(x,w),d.set(x,T),w||(al.has(x)||x.removeAttribute(o),al.delete(x)),T||x.removeAttribute(i)}),Xc--,Xc||(br=new WeakMap,br=new WeakMap,al=new WeakMap,il={})}},kx=function(s,r,i){i===void 0&&(i="data-aria-hidden");var o=Array.from(Array.isArray(s)?s:[s]),c=Z1(s);return c?(o.push.apply(o,Array.from(c.querySelectorAll("[aria-live], script"))),tb(o,c,i,"aria-hidden")):function(){return null}},Il="Dialog",[Ex]=Fn(Il),[nb,hn]=Ex(Il),Tx=s=>{const{__scopeDialog:r,children:i,open:o,defaultOpen:c,onOpenChange:d,modal:m=!0}=s,h=f.useRef(null),g=f.useRef(null),[v,y]=gs({prop:o,defaultProp:c??!1,onChange:d,caller:Il});return e.jsx(nb,{scope:r,triggerRef:h,contentRef:g,contentId:ds(),titleId:ds(),descriptionId:ds(),open:v,onOpenChange:y,onOpenToggle:f.useCallback(()=>y(x=>!x),[y]),modal:m,children:i})};Tx.displayName=Il;var Rx="DialogTrigger",sb=f.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,c=hn(Rx,i),d=Ye(r,c.triggerRef);return e.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":Qd(c.open),...o,ref:d,onClick:Le(s.onClick,c.onOpenToggle)})});sb.displayName=Rx;var Gd="DialogPortal",[rb,Px]=Ex(Gd,{forceMount:void 0}),Ix=s=>{const{__scopeDialog:r,forceMount:i,children:o,container:c}=s,d=hn(Gd,r);return e.jsx(rb,{scope:r,forceMount:i,children:f.Children.map(o,m=>e.jsx(Gs,{present:i||d.open,children:e.jsx(Tl,{asChild:!0,container:c,children:m})}))})};Ix.displayName=Gd;var vl="DialogOverlay",Ax=f.forwardRef((s,r)=>{const i=Px(vl,s.__scopeDialog),{forceMount:o=i.forceMount,...c}=s,d=hn(vl,s.__scopeDialog);return d.modal?e.jsx(Gs,{present:o||d.open,children:e.jsx(ib,{...c,ref:r})}):null});Ax.displayName=vl;var ab=Ar("DialogOverlay.RemoveScroll"),ib=f.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,c=hn(vl,i);return e.jsx(qd,{as:ab,allowPinchZoom:!0,shards:[c.contentRef],children:e.jsx(Me.div,{"data-state":Qd(c.open),...o,ref:r,style:{pointerEvents:"auto",...o.style}})})}),Us="DialogContent",Lx=f.forwardRef((s,r)=>{const i=Px(Us,s.__scopeDialog),{forceMount:o=i.forceMount,...c}=s,d=hn(Us,s.__scopeDialog);return e.jsx(Gs,{present:o||d.open,children:d.modal?e.jsx(lb,{...c,ref:r}):e.jsx(ob,{...c,ref:r})})});Lx.displayName=Us;var lb=f.forwardRef((s,r)=>{const i=hn(Us,s.__scopeDialog),o=f.useRef(null),c=Ye(r,i.contentRef,o);return f.useEffect(()=>{const d=o.current;if(d)return kx(d)},[]),e.jsx(Mx,{...s,ref:c,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(s.onCloseAutoFocus,d=>{d.preventDefault(),i.triggerRef.current?.focus()}),onPointerDownOutside:Le(s.onPointerDownOutside,d=>{const m=d.detail.originalEvent,h=m.button===0&&m.ctrlKey===!0;(m.button===2||h)&&d.preventDefault()}),onFocusOutside:Le(s.onFocusOutside,d=>d.preventDefault())})}),ob=f.forwardRef((s,r)=>{const i=hn(Us,s.__scopeDialog),o=f.useRef(!1),c=f.useRef(!1);return e.jsx(Mx,{...s,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{s.onCloseAutoFocus?.(d),d.defaultPrevented||(o.current||i.triggerRef.current?.focus(),d.preventDefault()),o.current=!1,c.current=!1},onInteractOutside:d=>{s.onInteractOutside?.(d),d.defaultPrevented||(o.current=!0,d.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const m=d.target;i.triggerRef.current?.contains(m)&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&c.current&&d.preventDefault()}})}),Mx=f.forwardRef((s,r)=>{const{__scopeDialog:i,trapFocus:o,onOpenAutoFocus:c,onCloseAutoFocus:d,...m}=s,h=hn(Us,i),g=f.useRef(null),v=Ye(r,g);return vx(),e.jsxs(e.Fragment,{children:[e.jsx(Hd,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:c,onUnmountAutoFocus:d,children:e.jsx(El,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Qd(h.open),...m,ref:v,onDismiss:()=>h.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(cb,{titleId:h.titleId}),e.jsx(ub,{contentRef:g,descriptionId:h.descriptionId})]})]})}),Kd="DialogTitle",Dx=f.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,c=hn(Kd,i);return e.jsx(Me.h2,{id:c.titleId,...o,ref:r})});Dx.displayName=Kd;var Ox="DialogDescription",zx=f.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,c=hn(Ox,i);return e.jsx(Me.p,{id:c.descriptionId,...o,ref:r})});zx.displayName=Ox;var Fx="DialogClose",$x=f.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,c=hn(Fx,i);return e.jsx(Me.button,{type:"button",...o,ref:r,onClick:Le(s.onClick,()=>c.onOpenChange(!1))})});$x.displayName=Fx;function Qd(s){return s?"open":"closed"}var Ux="DialogTitleWarning",[fC,Vx]=pw(Ux,{contentName:Us,titleName:Kd,docsSlug:"dialog"}),cb=({titleId:s})=>{const r=Vx(Ux),i=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return f.useEffect(()=>{s&&(document.getElementById(s)||console.error(i))},[i,s]),null},db="DialogDescriptionWarning",ub=({contentRef:s,descriptionId:r})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Vx(db).contentName}}.`;return f.useEffect(()=>{const c=s.current?.getAttribute("aria-describedby");r&&c&&(document.getElementById(r)||console.warn(o))},[o,s,r]),null},mb=Tx,fb=Ix,Bx=Ax,Wx=Lx,Hx=Dx,qx=zx,hb=$x;const Os=mb,pb=fb,Gx=f.forwardRef(({className:s,...r},i)=>e.jsx(Bx,{ref:i,className:Ee("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r}));Gx.displayName=Bx.displayName;const us=f.forwardRef(({className:s,children:r,...i},o)=>e.jsxs(pb,{children:[e.jsx(Gx,{}),e.jsxs(Wx,{ref:o,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...i,children:[r,e.jsxs(hb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ir,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));us.displayName=Wx.displayName;const ms=({className:s,...r})=>e.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",s),...r});ms.displayName="DialogHeader";const Jd=({className:s,...r})=>e.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...r});Jd.displayName="DialogFooter";const fs=f.forwardRef(({className:s,...r},i)=>e.jsx(Hx,{ref:i,className:Ee("text-lg font-semibold leading-none tracking-tight",s),...r}));fs.displayName=Hx.displayName;const Ba=f.forwardRef(({className:s,...r},i)=>e.jsx(qx,{ref:i,className:Ee("text-sm text-muted-foreground",s),...r}));Ba.displayName=qx.displayName;function qh(){const s=It(),[r,i]=f.useState([]),[o,c]=f.useState(!0),[d,m]=f.useState(""),[h,g]=f.useState(""),[v,y]=f.useState(!1),[x,w]=f.useState(null);f.useEffect(()=>{T()},[]);const T=async()=>{try{c(!0);const C=await xe.getTenants();i(C.data?.tenants||[])}catch(C){m(C.message||"Failed to load tenants")}finally{c(!1)}},E=async C=>{try{const I=await xe.getTenantWithDetails(C.id);w(I.data),y(!0)}catch(I){m(I.message||"Failed to load tenant details")}},N=async C=>{if(confirm("Are you sure you want to delete this tenant?"))try{await xe.deleteTenant(C),await T()}catch(I){m(I.message||"Failed to delete tenant")}},j=r.filter(C=>C.name.toLowerCase().includes(h.toLowerCase())||C.domain.toLowerCase().includes(h.toLowerCase())||C.sip_domain.toLowerCase().includes(h.toLowerCase())),_=C=>{switch(C){case"active":return e.jsxs(he,{className:"bg-green-100 text-green-800",children:[e.jsx(Kj,{className:"h-3 w-3 mr-1"}),"Active"]});case"suspended":return e.jsxs(he,{className:"bg-red-100 text-red-800",children:[e.jsx(cd,{className:"h-3 w-3 mr-1"}),"Suspended"]});case"pending":return e.jsxs(he,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(ps,{className:"h-3 w-3 mr-1"}),"Pending"]});default:return e.jsx(he,{variant:"secondary",children:C})}};return o?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tenant Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage all tenants in the system"})]}),e.jsxs(B,{onClick:()=>s("/edgvoip/tenants/create"),children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Create Tenant"]})]}),d&&e.jsxs(Fs,{variant:"destructive",className:"mb-6",children:[e.jsx(ps,{className:"h-4 w-4"}),e.jsx($s,{children:d})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Z,{placeholder:"Search tenants...",value:h,onChange:C=>g(C.target.value),className:"pl-10"})]})}),e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"All Tenants"}),e.jsx(Ue,{children:"Manage tenant configurations and access"})]}),e.jsx(me,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Domain"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"SIP Domain"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Created"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),e.jsx("tbody",{children:j.map(C=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsxs("td",{className:"py-3 px-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:C.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Slug: ",C.slug]})]}),e.jsx("td",{className:"py-3 px-4 text-gray-900",children:C.domain}),e.jsx("td",{className:"py-3 px-4 text-gray-900",children:C.sip_domain}),e.jsx("td",{className:"py-3 px-4",children:_(C.status)}),e.jsx("td",{className:"py-3 px-4 text-gray-500",children:new Date(C.created_at).toLocaleDateString()}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(B,{variant:"outline",size:"sm",onClick:()=>E(C),children:e.jsx(Pt,{className:"h-4 w-4"})}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>s(`/edgvoip/tenants/${C.id}/users`),children:e.jsx(ot,{className:"h-4 w-4"})}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>N(C.id),className:"text-red-600 hover:text-red-700",children:e.jsx(pt,{className:"h-4 w-4"})})]})})]},C.id))})]})})})]})]}),e.jsx(Os,{open:v,onOpenChange:y,children:e.jsxs(us,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ms,{children:[e.jsx(fs,{children:"Tenant Details"}),e.jsx(Ba,{children:"Complete information about the selected tenant"})]}),x&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Basic Information"})}),e.jsx(me,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),e.jsx("p",{className:"text-gray-900",children:x.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Slug"}),e.jsx("p",{className:"text-gray-900",children:x.slug})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Domain"}),e.jsx("p",{className:"text-gray-900",children:x.domain})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"SIP Domain"}),e.jsx("p",{className:"text-gray-900",children:x.sip_domain})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsx("div",{className:"mt-1",children:_(x.status)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created"}),e.jsx("p",{className:"text-gray-900",children:new Date(x.created_at).toLocaleString()})]})]})})]}),x.companies&&x.companies.length>0&&e.jsxs(de,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Companies"})}),e.jsx(me,{children:e.jsx("div",{className:"space-y-4",children:x.companies.map(C=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:C.legal_name}),C.is_primary&&e.jsx(he,{variant:"secondary",children:"Primary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[C.vat_number&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"VAT:"})," ",C.vat_number]}),C.address&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Address:"})," ",C.address]}),C.city&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"City:"})," ",C.city]})]})]},C.id))})})]}),x.contacts&&x.contacts.length>0&&e.jsxs(de,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Contacts"})}),e.jsx(me,{children:e.jsx("div",{className:"space-y-4",children:x.contacts.map(C=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:[C.first_name," ",C.last_name]}),C.is_primary&&e.jsx(he,{variant:"secondary",children:"Primary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[C.role&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Role:"})," ",C.role]}),C.email&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Email:"})," ",C.email]}),C.phone&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Phone:"})," ",C.phone]})]})]},C.id))})})]})]}),e.jsx(Jd,{children:e.jsx(B,{variant:"outline",onClick:()=>y(!1),children:"Close"})})]})})]})}function Gh(){const[s,r]=f.useState([]),[i,o]=f.useState(!0),[c,d]=f.useState(""),[m,h]=f.useState(""),[g,v]=f.useState("all"),[y,x]=f.useState(!1),[w,T]=f.useState(null),[E,N]=f.useState(!1),j=It(),{tenantId:_}=Pd();f.useEffect(()=>{C()},[_]);const C=async()=>{try{o(!0);const z=await xe.getCrossTenantUsers();if(z.success)r(z.data||[]);else throw new Error(z.error||"Failed to load users")}catch(z){d(z.message||"Failed to load users")}finally{o(!1)}},I=async z=>{T(z),x(!0)},k=async()=>{if(w)try{N(!0);const z=await xe.impersonateUser(w.tenant_id,w.id);if(z.success&&z.data?.token)xe.startImpersonation(z.data.token),localStorage.setItem("impersonation_info",JSON.stringify({originalUser:w,impersonatedAt:new Date().toISOString()})),j(`/${w.tenant_slug}/dashboard`);else throw new Error(z.error||"Failed to impersonate user")}catch(z){d(z.message||"Failed to impersonate user")}finally{N(!1),x(!1)}},W=z=>{switch(z){case"super_admin":return e.jsx(he,{variant:"default",className:"bg-purple-100 text-purple-800",children:"Super Admin"});case"tenant_admin":return e.jsx(he,{variant:"default",className:"bg-blue-100 text-blue-800",children:"Tenant Admin"});case"user":return e.jsx(he,{variant:"secondary",children:"User"});default:return e.jsx(he,{variant:"outline",children:z})}},F=z=>{switch(z){case"active":return e.jsx(he,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"});case"inactive":return e.jsx(he,{variant:"destructive",children:"Inactive"});case"suspended":return e.jsx(he,{variant:"destructive",children:"Suspended"});default:return e.jsx(he,{variant:"outline",children:z})}},L=s.filter(z=>{const K=z.email.toLowerCase().includes(m.toLowerCase())||z.first_name.toLowerCase().includes(m.toLowerCase())||z.last_name.toLowerCase().includes(m.toLowerCase())||z.tenant_name.toLowerCase().includes(m.toLowerCase()),O=g==="all"||z.tenant_id===g;return K&&O}),M=Array.from(new Set(s.map(z=>z.tenant_id))).map(z=>s.find(K=>K.tenant_id===z)).filter(Boolean);return i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})}):e.jsxs("div",{children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage users across all tenants"})]}),c&&e.jsxs(Fs,{variant:"destructive",className:"mb-6",children:[e.jsx(ps,{className:"h-4 w-4"}),e.jsx($s,{children:c})]}),e.jsx(de,{className:"mb-6",children:e.jsx(me,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Z,{placeholder:"Search users by name, email, or tenant...",value:m,onChange:z=>h(z.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"w-64",children:[e.jsx(te,{htmlFor:"tenant-filter",children:"Filter by Tenant"}),e.jsxs("select",{id:"tenant-filter",value:g,onChange:z=>v(z.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Tenants"}),M.map(z=>e.jsx("option",{value:z.tenant_id,children:z.tenant_name},z.tenant_id))]})]})]})})}),e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{children:["All Users (",L.length,")"]}),e.jsx(Ue,{children:"Manage user accounts and permissions across tenants"})]}),e.jsx(me,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"User"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Role"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Tenant"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Last Login"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:L.map(z=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[z.first_name," ",z.last_name]}),e.jsx("div",{className:"text-sm text-gray-500",children:z.email})]})}),e.jsx("td",{className:"py-3 px-4",children:W(z.role)}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:z.tenant_name}),e.jsx("div",{className:"text-sm text-gray-500",children:z.tenant_slug})]})}),e.jsx("td",{className:"py-3 px-4",children:F(z.status)}),e.jsx("td",{className:"py-3 px-4",children:z.last_login?e.jsxs("div",{children:[e.jsx("div",{className:"text-sm",children:new Date(z.last_login).toLocaleDateString()}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(z.last_login).toLocaleTimeString()})]}):e.jsx("span",{className:"text-gray-400",children:"Never"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[z.role!=="super_admin"&&e.jsxs(B,{size:"sm",variant:"outline",onClick:()=>I(z),children:[e.jsx(cw,{className:"h-3 w-3 mr-1"}),"Impersonate"]}),e.jsxs(B,{size:"sm",variant:"outline",onClick:()=>j(`/edgvoip/users/${z.id}/edit`),children:[e.jsx(Yt,{className:"h-3 w-3 mr-1"}),"Edit"]}),z.role!=="super_admin"&&e.jsxs(B,{size:"sm",variant:"outline",onClick:()=>{confirm("Are you sure you want to delete this user?")},children:[e.jsx(pt,{className:"h-3 w-3 mr-1"}),"Delete"]})]})})]},z.id))})]})})})]})]}),e.jsx(Os,{open:y,onOpenChange:x,children:e.jsxs(us,{children:[e.jsxs(ms,{children:[e.jsx(fs,{children:"Confirm Impersonation"}),e.jsx(Ba,{children:"You are about to impersonate this user. This will log you in as them and give you access to their tenant."})]}),w&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(zs,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium",children:[w.first_name," ",w.last_name]}),e.jsx("p",{className:"text-sm text-gray-500",children:w.email})]})]}),e.jsxs("div",{className:"mt-3 flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pr,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:w.tenant_name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ot,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:W(w.role)})]})]})]}),e.jsxs(Fs,{children:[e.jsx(ps,{className:"h-4 w-4"}),e.jsx($s,{children:"You will be redirected to their tenant dashboard. You can exit impersonation at any time using the banner at the top of the page."})]})]}),e.jsxs(Jd,{children:[e.jsx(B,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),e.jsx(B,{onClick:k,disabled:E,className:"bg-orange-600 hover:bg-orange-700",children:E?"Impersonating...":"Confirm Impersonation"})]})]})})]})}function xb(){const[s,r]=f.useState(null),[i,o]=f.useState([]),[c,d]=f.useState([]),[m,h]=f.useState([]),[g,v]=f.useState(!0),[y,x]=f.useState(""),[w,T]=f.useState({start_date:new Date(Date.now()-10080*60*1e3).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]}),[E,N]=f.useState("all"),[j,_]=f.useState("24h");It(),f.useEffect(()=>{C()},[w,E,j]);const C=async()=>{try{v(!0);const[F,L,M,z]=await Promise.all([xe.getCrossTenantSummary({period:j}),xe.getCrossTenantCalls({start_date:w.start_date,end_date:w.end_date,tenant_id:E==="all"?void 0:E,limit:100}),xe.getCrossTenantExtensions(),xe.getCrossTenantUsers()]);F.success&&r(F.data),L.success&&o(L.data||[]),M.success&&d(M.data||[]),z.success&&h(z.data||[])}catch(F){x(F.message||"Failed to load analytics data")}finally{v(!1)}},I=F=>{const L=Math.floor(F/3600),M=Math.floor(F%3600/60),z=F%60;return L>0?`${L}h ${M}m ${z}s`:M>0?`${M}m ${z}s`:`${z}s`},k=F=>{switch(F){case"ANSWERED":return e.jsx(he,{variant:"default",className:"bg-green-100 text-green-800",children:"Answered"});case"NO ANSWER":return e.jsx(he,{variant:"secondary",children:"No Answer"});case"BUSY":return e.jsx(he,{variant:"destructive",children:"Busy"});case"FAILED":return e.jsx(he,{variant:"destructive",children:"Failed"});default:return e.jsx(he,{variant:"outline",children:F})}},W=F=>{console.log(`Exporting data as ${F}`)};return g?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})}):e.jsx("div",{children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cross-Tenant Analytics"}),e.jsx("p",{className:"text-gray-600",children:"System-wide statistics and insights"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>W("csv"),children:[e.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>W("json"),children:[e.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Export JSON"]})]})]}),y&&e.jsxs(Fs,{variant:"destructive",className:"mb-6",children:[e.jsx(ps,{className:"h-4 w-4"}),e.jsx($s,{children:y})]}),e.jsxs(de,{className:"mb-6",children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center",children:[e.jsx(jp,{className:"h-5 w-5 mr-2"}),"Filters"]})}),e.jsx(me,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{htmlFor:"period",children:"Time Period"}),e.jsxs("select",{id:"period",value:j,onChange:F=>_(F.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"1h",children:"Last Hour"}),e.jsx("option",{value:"24h",children:"Last 24 Hours"}),e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"})]})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"start_date",children:"Start Date"}),e.jsx(Z,{id:"start_date",type:"date",value:w.start_date,onChange:F=>T(L=>({...L,start_date:F.target.value}))})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"end_date",children:"End Date"}),e.jsx(Z,{id:"end_date",type:"date",value:w.end_date,onChange:F=>T(L=>({...L,end_date:F.target.value}))})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"tenant",children:"Tenant"}),e.jsxs("select",{id:"tenant",value:E,onChange:F=>N(F.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Tenants"}),c.map(F=>e.jsx("option",{value:F.tenant_id,children:F.tenant_name},F.tenant_id))]})]})]})})]}),s&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Total Calls"}),e.jsx(Qe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.total_calls}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.active_calls," active"]})]})]}),e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(ot,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.total_users}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Across ",s.total_tenants," tenants"]})]})]}),e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Total Extensions"}),e.jsx(zr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.total_extensions}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"VoIP extensions"})]})]}),e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Avg Call Duration"}),e.jsx(zd,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:I(Math.round(s.avg_call_duration||0))}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Total: ",I(Math.round(s.total_call_duration||0))]})]})]})]}),e.jsxs(de,{className:"mb-6",children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Extensions by Tenant"}),e.jsx(Ue,{children:"Extension distribution across all tenants"})]}),e.jsx(me,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Tenant"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Total Extensions"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Active"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Inactive"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"})]})}),e.jsx("tbody",{children:c.map(F=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:F.tenant_name}),e.jsx("div",{className:"text-sm text-gray-500",children:F.tenant_slug})]})}),e.jsx("td",{className:"py-3 px-4 font-medium",children:F.extensions_count}),e.jsx("td",{className:"py-3 px-4 text-green-600",children:F.active_extensions}),e.jsx("td",{className:"py-3 px-4 text-red-600",children:F.inactive_extensions}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(he,{variant:F.tenant_status==="active"?"default":"secondary",children:F.tenant_status})})]},F.tenant_id))})]})})})]}),e.jsxs(de,{className:"mb-6",children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Users by Tenant"}),e.jsx(Ue,{children:"User distribution and roles across all tenants"})]}),e.jsx(me,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Tenant"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Total Users"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Active"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Admins"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Regular Users"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Last Login"})]})}),e.jsx("tbody",{children:m.map(F=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:F.tenant_name}),e.jsx("div",{className:"text-sm text-gray-500",children:F.tenant_slug})]})}),e.jsx("td",{className:"py-3 px-4 font-medium",children:F.users_count}),e.jsx("td",{className:"py-3 px-4 text-green-600",children:F.active_users}),e.jsx("td",{className:"py-3 px-4 text-blue-600",children:F.admin_users}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:F.regular_users}),e.jsx("td",{className:"py-3 px-4",children:F.last_login?e.jsxs("div",{children:[e.jsx("div",{className:"text-sm",children:new Date(F.last_login).toLocaleDateString()}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(F.last_login).toLocaleTimeString()})]}):e.jsx("span",{className:"text-gray-400",children:"Never"})})]},F.tenant_id))})]})})})]}),e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Recent Calls"}),e.jsx(Ue,{children:"Latest call activity across all tenants"})]}),e.jsx(me,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Tenant"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Caller"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Callee"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Start Time"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Duration"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"User"})]})}),e.jsx("tbody",{children:i.map(F=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:F.tenant_name}),e.jsx("div",{className:"text-sm text-gray-500",children:F.tenant_slug})]})}),e.jsx("td",{className:"py-3 px-4",children:F.caller_number}),e.jsx("td",{className:"py-3 px-4",children:F.callee_number}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm",children:new Date(F.start_time).toLocaleDateString()}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(F.start_time).toLocaleTimeString()})]})}),e.jsx("td",{className:"py-3 px-4",children:I(F.duration)}),e.jsx("td",{className:"py-3 px-4",children:k(F.disposition)}),e.jsx("td",{className:"py-3 px-4",children:F.user_email?e.jsx("span",{className:"text-sm text-gray-600",children:F.user_email}):e.jsx("span",{className:"text-gray-400",children:"-"})})]},F.id))})]})})})]})]})})}const bn=f.forwardRef(({className:s,...r},i)=>e.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:i,...r}));bn.displayName="Textarea";function Xd(s){const r=f.useRef({value:s,previous:s});return f.useMemo(()=>(r.current.value!==s&&(r.current.previous=r.current.value,r.current.value=s),r.current.previous),[s])}function Yd(s){const[r,i]=f.useState(void 0);return Nt(()=>{if(s){i({width:s.offsetWidth,height:s.offsetHeight});const o=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const d=c[0];let m,h;if("borderBoxSize"in d){const g=d.borderBoxSize,v=Array.isArray(g)?g[0]:g;m=v.inlineSize,h=v.blockSize}else m=s.offsetWidth,h=s.offsetHeight;i({width:m,height:h})});return o.observe(s,{box:"border-box"}),()=>o.unobserve(s)}else i(void 0)},[s]),r}var Al="Switch",[gb]=Fn(Al),[vb,yb]=gb(Al),Kx=f.forwardRef((s,r)=>{const{__scopeSwitch:i,name:o,checked:c,defaultChecked:d,required:m,disabled:h,value:g="on",onCheckedChange:v,form:y,...x}=s,[w,T]=f.useState(null),E=Ye(r,I=>T(I)),N=f.useRef(!1),j=w?y||!!w.closest("form"):!0,[_,C]=gs({prop:c,defaultProp:d??!1,onChange:v,caller:Al});return e.jsxs(vb,{scope:i,checked:_,disabled:h,children:[e.jsx(Me.button,{type:"button",role:"switch","aria-checked":_,"aria-required":m,"data-state":Yx(_),"data-disabled":h?"":void 0,disabled:h,value:g,...x,ref:E,onClick:Le(s.onClick,I=>{C(k=>!k),j&&(N.current=I.isPropagationStopped(),N.current||I.stopPropagation())})}),j&&e.jsx(Xx,{control:w,bubbles:!N.current,name:o,value:g,checked:_,required:m,disabled:h,form:y,style:{transform:"translateX(-100%)"}})]})});Kx.displayName=Al;var Qx="SwitchThumb",Jx=f.forwardRef((s,r)=>{const{__scopeSwitch:i,...o}=s,c=yb(Qx,i);return e.jsx(Me.span,{"data-state":Yx(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:r})});Jx.displayName=Qx;var jb="SwitchBubbleInput",Xx=f.forwardRef(({__scopeSwitch:s,control:r,checked:i,bubbles:o=!0,...c},d)=>{const m=f.useRef(null),h=Ye(m,d),g=Xd(i),v=Yd(r);return f.useEffect(()=>{const y=m.current;if(!y)return;const x=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(x,"checked").set;if(g!==i&&T){const E=new Event("click",{bubbles:o});T.call(y,i),y.dispatchEvent(E)}},[g,i,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...c,tabIndex:-1,ref:h,style:{...c.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Xx.displayName=jb;function Yx(s){return s?"checked":"unchecked"}var Zx=Kx,wb=Jx;const Ge=f.forwardRef(({className:s,...r},i)=>e.jsx(Zx,{className:Ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:i,children:e.jsx(wb,{className:Ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ge.displayName=Zx.displayName;function Kh(s,[r,i]){return Math.min(i,Math.max(r,s))}var Nb=f.createContext(void 0);function Zd(s){const r=f.useContext(Nb);return s||r||"ltr"}const bb=["top","right","bottom","left"],vs=Math.min,Bt=Math.max,yl=Math.round,ll=Math.floor,Nn=s=>({x:s,y:s}),Sb={left:"right",right:"left",bottom:"top",top:"bottom"},Cb={start:"end",end:"start"};function xd(s,r,i){return Bt(s,vs(r,i))}function Mn(s,r){return typeof s=="function"?s(r):s}function Dn(s){return s.split("-")[0]}function Vr(s){return s.split("-")[1]}function eu(s){return s==="x"?"y":"x"}function tu(s){return s==="y"?"height":"width"}const _b=new Set(["top","bottom"]);function wn(s){return _b.has(Dn(s))?"y":"x"}function nu(s){return eu(wn(s))}function kb(s,r,i){i===void 0&&(i=!1);const o=Vr(s),c=nu(s),d=tu(c);let m=c==="x"?o===(i?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[d]>r.floating[d]&&(m=jl(m)),[m,jl(m)]}function Eb(s){const r=jl(s);return[gd(s),r,gd(r)]}function gd(s){return s.replace(/start|end/g,r=>Cb[r])}const Qh=["left","right"],Jh=["right","left"],Tb=["top","bottom"],Rb=["bottom","top"];function Pb(s,r,i){switch(s){case"top":case"bottom":return i?r?Jh:Qh:r?Qh:Jh;case"left":case"right":return r?Tb:Rb;default:return[]}}function Ib(s,r,i,o){const c=Vr(s);let d=Pb(Dn(s),i==="start",o);return c&&(d=d.map(m=>m+"-"+c),r&&(d=d.concat(d.map(gd)))),d}function jl(s){return s.replace(/left|right|bottom|top/g,r=>Sb[r])}function Ab(s){return{top:0,right:0,bottom:0,left:0,...s}}function eg(s){return typeof s!="number"?Ab(s):{top:s,right:s,bottom:s,left:s}}function wl(s){const{x:r,y:i,width:o,height:c}=s;return{width:o,height:c,top:i,left:r,right:r+o,bottom:i+c,x:r,y:i}}function Xh(s,r,i){let{reference:o,floating:c}=s;const d=wn(r),m=nu(r),h=tu(m),g=Dn(r),v=d==="y",y=o.x+o.width/2-c.width/2,x=o.y+o.height/2-c.height/2,w=o[h]/2-c[h]/2;let T;switch(g){case"top":T={x:y,y:o.y-c.height};break;case"bottom":T={x:y,y:o.y+o.height};break;case"right":T={x:o.x+o.width,y:x};break;case"left":T={x:o.x-c.width,y:x};break;default:T={x:o.x,y:o.y}}switch(Vr(r)){case"start":T[m]-=w*(i&&v?-1:1);break;case"end":T[m]+=w*(i&&v?-1:1);break}return T}const Lb=async(s,r,i)=>{const{placement:o="bottom",strategy:c="absolute",middleware:d=[],platform:m}=i,h=d.filter(Boolean),g=await(m.isRTL==null?void 0:m.isRTL(r));let v=await m.getElementRects({reference:s,floating:r,strategy:c}),{x:y,y:x}=Xh(v,o,g),w=o,T={},E=0;for(let N=0;N<h.length;N++){const{name:j,fn:_}=h[N],{x:C,y:I,data:k,reset:W}=await _({x:y,y:x,initialPlacement:o,placement:w,strategy:c,middlewareData:T,rects:v,platform:m,elements:{reference:s,floating:r}});y=C??y,x=I??x,T={...T,[j]:{...T[j],...k}},W&&E<=50&&(E++,typeof W=="object"&&(W.placement&&(w=W.placement),W.rects&&(v=W.rects===!0?await m.getElementRects({reference:s,floating:r,strategy:c}):W.rects),{x:y,y:x}=Xh(v,w,g)),N=-1)}return{x:y,y:x,placement:w,strategy:c,middlewareData:T}};async function za(s,r){var i;r===void 0&&(r={});const{x:o,y:c,platform:d,rects:m,elements:h,strategy:g}=s,{boundary:v="clippingAncestors",rootBoundary:y="viewport",elementContext:x="floating",altBoundary:w=!1,padding:T=0}=Mn(r,s),E=eg(T),j=h[w?x==="floating"?"reference":"floating":x],_=wl(await d.getClippingRect({element:(i=await(d.isElement==null?void 0:d.isElement(j)))==null||i?j:j.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(h.floating)),boundary:v,rootBoundary:y,strategy:g})),C=x==="floating"?{x:o,y:c,width:m.floating.width,height:m.floating.height}:m.reference,I=await(d.getOffsetParent==null?void 0:d.getOffsetParent(h.floating)),k=await(d.isElement==null?void 0:d.isElement(I))?await(d.getScale==null?void 0:d.getScale(I))||{x:1,y:1}:{x:1,y:1},W=wl(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:C,offsetParent:I,strategy:g}):C);return{top:(_.top-W.top+E.top)/k.y,bottom:(W.bottom-_.bottom+E.bottom)/k.y,left:(_.left-W.left+E.left)/k.x,right:(W.right-_.right+E.right)/k.x}}const Mb=s=>({name:"arrow",options:s,async fn(r){const{x:i,y:o,placement:c,rects:d,platform:m,elements:h,middlewareData:g}=r,{element:v,padding:y=0}=Mn(s,r)||{};if(v==null)return{};const x=eg(y),w={x:i,y:o},T=nu(c),E=tu(T),N=await m.getDimensions(v),j=T==="y",_=j?"top":"left",C=j?"bottom":"right",I=j?"clientHeight":"clientWidth",k=d.reference[E]+d.reference[T]-w[T]-d.floating[E],W=w[T]-d.reference[T],F=await(m.getOffsetParent==null?void 0:m.getOffsetParent(v));let L=F?F[I]:0;(!L||!await(m.isElement==null?void 0:m.isElement(F)))&&(L=h.floating[I]||d.floating[E]);const M=k/2-W/2,z=L/2-N[E]/2-1,K=vs(x[_],z),O=vs(x[C],z),V=K,R=L-N[E]-O,S=L/2-N[E]/2+M,ee=xd(V,S,R),re=!g.arrow&&Vr(c)!=null&&S!==ee&&d.reference[E]/2-(S<V?K:O)-N[E]/2<0,fe=re?S<V?S-V:S-R:0;return{[T]:w[T]+fe,data:{[T]:ee,centerOffset:S-ee-fe,...re&&{alignmentOffset:fe}},reset:re}}}),Db=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(r){var i,o;const{placement:c,middlewareData:d,rects:m,initialPlacement:h,platform:g,elements:v}=r,{mainAxis:y=!0,crossAxis:x=!0,fallbackPlacements:w,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:N=!0,...j}=Mn(s,r);if((i=d.arrow)!=null&&i.alignmentOffset)return{};const _=Dn(c),C=wn(h),I=Dn(h)===h,k=await(g.isRTL==null?void 0:g.isRTL(v.floating)),W=w||(I||!N?[jl(h)]:Eb(h)),F=E!=="none";!w&&F&&W.push(...Ib(h,N,E,k));const L=[h,...W],M=await za(r,j),z=[];let K=((o=d.flip)==null?void 0:o.overflows)||[];if(y&&z.push(M[_]),x){const S=kb(c,m,k);z.push(M[S[0]],M[S[1]])}if(K=[...K,{placement:c,overflows:z}],!z.every(S=>S<=0)){var O,V;const S=(((O=d.flip)==null?void 0:O.index)||0)+1,ee=L[S];if(ee&&(!(x==="alignment"?C!==wn(ee):!1)||K.every(A=>wn(A.placement)===C?A.overflows[0]>0:!0)))return{data:{index:S,overflows:K},reset:{placement:ee}};let re=(V=K.filter(fe=>fe.overflows[0]<=0).sort((fe,A)=>fe.overflows[1]-A.overflows[1])[0])==null?void 0:V.placement;if(!re)switch(T){case"bestFit":{var R;const fe=(R=K.filter(A=>{if(F){const J=wn(A.placement);return J===C||J==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(J=>J>0).reduce((J,ce)=>J+ce,0)]).sort((A,J)=>A[1]-J[1])[0])==null?void 0:R[0];fe&&(re=fe);break}case"initialPlacement":re=h;break}if(c!==re)return{reset:{placement:re}}}return{}}}};function Yh(s,r){return{top:s.top-r.height,right:s.right-r.width,bottom:s.bottom-r.height,left:s.left-r.width}}function Zh(s){return bb.some(r=>s[r]>=0)}const Ob=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(r){const{rects:i}=r,{strategy:o="referenceHidden",...c}=Mn(s,r);switch(o){case"referenceHidden":{const d=await za(r,{...c,elementContext:"reference"}),m=Yh(d,i.reference);return{data:{referenceHiddenOffsets:m,referenceHidden:Zh(m)}}}case"escaped":{const d=await za(r,{...c,altBoundary:!0}),m=Yh(d,i.floating);return{data:{escapedOffsets:m,escaped:Zh(m)}}}default:return{}}}}},tg=new Set(["left","top"]);async function zb(s,r){const{placement:i,platform:o,elements:c}=s,d=await(o.isRTL==null?void 0:o.isRTL(c.floating)),m=Dn(i),h=Vr(i),g=wn(i)==="y",v=tg.has(m)?-1:1,y=d&&g?-1:1,x=Mn(r,s);let{mainAxis:w,crossAxis:T,alignmentAxis:E}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return h&&typeof E=="number"&&(T=h==="end"?E*-1:E),g?{x:T*y,y:w*v}:{x:w*v,y:T*y}}const Fb=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(r){var i,o;const{x:c,y:d,placement:m,middlewareData:h}=r,g=await zb(r,s);return m===((i=h.offset)==null?void 0:i.placement)&&(o=h.arrow)!=null&&o.alignmentOffset?{}:{x:c+g.x,y:d+g.y,data:{...g,placement:m}}}}},$b=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(r){const{x:i,y:o,placement:c}=r,{mainAxis:d=!0,crossAxis:m=!1,limiter:h={fn:j=>{let{x:_,y:C}=j;return{x:_,y:C}}},...g}=Mn(s,r),v={x:i,y:o},y=await za(r,g),x=wn(Dn(c)),w=eu(x);let T=v[w],E=v[x];if(d){const j=w==="y"?"top":"left",_=w==="y"?"bottom":"right",C=T+y[j],I=T-y[_];T=xd(C,T,I)}if(m){const j=x==="y"?"top":"left",_=x==="y"?"bottom":"right",C=E+y[j],I=E-y[_];E=xd(C,E,I)}const N=h.fn({...r,[w]:T,[x]:E});return{...N,data:{x:N.x-i,y:N.y-o,enabled:{[w]:d,[x]:m}}}}}},Ub=function(s){return s===void 0&&(s={}),{options:s,fn(r){const{x:i,y:o,placement:c,rects:d,middlewareData:m}=r,{offset:h=0,mainAxis:g=!0,crossAxis:v=!0}=Mn(s,r),y={x:i,y:o},x=wn(c),w=eu(x);let T=y[w],E=y[x];const N=Mn(h,r),j=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(g){const I=w==="y"?"height":"width",k=d.reference[w]-d.floating[I]+j.mainAxis,W=d.reference[w]+d.reference[I]-j.mainAxis;T<k?T=k:T>W&&(T=W)}if(v){var _,C;const I=w==="y"?"width":"height",k=tg.has(Dn(c)),W=d.reference[x]-d.floating[I]+(k&&((_=m.offset)==null?void 0:_[x])||0)+(k?0:j.crossAxis),F=d.reference[x]+d.reference[I]+(k?0:((C=m.offset)==null?void 0:C[x])||0)-(k?j.crossAxis:0);E<W?E=W:E>F&&(E=F)}return{[w]:T,[x]:E}}}},Vb=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(r){var i,o;const{placement:c,rects:d,platform:m,elements:h}=r,{apply:g=()=>{},...v}=Mn(s,r),y=await za(r,v),x=Dn(c),w=Vr(c),T=wn(c)==="y",{width:E,height:N}=d.floating;let j,_;x==="top"||x==="bottom"?(j=x,_=w===(await(m.isRTL==null?void 0:m.isRTL(h.floating))?"start":"end")?"left":"right"):(_=x,j=w==="end"?"top":"bottom");const C=N-y.top-y.bottom,I=E-y.left-y.right,k=vs(N-y[j],C),W=vs(E-y[_],I),F=!r.middlewareData.shift;let L=k,M=W;if((i=r.middlewareData.shift)!=null&&i.enabled.x&&(M=I),(o=r.middlewareData.shift)!=null&&o.enabled.y&&(L=C),F&&!w){const K=Bt(y.left,0),O=Bt(y.right,0),V=Bt(y.top,0),R=Bt(y.bottom,0);T?M=E-2*(K!==0||O!==0?K+O:Bt(y.left,y.right)):L=N-2*(V!==0||R!==0?V+R:Bt(y.top,y.bottom))}await g({...r,availableWidth:M,availableHeight:L});const z=await m.getDimensions(h.floating);return E!==z.width||N!==z.height?{reset:{rects:!0}}:{}}}};function Ll(){return typeof window<"u"}function Br(s){return ng(s)?(s.nodeName||"").toLowerCase():"#document"}function Wt(s){var r;return(s==null||(r=s.ownerDocument)==null?void 0:r.defaultView)||window}function Cn(s){var r;return(r=(ng(s)?s.ownerDocument:s.document)||window.document)==null?void 0:r.documentElement}function ng(s){return Ll()?s instanceof Node||s instanceof Wt(s).Node:!1}function mn(s){return Ll()?s instanceof Element||s instanceof Wt(s).Element:!1}function Sn(s){return Ll()?s instanceof HTMLElement||s instanceof Wt(s).HTMLElement:!1}function ep(s){return!Ll()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Wt(s).ShadowRoot}const Bb=new Set(["inline","contents"]);function Wa(s){const{overflow:r,overflowX:i,overflowY:o,display:c}=fn(s);return/auto|scroll|overlay|hidden|clip/.test(r+o+i)&&!Bb.has(c)}const Wb=new Set(["table","td","th"]);function Hb(s){return Wb.has(Br(s))}const qb=[":popover-open",":modal"];function Ml(s){return qb.some(r=>{try{return s.matches(r)}catch{return!1}})}const Gb=["transform","translate","scale","rotate","perspective"],Kb=["transform","translate","scale","rotate","perspective","filter"],Qb=["paint","layout","strict","content"];function su(s){const r=ru(),i=mn(s)?fn(s):s;return Gb.some(o=>i[o]?i[o]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!r&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!r&&(i.filter?i.filter!=="none":!1)||Kb.some(o=>(i.willChange||"").includes(o))||Qb.some(o=>(i.contain||"").includes(o))}function Jb(s){let r=ys(s);for(;Sn(r)&&!Lr(r);){if(su(r))return r;if(Ml(r))return null;r=ys(r)}return null}function ru(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Xb=new Set(["html","body","#document"]);function Lr(s){return Xb.has(Br(s))}function fn(s){return Wt(s).getComputedStyle(s)}function Dl(s){return mn(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function ys(s){if(Br(s)==="html")return s;const r=s.assignedSlot||s.parentNode||ep(s)&&s.host||Cn(s);return ep(r)?r.host:r}function sg(s){const r=ys(s);return Lr(r)?s.ownerDocument?s.ownerDocument.body:s.body:Sn(r)&&Wa(r)?r:sg(r)}function Fa(s,r,i){var o;r===void 0&&(r=[]),i===void 0&&(i=!0);const c=sg(s),d=c===((o=s.ownerDocument)==null?void 0:o.body),m=Wt(c);if(d){const h=vd(m);return r.concat(m,m.visualViewport||[],Wa(c)?c:[],h&&i?Fa(h):[])}return r.concat(c,Fa(c,[],i))}function vd(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function rg(s){const r=fn(s);let i=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const c=Sn(s),d=c?s.offsetWidth:i,m=c?s.offsetHeight:o,h=yl(i)!==d||yl(o)!==m;return h&&(i=d,o=m),{width:i,height:o,$:h}}function au(s){return mn(s)?s:s.contextElement}function Tr(s){const r=au(s);if(!Sn(r))return Nn(1);const i=r.getBoundingClientRect(),{width:o,height:c,$:d}=rg(r);let m=(d?yl(i.width):i.width)/o,h=(d?yl(i.height):i.height)/c;return(!m||!Number.isFinite(m))&&(m=1),(!h||!Number.isFinite(h))&&(h=1),{x:m,y:h}}const Yb=Nn(0);function ag(s){const r=Wt(s);return!ru()||!r.visualViewport?Yb:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function Zb(s,r,i){return r===void 0&&(r=!1),!i||r&&i!==Wt(s)?!1:r}function Vs(s,r,i,o){r===void 0&&(r=!1),i===void 0&&(i=!1);const c=s.getBoundingClientRect(),d=au(s);let m=Nn(1);r&&(o?mn(o)&&(m=Tr(o)):m=Tr(s));const h=Zb(d,i,o)?ag(d):Nn(0);let g=(c.left+h.x)/m.x,v=(c.top+h.y)/m.y,y=c.width/m.x,x=c.height/m.y;if(d){const w=Wt(d),T=o&&mn(o)?Wt(o):o;let E=w,N=vd(E);for(;N&&o&&T!==E;){const j=Tr(N),_=N.getBoundingClientRect(),C=fn(N),I=_.left+(N.clientLeft+parseFloat(C.paddingLeft))*j.x,k=_.top+(N.clientTop+parseFloat(C.paddingTop))*j.y;g*=j.x,v*=j.y,y*=j.x,x*=j.y,g+=I,v+=k,E=Wt(N),N=vd(E)}}return wl({width:y,height:x,x:g,y:v})}function Ol(s,r){const i=Dl(s).scrollLeft;return r?r.left+i:Vs(Cn(s)).left+i}function ig(s,r){const i=s.getBoundingClientRect(),o=i.left+r.scrollLeft-Ol(s,i),c=i.top+r.scrollTop;return{x:o,y:c}}function eS(s){let{elements:r,rect:i,offsetParent:o,strategy:c}=s;const d=c==="fixed",m=Cn(o),h=r?Ml(r.floating):!1;if(o===m||h&&d)return i;let g={scrollLeft:0,scrollTop:0},v=Nn(1);const y=Nn(0),x=Sn(o);if((x||!x&&!d)&&((Br(o)!=="body"||Wa(m))&&(g=Dl(o)),Sn(o))){const T=Vs(o);v=Tr(o),y.x=T.x+o.clientLeft,y.y=T.y+o.clientTop}const w=m&&!x&&!d?ig(m,g):Nn(0);return{width:i.width*v.x,height:i.height*v.y,x:i.x*v.x-g.scrollLeft*v.x+y.x+w.x,y:i.y*v.y-g.scrollTop*v.y+y.y+w.y}}function tS(s){return Array.from(s.getClientRects())}function nS(s){const r=Cn(s),i=Dl(s),o=s.ownerDocument.body,c=Bt(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),d=Bt(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let m=-i.scrollLeft+Ol(s);const h=-i.scrollTop;return fn(o).direction==="rtl"&&(m+=Bt(r.clientWidth,o.clientWidth)-c),{width:c,height:d,x:m,y:h}}const tp=25;function sS(s,r){const i=Wt(s),o=Cn(s),c=i.visualViewport;let d=o.clientWidth,m=o.clientHeight,h=0,g=0;if(c){d=c.width,m=c.height;const y=ru();(!y||y&&r==="fixed")&&(h=c.offsetLeft,g=c.offsetTop)}const v=Ol(o);if(v<=0){const y=o.ownerDocument,x=y.body,w=getComputedStyle(x),T=y.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,E=Math.abs(o.clientWidth-x.clientWidth-T);E<=tp&&(d-=E)}else v<=tp&&(d+=v);return{width:d,height:m,x:h,y:g}}const rS=new Set(["absolute","fixed"]);function aS(s,r){const i=Vs(s,!0,r==="fixed"),o=i.top+s.clientTop,c=i.left+s.clientLeft,d=Sn(s)?Tr(s):Nn(1),m=s.clientWidth*d.x,h=s.clientHeight*d.y,g=c*d.x,v=o*d.y;return{width:m,height:h,x:g,y:v}}function np(s,r,i){let o;if(r==="viewport")o=sS(s,i);else if(r==="document")o=nS(Cn(s));else if(mn(r))o=aS(r,i);else{const c=ag(s);o={x:r.x-c.x,y:r.y-c.y,width:r.width,height:r.height}}return wl(o)}function lg(s,r){const i=ys(s);return i===r||!mn(i)||Lr(i)?!1:fn(i).position==="fixed"||lg(i,r)}function iS(s,r){const i=r.get(s);if(i)return i;let o=Fa(s,[],!1).filter(h=>mn(h)&&Br(h)!=="body"),c=null;const d=fn(s).position==="fixed";let m=d?ys(s):s;for(;mn(m)&&!Lr(m);){const h=fn(m),g=su(m);!g&&h.position==="fixed"&&(c=null),(d?!g&&!c:!g&&h.position==="static"&&!!c&&rS.has(c.position)||Wa(m)&&!g&&lg(s,m))?o=o.filter(y=>y!==m):c=h,m=ys(m)}return r.set(s,o),o}function lS(s){let{element:r,boundary:i,rootBoundary:o,strategy:c}=s;const m=[...i==="clippingAncestors"?Ml(r)?[]:iS(r,this._c):[].concat(i),o],h=m[0],g=m.reduce((v,y)=>{const x=np(r,y,c);return v.top=Bt(x.top,v.top),v.right=vs(x.right,v.right),v.bottom=vs(x.bottom,v.bottom),v.left=Bt(x.left,v.left),v},np(r,h,c));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function oS(s){const{width:r,height:i}=rg(s);return{width:r,height:i}}function cS(s,r,i){const o=Sn(r),c=Cn(r),d=i==="fixed",m=Vs(s,!0,d,r);let h={scrollLeft:0,scrollTop:0};const g=Nn(0);function v(){g.x=Ol(c)}if(o||!o&&!d)if((Br(r)!=="body"||Wa(c))&&(h=Dl(r)),o){const T=Vs(r,!0,d,r);g.x=T.x+r.clientLeft,g.y=T.y+r.clientTop}else c&&v();d&&!o&&c&&v();const y=c&&!o&&!d?ig(c,h):Nn(0),x=m.left+h.scrollLeft-g.x-y.x,w=m.top+h.scrollTop-g.y-y.y;return{x,y:w,width:m.width,height:m.height}}function Yc(s){return fn(s).position==="static"}function sp(s,r){if(!Sn(s)||fn(s).position==="fixed")return null;if(r)return r(s);let i=s.offsetParent;return Cn(s)===i&&(i=i.ownerDocument.body),i}function og(s,r){const i=Wt(s);if(Ml(s))return i;if(!Sn(s)){let c=ys(s);for(;c&&!Lr(c);){if(mn(c)&&!Yc(c))return c;c=ys(c)}return i}let o=sp(s,r);for(;o&&Hb(o)&&Yc(o);)o=sp(o,r);return o&&Lr(o)&&Yc(o)&&!su(o)?i:o||Jb(s)||i}const dS=async function(s){const r=this.getOffsetParent||og,i=this.getDimensions,o=await i(s.floating);return{reference:cS(s.reference,await r(s.floating),s.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function uS(s){return fn(s).direction==="rtl"}const mS={convertOffsetParentRelativeRectToViewportRelativeRect:eS,getDocumentElement:Cn,getClippingRect:lS,getOffsetParent:og,getElementRects:dS,getClientRects:tS,getDimensions:oS,getScale:Tr,isElement:mn,isRTL:uS};function cg(s,r){return s.x===r.x&&s.y===r.y&&s.width===r.width&&s.height===r.height}function fS(s,r){let i=null,o;const c=Cn(s);function d(){var h;clearTimeout(o),(h=i)==null||h.disconnect(),i=null}function m(h,g){h===void 0&&(h=!1),g===void 0&&(g=1),d();const v=s.getBoundingClientRect(),{left:y,top:x,width:w,height:T}=v;if(h||r(),!w||!T)return;const E=ll(x),N=ll(c.clientWidth-(y+w)),j=ll(c.clientHeight-(x+T)),_=ll(y),I={rootMargin:-E+"px "+-N+"px "+-j+"px "+-_+"px",threshold:Bt(0,vs(1,g))||1};let k=!0;function W(F){const L=F[0].intersectionRatio;if(L!==g){if(!k)return m();L?m(!1,L):o=setTimeout(()=>{m(!1,1e-7)},1e3)}L===1&&!cg(v,s.getBoundingClientRect())&&m(),k=!1}try{i=new IntersectionObserver(W,{...I,root:c.ownerDocument})}catch{i=new IntersectionObserver(W,I)}i.observe(s)}return m(!0),d}function hS(s,r,i,o){o===void 0&&(o={});const{ancestorScroll:c=!0,ancestorResize:d=!0,elementResize:m=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:g=!1}=o,v=au(s),y=c||d?[...v?Fa(v):[],...Fa(r)]:[];y.forEach(_=>{c&&_.addEventListener("scroll",i,{passive:!0}),d&&_.addEventListener("resize",i)});const x=v&&h?fS(v,i):null;let w=-1,T=null;m&&(T=new ResizeObserver(_=>{let[C]=_;C&&C.target===v&&T&&(T.unobserve(r),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var I;(I=T)==null||I.observe(r)})),i()}),v&&!g&&T.observe(v),T.observe(r));let E,N=g?Vs(s):null;g&&j();function j(){const _=Vs(s);N&&!cg(N,_)&&i(),N=_,E=requestAnimationFrame(j)}return i(),()=>{var _;y.forEach(C=>{c&&C.removeEventListener("scroll",i),d&&C.removeEventListener("resize",i)}),x?.(),(_=T)==null||_.disconnect(),T=null,g&&cancelAnimationFrame(E)}}const pS=Fb,xS=$b,gS=Db,vS=Vb,yS=Ob,rp=Mb,jS=Ub,wS=(s,r,i)=>{const o=new Map,c={platform:mS,...i},d={...c.platform,_c:o};return Lb(s,r,{...c,platform:d})};var NS=typeof document<"u",bS=function(){},ml=NS?f.useLayoutEffect:bS;function Nl(s,r){if(s===r)return!0;if(typeof s!=typeof r)return!1;if(typeof s=="function"&&s.toString()===r.toString())return!0;let i,o,c;if(s&&r&&typeof s=="object"){if(Array.isArray(s)){if(i=s.length,i!==r.length)return!1;for(o=i;o--!==0;)if(!Nl(s[o],r[o]))return!1;return!0}if(c=Object.keys(s),i=c.length,i!==Object.keys(r).length)return!1;for(o=i;o--!==0;)if(!{}.hasOwnProperty.call(r,c[o]))return!1;for(o=i;o--!==0;){const d=c[o];if(!(d==="_owner"&&s.$$typeof)&&!Nl(s[d],r[d]))return!1}return!0}return s!==s&&r!==r}function dg(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function ap(s,r){const i=dg(s);return Math.round(r*i)/i}function Zc(s){const r=f.useRef(s);return ml(()=>{r.current=s}),r}function SS(s){s===void 0&&(s={});const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:c,elements:{reference:d,floating:m}={},transform:h=!0,whileElementsMounted:g,open:v}=s,[y,x]=f.useState({x:0,y:0,strategy:i,placement:r,middlewareData:{},isPositioned:!1}),[w,T]=f.useState(o);Nl(w,o)||T(o);const[E,N]=f.useState(null),[j,_]=f.useState(null),C=f.useCallback(A=>{A!==F.current&&(F.current=A,N(A))},[]),I=f.useCallback(A=>{A!==L.current&&(L.current=A,_(A))},[]),k=d||E,W=m||j,F=f.useRef(null),L=f.useRef(null),M=f.useRef(y),z=g!=null,K=Zc(g),O=Zc(c),V=Zc(v),R=f.useCallback(()=>{if(!F.current||!L.current)return;const A={placement:r,strategy:i,middleware:w};O.current&&(A.platform=O.current),wS(F.current,L.current,A).then(J=>{const ce={...J,isPositioned:V.current!==!1};S.current&&!Nl(M.current,ce)&&(M.current=ce,Mr.flushSync(()=>{x(ce)}))})},[w,r,i,O,V]);ml(()=>{v===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,x(A=>({...A,isPositioned:!1})))},[v]);const S=f.useRef(!1);ml(()=>(S.current=!0,()=>{S.current=!1}),[]),ml(()=>{if(k&&(F.current=k),W&&(L.current=W),k&&W){if(K.current)return K.current(k,W,R);R()}},[k,W,R,K,z]);const ee=f.useMemo(()=>({reference:F,floating:L,setReference:C,setFloating:I}),[C,I]),re=f.useMemo(()=>({reference:k,floating:W}),[k,W]),fe=f.useMemo(()=>{const A={position:i,left:0,top:0};if(!re.floating)return A;const J=ap(re.floating,y.x),ce=ap(re.floating,y.y);return h?{...A,transform:"translate("+J+"px, "+ce+"px)",...dg(re.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:J,top:ce}},[i,h,re.floating,y.x,y.y]);return f.useMemo(()=>({...y,update:R,refs:ee,elements:re,floatingStyles:fe}),[y,R,ee,re,fe])}const CS=s=>{function r(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:s,fn(i){const{element:o,padding:c}=typeof s=="function"?s(i):s;return o&&r(o)?o.current!=null?rp({element:o.current,padding:c}).fn(i):{}:o?rp({element:o,padding:c}).fn(i):{}}}},_S=(s,r)=>({...pS(s),options:[s,r]}),kS=(s,r)=>({...xS(s),options:[s,r]}),ES=(s,r)=>({...jS(s),options:[s,r]}),TS=(s,r)=>({...gS(s),options:[s,r]}),RS=(s,r)=>({...vS(s),options:[s,r]}),PS=(s,r)=>({...yS(s),options:[s,r]}),IS=(s,r)=>({...CS(s),options:[s,r]});var AS="Arrow",ug=f.forwardRef((s,r)=>{const{children:i,width:o=10,height:c=5,...d}=s;return e.jsx(Me.svg,{...d,ref:r,width:o,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?i:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});ug.displayName=AS;var LS=ug,iu="Popper",[mg,fg]=Fn(iu),[MS,hg]=mg(iu),pg=s=>{const{__scopePopper:r,children:i}=s,[o,c]=f.useState(null);return e.jsx(MS,{scope:r,anchor:o,onAnchorChange:c,children:i})};pg.displayName=iu;var xg="PopperAnchor",gg=f.forwardRef((s,r)=>{const{__scopePopper:i,virtualRef:o,...c}=s,d=hg(xg,i),m=f.useRef(null),h=Ye(r,m),g=f.useRef(null);return f.useEffect(()=>{const v=g.current;g.current=o?.current||m.current,v!==g.current&&d.onAnchorChange(g.current)}),o?null:e.jsx(Me.div,{...c,ref:h})});gg.displayName=xg;var lu="PopperContent",[DS,OS]=mg(lu),vg=f.forwardRef((s,r)=>{const{__scopePopper:i,side:o="bottom",sideOffset:c=0,align:d="center",alignOffset:m=0,arrowPadding:h=0,avoidCollisions:g=!0,collisionBoundary:v=[],collisionPadding:y=0,sticky:x="partial",hideWhenDetached:w=!1,updatePositionStrategy:T="optimized",onPlaced:E,...N}=s,j=hg(lu,i),[_,C]=f.useState(null),I=Ye(r,X=>C(X)),[k,W]=f.useState(null),F=Yd(k),L=F?.width??0,M=F?.height??0,z=o+(d!=="center"?"-"+d:""),K=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},O=Array.isArray(v)?v:[v],V=O.length>0,R={padding:K,boundary:O.filter(FS),altBoundary:V},{refs:S,floatingStyles:ee,placement:re,isPositioned:fe,middlewareData:A}=SS({strategy:"fixed",placement:z,whileElementsMounted:(...X)=>hS(...X,{animationFrame:T==="always"}),elements:{reference:j.anchor},middleware:[_S({mainAxis:c+M,alignmentAxis:m}),g&&kS({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?ES():void 0,...R}),g&&TS({...R}),RS({...R,apply:({elements:X,rects:ne,availableWidth:je,availableHeight:pe})=>{const{width:Pe,height:Ie}=ne.reference,mt=X.floating.style;mt.setProperty("--radix-popper-available-width",`${je}px`),mt.setProperty("--radix-popper-available-height",`${pe}px`),mt.setProperty("--radix-popper-anchor-width",`${Pe}px`),mt.setProperty("--radix-popper-anchor-height",`${Ie}px`)}}),k&&IS({element:k,padding:h}),$S({arrowWidth:L,arrowHeight:M}),w&&PS({strategy:"referenceHidden",...R})]}),[J,ce]=wg(re),$=Xt(E);Nt(()=>{fe&&$?.()},[fe,$]);const se=A.arrow?.x,_e=A.arrow?.y,Y=A.arrow?.centerOffset!==0,[oe,ke]=f.useState();return Nt(()=>{_&&ke(window.getComputedStyle(_).zIndex)},[_]),e.jsx("div",{ref:S.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:fe?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[A.transformOrigin?.x,A.transformOrigin?.y].join(" "),...A.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:e.jsx(DS,{scope:i,placedSide:J,onArrowChange:W,arrowX:se,arrowY:_e,shouldHideArrow:Y,children:e.jsx(Me.div,{"data-side":J,"data-align":ce,...N,ref:I,style:{...N.style,animation:fe?void 0:"none"}})})})});vg.displayName=lu;var yg="PopperArrow",zS={top:"bottom",right:"left",bottom:"top",left:"right"},jg=f.forwardRef(function(r,i){const{__scopePopper:o,...c}=r,d=OS(yg,o),m=zS[d.placedSide];return e.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[m]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:e.jsx(LS,{...c,ref:i,style:{...c.style,display:"block"}})})});jg.displayName=yg;function FS(s){return s!==null}var $S=s=>({name:"transformOrigin",options:s,fn(r){const{placement:i,rects:o,middlewareData:c}=r,m=c.arrow?.centerOffset!==0,h=m?0:s.arrowWidth,g=m?0:s.arrowHeight,[v,y]=wg(i),x={start:"0%",center:"50%",end:"100%"}[y],w=(c.arrow?.x??0)+h/2,T=(c.arrow?.y??0)+g/2;let E="",N="";return v==="bottom"?(E=m?x:`${w}px`,N=`${-g}px`):v==="top"?(E=m?x:`${w}px`,N=`${o.floating.height+g}px`):v==="right"?(E=`${-g}px`,N=m?x:`${T}px`):v==="left"&&(E=`${o.floating.width+g}px`,N=m?x:`${T}px`),{data:{x:E,y:N}}}});function wg(s){const[r,i="center"]=s.split("-");return[r,i]}var US=pg,VS=gg,BS=vg,WS=jg,HS=[" ","Enter","ArrowUp","ArrowDown"],qS=[" ","Enter"],Bs="Select",[zl,Fl,GS]=Fd(Bs),[Wr]=Fn(Bs,[GS,fg]),$l=fg(),[KS,ws]=Wr(Bs),[QS,JS]=Wr(Bs),Ng=s=>{const{__scopeSelect:r,children:i,open:o,defaultOpen:c,onOpenChange:d,value:m,defaultValue:h,onValueChange:g,dir:v,name:y,autoComplete:x,disabled:w,required:T,form:E}=s,N=$l(r),[j,_]=f.useState(null),[C,I]=f.useState(null),[k,W]=f.useState(!1),F=Zd(v),[L,M]=gs({prop:o,defaultProp:c??!1,onChange:d,caller:Bs}),[z,K]=gs({prop:m,defaultProp:h,onChange:g,caller:Bs}),O=f.useRef(null),V=j?E||!!j.closest("form"):!0,[R,S]=f.useState(new Set),ee=Array.from(R).map(re=>re.props.value).join(";");return e.jsx(US,{...N,children:e.jsxs(KS,{required:T,scope:r,trigger:j,onTriggerChange:_,valueNode:C,onValueNodeChange:I,valueNodeHasChildren:k,onValueNodeHasChildrenChange:W,contentId:ds(),value:z,onValueChange:K,open:L,onOpenChange:M,dir:F,triggerPointerDownPosRef:O,disabled:w,children:[e.jsx(zl.Provider,{scope:r,children:e.jsx(QS,{scope:s.__scopeSelect,onNativeOptionAdd:f.useCallback(re=>{S(fe=>new Set(fe).add(re))},[]),onNativeOptionRemove:f.useCallback(re=>{S(fe=>{const A=new Set(fe);return A.delete(re),A})},[]),children:i})}),V?e.jsxs(qg,{"aria-hidden":!0,required:T,tabIndex:-1,name:y,autoComplete:x,value:z,onChange:re=>K(re.target.value),disabled:w,form:E,children:[z===void 0?e.jsx("option",{value:""}):null,Array.from(R)]},ee):null]})})};Ng.displayName=Bs;var bg="SelectTrigger",Sg=f.forwardRef((s,r)=>{const{__scopeSelect:i,disabled:o=!1,...c}=s,d=$l(i),m=ws(bg,i),h=m.disabled||o,g=Ye(r,m.onTriggerChange),v=Fl(i),y=f.useRef("touch"),[x,w,T]=Kg(N=>{const j=v().filter(I=>!I.disabled),_=j.find(I=>I.value===m.value),C=Qg(j,N,_);C!==void 0&&m.onValueChange(C.value)}),E=N=>{h||(m.onOpenChange(!0),T()),N&&(m.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return e.jsx(VS,{asChild:!0,...d,children:e.jsx(Me.button,{type:"button",role:"combobox","aria-controls":m.contentId,"aria-expanded":m.open,"aria-required":m.required,"aria-autocomplete":"none",dir:m.dir,"data-state":m.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":Gg(m.value)?"":void 0,...c,ref:g,onClick:Le(c.onClick,N=>{N.currentTarget.focus(),y.current!=="mouse"&&E(N)}),onPointerDown:Le(c.onPointerDown,N=>{y.current=N.pointerType;const j=N.target;j.hasPointerCapture(N.pointerId)&&j.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(E(N),N.preventDefault())}),onKeyDown:Le(c.onKeyDown,N=>{const j=x.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&w(N.key),!(j&&N.key===" ")&&HS.includes(N.key)&&(E(),N.preventDefault())})})})});Sg.displayName=bg;var Cg="SelectValue",_g=f.forwardRef((s,r)=>{const{__scopeSelect:i,className:o,style:c,children:d,placeholder:m="",...h}=s,g=ws(Cg,i),{onValueNodeHasChildrenChange:v}=g,y=d!==void 0,x=Ye(r,g.onValueNodeChange);return Nt(()=>{v(y)},[v,y]),e.jsx(Me.span,{...h,ref:x,style:{pointerEvents:"none"},children:Gg(g.value)?e.jsx(e.Fragment,{children:m}):d})});_g.displayName=Cg;var XS="SelectIcon",kg=f.forwardRef((s,r)=>{const{__scopeSelect:i,children:o,...c}=s;return e.jsx(Me.span,{"aria-hidden":!0,...c,ref:r,children:o||"▼"})});kg.displayName=XS;var YS="SelectPortal",Eg=s=>e.jsx(Tl,{asChild:!0,...s});Eg.displayName=YS;var Ws="SelectContent",Tg=f.forwardRef((s,r)=>{const i=ws(Ws,s.__scopeSelect),[o,c]=f.useState();if(Nt(()=>{c(new DocumentFragment)},[]),!i.open){const d=o;return d?Mr.createPortal(e.jsx(Rg,{scope:s.__scopeSelect,children:e.jsx(zl.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),d):null}return e.jsx(Pg,{...s,ref:r})});Tg.displayName=Ws;var cn=10,[Rg,Ns]=Wr(Ws),ZS="SelectContentImpl",e2=Ar("SelectContent.RemoveScroll"),Pg=f.forwardRef((s,r)=>{const{__scopeSelect:i,position:o="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:d,onPointerDownOutside:m,side:h,sideOffset:g,align:v,alignOffset:y,arrowPadding:x,collisionBoundary:w,collisionPadding:T,sticky:E,hideWhenDetached:N,avoidCollisions:j,..._}=s,C=ws(Ws,i),[I,k]=f.useState(null),[W,F]=f.useState(null),L=Ye(r,X=>k(X)),[M,z]=f.useState(null),[K,O]=f.useState(null),V=Fl(i),[R,S]=f.useState(!1),ee=f.useRef(!1);f.useEffect(()=>{if(I)return kx(I)},[I]),vx();const re=f.useCallback(X=>{const[ne,...je]=V().map(Ie=>Ie.ref.current),[pe]=je.slice(-1),Pe=document.activeElement;for(const Ie of X)if(Ie===Pe||(Ie?.scrollIntoView({block:"nearest"}),Ie===ne&&W&&(W.scrollTop=0),Ie===pe&&W&&(W.scrollTop=W.scrollHeight),Ie?.focus(),document.activeElement!==Pe))return},[V,W]),fe=f.useCallback(()=>re([M,I]),[re,M,I]);f.useEffect(()=>{R&&fe()},[R,fe]);const{onOpenChange:A,triggerPointerDownPosRef:J}=C;f.useEffect(()=>{if(I){let X={x:0,y:0};const ne=pe=>{X={x:Math.abs(Math.round(pe.pageX)-(J.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(J.current?.y??0))}},je=pe=>{X.x<=10&&X.y<=10?pe.preventDefault():I.contains(pe.target)||A(!1),document.removeEventListener("pointermove",ne),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",je,{capture:!0})}}},[I,A,J]),f.useEffect(()=>{const X=()=>A(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[A]);const[ce,$]=Kg(X=>{const ne=V().filter(Pe=>!Pe.disabled),je=ne.find(Pe=>Pe.ref.current===document.activeElement),pe=Qg(ne,X,je);pe&&setTimeout(()=>pe.ref.current.focus())}),se=f.useCallback((X,ne,je)=>{const pe=!ee.current&&!je;(C.value!==void 0&&C.value===ne||pe)&&(z(X),pe&&(ee.current=!0))},[C.value]),_e=f.useCallback(()=>I?.focus(),[I]),Y=f.useCallback((X,ne,je)=>{const pe=!ee.current&&!je;(C.value!==void 0&&C.value===ne||pe)&&O(X)},[C.value]),oe=o==="popper"?yd:Ig,ke=oe===yd?{side:h,sideOffset:g,align:v,alignOffset:y,arrowPadding:x,collisionBoundary:w,collisionPadding:T,sticky:E,hideWhenDetached:N,avoidCollisions:j}:{};return e.jsx(Rg,{scope:i,content:I,viewport:W,onViewportChange:F,itemRefCallback:se,selectedItem:M,onItemLeave:_e,itemTextRefCallback:Y,focusSelectedItem:fe,selectedItemText:K,position:o,isPositioned:R,searchRef:ce,children:e.jsx(qd,{as:e2,allowPinchZoom:!0,children:e.jsx(Hd,{asChild:!0,trapped:C.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Le(c,X=>{C.trigger?.focus({preventScroll:!0}),X.preventDefault()}),children:e.jsx(El,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:e.jsx(oe,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:X=>X.preventDefault(),..._,...ke,onPlaced:()=>S(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Le(_.onKeyDown,X=>{const ne=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!ne&&X.key.length===1&&$(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let pe=V().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(X.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Pe=X.target,Ie=pe.indexOf(Pe);pe=pe.slice(Ie+1)}setTimeout(()=>re(pe)),X.preventDefault()}})})})})})})});Pg.displayName=ZS;var t2="SelectItemAlignedPosition",Ig=f.forwardRef((s,r)=>{const{__scopeSelect:i,onPlaced:o,...c}=s,d=ws(Ws,i),m=Ns(Ws,i),[h,g]=f.useState(null),[v,y]=f.useState(null),x=Ye(r,L=>y(L)),w=Fl(i),T=f.useRef(!1),E=f.useRef(!0),{viewport:N,selectedItem:j,selectedItemText:_,focusSelectedItem:C}=m,I=f.useCallback(()=>{if(d.trigger&&d.valueNode&&h&&v&&N&&j&&_){const L=d.trigger.getBoundingClientRect(),M=v.getBoundingClientRect(),z=d.valueNode.getBoundingClientRect(),K=_.getBoundingClientRect();if(d.dir!=="rtl"){const Pe=K.left-M.left,Ie=z.left-Pe,mt=L.left-Ie,en=L.width+mt,Ks=Math.max(en,M.width),Qs=window.innerWidth-cn,bs=Kh(Ie,[cn,Math.max(cn,Qs-Ks)]);h.style.minWidth=en+"px",h.style.left=bs+"px"}else{const Pe=M.right-K.right,Ie=window.innerWidth-z.right-Pe,mt=window.innerWidth-L.right-Ie,en=L.width+mt,Ks=Math.max(en,M.width),Qs=window.innerWidth-cn,bs=Kh(Ie,[cn,Math.max(cn,Qs-Ks)]);h.style.minWidth=en+"px",h.style.right=bs+"px"}const O=w(),V=window.innerHeight-cn*2,R=N.scrollHeight,S=window.getComputedStyle(v),ee=parseInt(S.borderTopWidth,10),re=parseInt(S.paddingTop,10),fe=parseInt(S.borderBottomWidth,10),A=parseInt(S.paddingBottom,10),J=ee+re+R+A+fe,ce=Math.min(j.offsetHeight*5,J),$=window.getComputedStyle(N),se=parseInt($.paddingTop,10),_e=parseInt($.paddingBottom,10),Y=L.top+L.height/2-cn,oe=V-Y,ke=j.offsetHeight/2,X=j.offsetTop+ke,ne=ee+re+X,je=J-ne;if(ne<=Y){const Pe=O.length>0&&j===O[O.length-1].ref.current;h.style.bottom="0px";const Ie=v.clientHeight-N.offsetTop-N.offsetHeight,mt=Math.max(oe,ke+(Pe?_e:0)+Ie+fe),en=ne+mt;h.style.height=en+"px"}else{const Pe=O.length>0&&j===O[0].ref.current;h.style.top="0px";const mt=Math.max(Y,ee+N.offsetTop+(Pe?se:0)+ke)+je;h.style.height=mt+"px",N.scrollTop=ne-Y+N.offsetTop}h.style.margin=`${cn}px 0`,h.style.minHeight=ce+"px",h.style.maxHeight=V+"px",o?.(),requestAnimationFrame(()=>T.current=!0)}},[w,d.trigger,d.valueNode,h,v,N,j,_,d.dir,o]);Nt(()=>I(),[I]);const[k,W]=f.useState();Nt(()=>{v&&W(window.getComputedStyle(v).zIndex)},[v]);const F=f.useCallback(L=>{L&&E.current===!0&&(I(),C?.(),E.current=!1)},[I,C]);return e.jsx(s2,{scope:i,contentWrapper:h,shouldExpandOnScrollRef:T,onScrollButtonChange:F,children:e.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:e.jsx(Me.div,{...c,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});Ig.displayName=t2;var n2="SelectPopperPosition",yd=f.forwardRef((s,r)=>{const{__scopeSelect:i,align:o="start",collisionPadding:c=cn,...d}=s,m=$l(i);return e.jsx(BS,{...m,...d,ref:r,align:o,collisionPadding:c,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yd.displayName=n2;var[s2,ou]=Wr(Ws,{}),jd="SelectViewport",Ag=f.forwardRef((s,r)=>{const{__scopeSelect:i,nonce:o,...c}=s,d=Ns(jd,i),m=ou(jd,i),h=Ye(r,d.onViewportChange),g=f.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(zl.Slot,{scope:i,children:e.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:Le(c.onScroll,v=>{const y=v.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:w}=m;if(w?.current&&x){const T=Math.abs(g.current-y.scrollTop);if(T>0){const E=window.innerHeight-cn*2,N=parseFloat(x.style.minHeight),j=parseFloat(x.style.height),_=Math.max(N,j);if(_<E){const C=_+T,I=Math.min(E,C),k=C-I;x.style.height=I+"px",x.style.bottom==="0px"&&(y.scrollTop=k>0?k:0,x.style.justifyContent="flex-end")}}}g.current=y.scrollTop})})})]})});Ag.displayName=jd;var Lg="SelectGroup",[r2,a2]=Wr(Lg),i2=f.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,c=ds();return e.jsx(r2,{scope:i,id:c,children:e.jsx(Me.div,{role:"group","aria-labelledby":c,...o,ref:r})})});i2.displayName=Lg;var Mg="SelectLabel",Dg=f.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,c=a2(Mg,i);return e.jsx(Me.div,{id:c.id,...o,ref:r})});Dg.displayName=Mg;var bl="SelectItem",[l2,Og]=Wr(bl),zg=f.forwardRef((s,r)=>{const{__scopeSelect:i,value:o,disabled:c=!1,textValue:d,...m}=s,h=ws(bl,i),g=Ns(bl,i),v=h.value===o,[y,x]=f.useState(d??""),[w,T]=f.useState(!1),E=Ye(r,C=>g.itemRefCallback?.(C,o,c)),N=ds(),j=f.useRef("touch"),_=()=>{c||(h.onValueChange(o),h.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(l2,{scope:i,value:o,disabled:c,textId:N,isSelected:v,onItemTextChange:f.useCallback(C=>{x(I=>I||(C?.textContent??"").trim())},[]),children:e.jsx(zl.ItemSlot,{scope:i,value:o,disabled:c,textValue:y,children:e.jsx(Me.div,{role:"option","aria-labelledby":N,"data-highlighted":w?"":void 0,"aria-selected":v&&w,"data-state":v?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...m,ref:E,onFocus:Le(m.onFocus,()=>T(!0)),onBlur:Le(m.onBlur,()=>T(!1)),onClick:Le(m.onClick,()=>{j.current!=="mouse"&&_()}),onPointerUp:Le(m.onPointerUp,()=>{j.current==="mouse"&&_()}),onPointerDown:Le(m.onPointerDown,C=>{j.current=C.pointerType}),onPointerMove:Le(m.onPointerMove,C=>{j.current=C.pointerType,c?g.onItemLeave?.():j.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(m.onPointerLeave,C=>{C.currentTarget===document.activeElement&&g.onItemLeave?.()}),onKeyDown:Le(m.onKeyDown,C=>{g.searchRef?.current!==""&&C.key===" "||(qS.includes(C.key)&&_(),C.key===" "&&C.preventDefault())})})})})});zg.displayName=bl;var Aa="SelectItemText",Fg=f.forwardRef((s,r)=>{const{__scopeSelect:i,className:o,style:c,...d}=s,m=ws(Aa,i),h=Ns(Aa,i),g=Og(Aa,i),v=JS(Aa,i),[y,x]=f.useState(null),w=Ye(r,_=>x(_),g.onItemTextChange,_=>h.itemTextRefCallback?.(_,g.value,g.disabled)),T=y?.textContent,E=f.useMemo(()=>e.jsx("option",{value:g.value,disabled:g.disabled,children:T},g.value),[g.disabled,g.value,T]),{onNativeOptionAdd:N,onNativeOptionRemove:j}=v;return Nt(()=>(N(E),()=>j(E)),[N,j,E]),e.jsxs(e.Fragment,{children:[e.jsx(Me.span,{id:g.textId,...d,ref:w}),g.isSelected&&m.valueNode&&!m.valueNodeHasChildren?Mr.createPortal(d.children,m.valueNode):null]})});Fg.displayName=Aa;var $g="SelectItemIndicator",Ug=f.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s;return Og($g,i).isSelected?e.jsx(Me.span,{"aria-hidden":!0,...o,ref:r}):null});Ug.displayName=$g;var wd="SelectScrollUpButton",Vg=f.forwardRef((s,r)=>{const i=Ns(wd,s.__scopeSelect),o=ou(wd,s.__scopeSelect),[c,d]=f.useState(!1),m=Ye(r,o.onScrollButtonChange);return Nt(()=>{if(i.viewport&&i.isPositioned){let h=function(){const v=g.scrollTop>0;d(v)};const g=i.viewport;return h(),g.addEventListener("scroll",h),()=>g.removeEventListener("scroll",h)}},[i.viewport,i.isPositioned]),c?e.jsx(Wg,{...s,ref:m,onAutoScroll:()=>{const{viewport:h,selectedItem:g}=i;h&&g&&(h.scrollTop=h.scrollTop-g.offsetHeight)}}):null});Vg.displayName=wd;var Nd="SelectScrollDownButton",Bg=f.forwardRef((s,r)=>{const i=Ns(Nd,s.__scopeSelect),o=ou(Nd,s.__scopeSelect),[c,d]=f.useState(!1),m=Ye(r,o.onScrollButtonChange);return Nt(()=>{if(i.viewport&&i.isPositioned){let h=function(){const v=g.scrollHeight-g.clientHeight,y=Math.ceil(g.scrollTop)<v;d(y)};const g=i.viewport;return h(),g.addEventListener("scroll",h),()=>g.removeEventListener("scroll",h)}},[i.viewport,i.isPositioned]),c?e.jsx(Wg,{...s,ref:m,onAutoScroll:()=>{const{viewport:h,selectedItem:g}=i;h&&g&&(h.scrollTop=h.scrollTop+g.offsetHeight)}}):null});Bg.displayName=Nd;var Wg=f.forwardRef((s,r)=>{const{__scopeSelect:i,onAutoScroll:o,...c}=s,d=Ns("SelectScrollButton",i),m=f.useRef(null),h=Fl(i),g=f.useCallback(()=>{m.current!==null&&(window.clearInterval(m.current),m.current=null)},[]);return f.useEffect(()=>()=>g(),[g]),Nt(()=>{h().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),e.jsx(Me.div,{"aria-hidden":!0,...c,ref:r,style:{flexShrink:0,...c.style},onPointerDown:Le(c.onPointerDown,()=>{m.current===null&&(m.current=window.setInterval(o,50))}),onPointerMove:Le(c.onPointerMove,()=>{d.onItemLeave?.(),m.current===null&&(m.current=window.setInterval(o,50))}),onPointerLeave:Le(c.onPointerLeave,()=>{g()})})}),o2="SelectSeparator",Hg=f.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s;return e.jsx(Me.div,{"aria-hidden":!0,...o,ref:r})});Hg.displayName=o2;var bd="SelectArrow",c2=f.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,c=$l(i),d=ws(bd,i),m=Ns(bd,i);return d.open&&m.position==="popper"?e.jsx(WS,{...c,...o,ref:r}):null});c2.displayName=bd;var d2="SelectBubbleInput",qg=f.forwardRef(({__scopeSelect:s,value:r,...i},o)=>{const c=f.useRef(null),d=Ye(o,c),m=Xd(r);return f.useEffect(()=>{const h=c.current;if(!h)return;const g=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(g,"value").set;if(m!==r&&y){const x=new Event("change",{bubbles:!0});y.call(h,r),h.dispatchEvent(x)}},[m,r]),e.jsx(Me.select,{...i,style:{...Dp,...i.style},ref:d,defaultValue:r})});qg.displayName=d2;function Gg(s){return s===""||s===void 0}function Kg(s){const r=Xt(s),i=f.useRef(""),o=f.useRef(0),c=f.useCallback(m=>{const h=i.current+m;r(h),(function g(v){i.current=v,window.clearTimeout(o.current),v!==""&&(o.current=window.setTimeout(()=>g(""),1e3))})(h)},[r]),d=f.useCallback(()=>{i.current="",window.clearTimeout(o.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(o.current),[]),[i,c,d]}function Qg(s,r,i){const c=r.length>1&&Array.from(r).every(v=>v===r[0])?r[0]:r,d=i?s.indexOf(i):-1;let m=u2(s,Math.max(d,0));c.length===1&&(m=m.filter(v=>v!==i));const g=m.find(v=>v.textValue.toLowerCase().startsWith(c.toLowerCase()));return g!==i?g:void 0}function u2(s,r){return s.map((i,o)=>s[(r+o)%s.length])}var m2=Ng,Jg=Sg,f2=_g,h2=kg,p2=Eg,Xg=Tg,x2=Ag,Yg=Dg,Zg=zg,g2=Fg,v2=Ug,ev=Vg,tv=Bg,nv=Hg;const Ve=m2,Be=f2,Fe=f.forwardRef(({className:s,children:r,...i},o)=>e.jsxs(Jg,{ref:o,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[r,e.jsx(h2,{asChild:!0,children:e.jsx(Ld,{className:"h-4 w-4 opacity-50"})})]}));Fe.displayName=Jg.displayName;const sv=f.forwardRef(({className:s,...r},i)=>e.jsx(ev,{ref:i,className:Ee("flex cursor-default items-center justify-center py-1",s),...r,children:e.jsx(Jj,{className:"h-4 w-4"})}));sv.displayName=ev.displayName;const rv=f.forwardRef(({className:s,...r},i)=>e.jsx(tv,{ref:i,className:Ee("flex cursor-default items-center justify-center py-1",s),...r,children:e.jsx(Ld,{className:"h-4 w-4"})}));rv.displayName=tv.displayName;const $e=f.forwardRef(({className:s,children:r,position:i="popper",...o},c)=>e.jsx(p2,{children:e.jsxs(Xg,{ref:c,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...o,children:[e.jsx(sv,{}),e.jsx(x2,{className:Ee("p-1",i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(rv,{})]})}));$e.displayName=Xg.displayName;const y2=f.forwardRef(({className:s,...r},i)=>e.jsx(Yg,{ref:i,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r}));y2.displayName=Yg.displayName;const Q=f.forwardRef(({className:s,children:r,...i},o)=>e.jsxs(Zg,{ref:o,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(v2,{children:e.jsx(Ad,{className:"h-4 w-4"})})}),e.jsx(g2,{children:r})]}));Q.displayName=Zg.displayName;const j2=f.forwardRef(({className:s,...r},i)=>e.jsx(nv,{ref:i,className:Ee("-mx-1 my-1 h-px bg-muted",s),...r}));j2.displayName=nv.displayName;function w2(){const s=It(),{toast:r}=Zt(),[i,o]=f.useState(1),[c,d]=f.useState(!1),[m,h]=f.useState({name:"",slug:"",domain:"",sip_domain:"",context_prefix:"",timezone:"Europe/Rome",language:"it",max_extensions:100,max_trunks:10,max_concurrent_calls:20}),[g,v]=f.useState({first_name:"",last_name:"",email:"",password:"",role:"tenant_admin"}),[y,x]=f.useState([{legal_name:"",vat_number:"",tax_code:"",address:"",city:"",state:"",postal_code:"",country:"Italy",is_primary:!0}]),[w,T]=f.useState([{first_name:"",last_name:"",role:"",email:"",phone:"",mobile:"",is_primary:!0}]),E=[{id:1,title:"Informazioni Tenant",icon:Pr},{id:2,title:"Utente Admin",icon:kl},{id:3,title:"Ragioni Sociali",icon:Pr},{id:4,title:"Contatti",icon:ot}],N=(V,R)=>{if(h(S=>({...S,[V]:R})),V==="name"){const S=R.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();h(ee=>({...ee,slug:S,domain:S,sip_domain:`${S}.edgvoip.it`,context_prefix:`tenant-${S}`}))}if(V==="slug"){const S=R.toLowerCase().replace(/[^a-z0-9-]/g,"");h(ee=>({...ee,slug:S,sip_domain:`${S}.edgvoip.it`,context_prefix:`tenant-${S}`}))}},j=(V,R)=>{v(S=>({...S,[V]:R}))},_=(V,R,S)=>{x(ee=>ee.map((re,fe)=>fe===V?{...re,[R]:S}:re))},C=(V,R,S)=>{T(ee=>ee.map((re,fe)=>fe===V?{...re,[R]:S}:re))},I=()=>{x(V=>[...V,{legal_name:"",vat_number:"",tax_code:"",address:"",city:"",state:"",postal_code:"",country:"Italy",is_primary:!1}])},k=V=>{y.length>1&&x(R=>R.filter((S,ee)=>ee!==V))},W=()=>{T(V=>[...V,{first_name:"",last_name:"",role:"",email:"",phone:"",mobile:"",is_primary:!1}])},F=V=>{w.length>1&&T(R=>R.filter((S,ee)=>ee!==V))},L=V=>{switch(V){case 1:return!!(m.name&&m.slug&&m.domain&&m.sip_domain);case 2:return!!(g.first_name&&g.last_name&&g.email&&g.password);case 3:return y.every(R=>R.legal_name)&&y.some(R=>R.is_primary);case 4:return w.every(R=>R.first_name&&R.last_name)&&w.some(R=>R.is_primary);default:return!1}},M=()=>{L(i)?o(V=>Math.min(V+1,E.length)):r({title:"Errore",description:"Compila tutti i campi obbligatori prima di procedere",variant:"destructive"})},z=()=>{o(V=>Math.max(V-1,1))},K=async()=>{if(!L(4)){r({title:"Errore",description:"Compila tutti i campi obbligatori",variant:"destructive"});return}d(!0);try{await xe.createTenantWithCompanies({...m,admin_user:g,companies:y,contacts:w,settings:{max_extensions:m.max_extensions,max_trunks:m.max_trunks,max_concurrent_calls:m.max_concurrent_calls,recording_enabled:!0,gdpr_compliant:!0,voicemail_directory:`/var/lib/freeswitch/storage/${m.slug}/voicemail`}}),r({title:"Successo!",description:`Tenant ${m.name} creato con successo. Contesti FreeSWITCH generati automaticamente.`}),s("/edgvoip/tenants")}catch(V){r({title:"Errore",description:V.message||"Errore durante la creazione del tenant",variant:"destructive"})}finally{d(!1)}},O=()=>{switch(i){case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Informazioni Generali"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{htmlFor:"name",children:"Nome Tenant *"}),e.jsx(Z,{id:"name",value:m.name,onChange:V=>N("name",V.target.value),placeholder:"Es. Demo Tenant"})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"slug",children:"Slug Tenant * (solo lettere minuscole, numeri, trattini)"}),e.jsx(Z,{id:"slug",value:m.slug,onChange:V=>N("slug",V.target.value),placeholder:"Es. demo"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Verrà usato per generare il dominio SIP"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{htmlFor:"domain",children:"Dominio (per autenticazione web) *"}),e.jsx(Z,{id:"domain",value:m.domain,onChange:V=>N("domain",V.target.value),placeholder:"Es. demo"})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"sip_domain",children:"Dominio SIP (auto-generato)"}),e.jsx(Z,{id:"sip_domain",value:m.sip_domain,disabled:!0,className:"bg-gray-100"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{htmlFor:"context_prefix",children:"Prefisso Contesti FreeSWITCH (auto-generato)"}),e.jsx(Z,{id:"context_prefix",value:m.context_prefix,disabled:!0,className:"bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"timezone",children:"Fuso Orario"}),e.jsxs(Ve,{value:m.timezone,onValueChange:V=>N("timezone",V),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"Europe/Rome",children:"Europe/Rome (IT)"}),e.jsx(Q,{value:"Europe/London",children:"Europe/London (UK)"}),e.jsx(Q,{value:"Europe/Paris",children:"Europe/Paris (FR)"}),e.jsx(Q,{value:"Europe/Berlin",children:"Europe/Berlin (DE)"}),e.jsx(Q,{value:"America/New_York",children:"America/New_York (US-EST)"}),e.jsx(Q,{value:"UTC",children:"UTC"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"language",children:"Lingua IVR"}),e.jsxs(Ve,{value:m.language,onValueChange:V=>N("language",V),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"it",children:"Italiano"}),e.jsx(Q,{value:"en",children:"English"}),e.jsx(Q,{value:"es",children:"Español"}),e.jsx(Q,{value:"fr",children:"Français"})]})]})]})]}),e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Limiti Tenant"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{htmlFor:"max_extensions",children:"Max Extensions"}),e.jsx(Z,{id:"max_extensions",type:"number",min:"1",max:"1000",value:m.max_extensions,onChange:V=>N("max_extensions",parseInt(V.target.value)||100)})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"max_trunks",children:"Max Trunks"}),e.jsx(Z,{id:"max_trunks",type:"number",min:"1",max:"50",value:m.max_trunks,onChange:V=>N("max_trunks",parseInt(V.target.value)||10)})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"max_concurrent_calls",children:"Max Chiamate Simultanee"}),e.jsx(Z,{id:"max_concurrent_calls",type:"number",min:"1",max:"1000",value:m.max_concurrent_calls,onChange:V=>N("max_concurrent_calls",parseInt(V.target.value)||20)})]})]})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{htmlFor:"first_name",children:"Nome *"}),e.jsx(Z,{id:"first_name",value:g.first_name,onChange:V=>j("first_name",V.target.value),placeholder:"Nome"})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"last_name",children:"Cognome *"}),e.jsx(Z,{id:"last_name",value:g.last_name,onChange:V=>j("last_name",V.target.value),placeholder:"Cognome"})]})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"email",children:"Email *"}),e.jsx(Z,{id:"email",type:"email",value:g.email,onChange:V=>j("email",V.target.value),placeholder:"admin@azienda-demo.local"})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"password",children:"Password *"}),e.jsx(Z,{id:"password",type:"password",value:g.password,onChange:V=>j("password",V.target.value),placeholder:"Password sicura"})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"role",children:"Ruolo"}),e.jsxs(Ve,{value:g.role,onValueChange:V=>j("role",V),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"tenant_admin",children:"Tenant Admin"}),e.jsx(Q,{value:"super_admin",children:"Super Admin"})]})]})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Ragioni Sociali"}),e.jsxs(B,{onClick:I,size:"sm",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Aggiungi"]})]}),y.map((V,R)=>e.jsxs(de,{children:[e.jsx(ve,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(ye,{className:"text-base",children:["Azienda ",R+1]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:V.is_primary,onCheckedChange:S=>_(R,"is_primary",S)}),e.jsx(te,{className:"text-sm",children:"Primaria"})]}),y.length>1&&e.jsx(B,{onClick:()=>k(R),variant:"outline",size:"sm",children:e.jsx(pt,{className:"h-4 w-4"})})]})]})}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(te,{children:"Ragione Sociale *"}),e.jsx(Z,{value:V.legal_name,onChange:S=>_(R,"legal_name",S.target.value),placeholder:"Ragione sociale"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{children:"Partita IVA"}),e.jsx(Z,{value:V.vat_number,onChange:S=>_(R,"vat_number",S.target.value),placeholder:"IT12345678901"})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Codice Fiscale"}),e.jsx(Z,{value:V.tax_code,onChange:S=>_(R,"tax_code",S.target.value),placeholder:"RSSMRA80A01H501U"})]})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Indirizzo"}),e.jsx(bn,{value:V.address,onChange:S=>_(R,"address",S.target.value),placeholder:"Via, numero civico"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{children:"Città"}),e.jsx(Z,{value:V.city,onChange:S=>_(R,"city",S.target.value),placeholder:"Milano"})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Provincia"}),e.jsx(Z,{value:V.state,onChange:S=>_(R,"state",S.target.value),placeholder:"MI"})]}),e.jsxs("div",{children:[e.jsx(te,{children:"CAP"}),e.jsx(Z,{value:V.postal_code,onChange:S=>_(R,"postal_code",S.target.value),placeholder:"20100"})]})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Paese"}),e.jsx(Z,{value:V.country,onChange:S=>_(R,"country",S.target.value),placeholder:"Italy"})]})]})]},R))]});case 4:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Contatti"}),e.jsxs(B,{onClick:W,size:"sm",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Aggiungi"]})]}),w.map((V,R)=>e.jsxs(de,{children:[e.jsx(ve,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(ye,{className:"text-base",children:["Contatto ",R+1]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:V.is_primary,onCheckedChange:S=>C(R,"is_primary",S)}),e.jsx(te,{className:"text-sm",children:"Primario"})]}),w.length>1&&e.jsx(B,{onClick:()=>F(R),variant:"outline",size:"sm",children:e.jsx(pt,{className:"h-4 w-4"})})]})]})}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{children:"Nome *"}),e.jsx(Z,{value:V.first_name,onChange:S=>C(R,"first_name",S.target.value),placeholder:"Nome"})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Cognome *"}),e.jsx(Z,{value:V.last_name,onChange:S=>C(R,"last_name",S.target.value),placeholder:"Cognome"})]})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Ruolo"}),e.jsx(Z,{value:V.role,onChange:S=>C(R,"role",S.target.value),placeholder:"Es. Amministratore, Responsabile IT"})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Email"}),e.jsx(Z,{type:"email",value:V.email,onChange:S=>C(R,"email",S.target.value),placeholder:"contatto@azienda-demo.local"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{children:"Telefono"}),e.jsx(Z,{value:V.phone,onChange:S=>C(R,"phone",S.target.value),placeholder:"02 1234567"})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Cellulare"}),e.jsx(Z,{value:V.mobile,onChange:S=>C(R,"mobile",S.target.value),placeholder:"+39 123 456 7890"})]})]})]})]},R))]});default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Crea Nuovo Tenant"}),e.jsx("p",{className:"text-muted-foreground",children:"Configura un nuovo tenant con utenza admin, ragioni sociali e contatti"})]}),e.jsxs(B,{variant:"outline",onClick:()=>s("/edgvoip/tenants"),children:[e.jsx(jh,{className:"h-4 w-4 mr-2"}),"Torna ai Tenant"]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:E.map((V,R)=>{const S=V.icon,ee=i===V.id,re=i>V.id;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${ee?"border-blue-600 bg-blue-600 text-white":re?"border-green-600 bg-green-600 text-white":"border-gray-300 bg-white text-gray-500"}`,children:e.jsx(S,{className:"h-5 w-5"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:`text-sm font-medium ${ee?"text-blue-600":re?"text-green-600":"text-gray-500"}`,children:V.title})}),R<E.length-1&&e.jsx("div",{className:`w-8 h-0.5 mx-4 ${re?"bg-green-600":"bg-gray-300"}`})]},V.id)})}),e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center",children:[dn.createElement(E[i-1].icon,{className:"h-5 w-5 mr-2"}),E[i-1].title]}),e.jsxs(Ue,{children:[i===1&&"Configura le informazioni base del tenant",i===2&&"Crea l'utenza amministratore per il tenant",i===3&&"Aggiungi le ragioni sociali associate al tenant",i===4&&"Definisci i contatti di riferimento"]})]}),e.jsx(me,{children:O()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(B,{variant:"outline",onClick:z,disabled:i===1,children:[e.jsx(jh,{className:"h-4 w-4 mr-2"}),"Precedente"]}),e.jsx("div",{className:"flex space-x-2",children:i<E.length?e.jsxs(B,{onClick:M,children:["Avanti",e.jsx(Id,{className:"h-4 w-4 ml-2"})]}):e.jsxs(B,{onClick:K,disabled:c,children:[e.jsx($a,{className:"h-4 w-4 mr-2"}),c?"Creazione...":"Crea Tenant"]})})]})]})}function av(){const s=It();return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(vp,{className:"h-24 w-24 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Tenant Not Found"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"The tenant you're looking for doesn't exist or is currently inactive. Please check the URL and try again."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(B,{onClick:()=>s("/"),className:"w-full",size:"lg",children:[e.jsx(ew,{className:"h-4 w-4 mr-2"}),"Go to Home"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"If you believe this is an error, please contact your system administrator."})]})]})})}function N2(){const[s,r]=f.useState({user:null,token:null,isAuthenticated:!1,isLoading:!0});f.useEffect(()=>{const d=localStorage.getItem("edgvoip-token");if(d)try{if(d.split(".").length!==3)throw new Error("Invalid token format");const m=JSON.parse(atob(d.split(".")[1])),h={id:m.id,email:m.email,name:m.name,tenant_id:m.tenant_id,role:m.role,iat:m.iat,exp:m.exp};h.exp&&h.exp*1e3<Date.now()?(localStorage.removeItem("edgvoip-token"),r({user:null,token:null,isAuthenticated:!1,isLoading:!1})):(xe.setToken(d),r({user:h,token:d,isAuthenticated:!0,isLoading:!1}))}catch(m){console.error("Invalid token:",m),localStorage.removeItem("edgvoip-token"),r({user:null,token:null,isAuthenticated:!1,isLoading:!1})}else r({user:null,token:null,isAuthenticated:!1,isLoading:!1})},[]);const i=f.useCallback(d=>{try{if(!d||typeof d!="string"||d.split(".").length!==3)throw new Error("Invalid token format");const m=JSON.parse(atob(d.split(".")[1])),h={id:m.id,email:m.email,name:m.name,tenant_id:m.tenant_id,role:m.role,iat:m.iat,exp:m.exp};localStorage.setItem("edgvoip-token",d),xe.setToken(d),r({user:h,token:d,isAuthenticated:!0,isLoading:!1})}catch(m){throw console.error("Invalid token:",m),localStorage.removeItem("edgvoip-token"),new Error("Invalid token")}},[]),o=f.useCallback(()=>{localStorage.removeItem("edgvoip-token"),xe.clearToken(),r({user:null,token:null,isAuthenticated:!1,isLoading:!1})},[]),c=f.useCallback(async()=>{if(!s.token)return!1;try{if(s.token.split(".").length!==3)return o(),!1;const d=JSON.parse(atob(s.token.split(".")[1]));return d.exp&&d.exp*1e3<Date.now()?(o(),!1):!0}catch(d){return console.error("Token refresh failed:",d),o(),!1}},[s.token,o]);return{...s,login:i,logout:o,refreshToken:c}}function b2(){const[s,r]=f.useState({totalCalls:0,activeCalls:0,totalExtensions:0,totalStores:0,callVolume:0,averageCallDuration:0}),[i,o]=f.useState(!0),{user:c}=N2(),d=It(),{tenantSlug:m}=Pd();f.useEffect(()=>{h()},[]);const h=async()=>{try{o(!0);const y=await xe.getCDRStats({start_date:new Date(Date.now()-1440*60*1e3).toISOString()}),x=await xe.getExtensions({limit:1}),w=await xe.getStores({limit:1}),T=await xe.getCallStatus();r({totalCalls:y.data?.total_calls||0,activeCalls:T.data?.freeswitch?.connected?Math.floor(Math.random()*10):0,totalExtensions:x.data?.pagination?.total||0,totalStores:w.data?.pagination?.total||0,callVolume:y.data?.total_duration||0,averageCallDuration:y.data?.average_duration||0})}catch(y){console.error("Failed to load dashboard data:",y)}finally{o(!1)}},g=y=>{const x=Math.floor(y/3600),w=Math.floor(y%3600/60);return`${x}h ${w}m`},v=y=>{const x=Math.floor(y/60),w=y%60;return`${x}:${w.toString().padStart(2,"0")}`};return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),e.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",c?.role==="super_admin"?"Administrator":"User","! Here's your VoIP system overview."]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(de,{variant:"glass",className:"group",children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Total Calls (24h)"}),e.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br from-blue-500/10 to-blue-600/10 
                        group-hover:from-blue-500/20 group-hover:to-blue-600/20
                        transition-colors duration-200`,children:e.jsx(Qe,{className:"h-4 w-4 text-blue-600 group-hover:scale-110 transition-transform"})})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.totalCalls}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx(zd,{className:"inline h-3 w-3 mr-1"}),"+12% from yesterday"]})]})]}),e.jsxs(de,{variant:"glass",className:"group",children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Active Calls"}),e.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br from-green-500/10 to-green-600/10 
                        group-hover:from-green-500/20 group-hover:to-green-600/20
                        transition-colors duration-200`,children:e.jsx(zr,{className:"h-4 w-4 text-green-600 group-hover:scale-110 transition-transform"})})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.activeCalls}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently in progress"})]})]}),e.jsxs(de,{variant:"glass",className:"group",children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Extensions"}),e.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br from-purple-500/10 to-purple-600/10 
                        group-hover:from-purple-500/20 group-hover:to-purple-600/20
                        transition-colors duration-200`,children:e.jsx(ot,{className:"h-4 w-4 text-purple-600 group-hover:scale-110 transition-transform"})})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.totalExtensions}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total registered extensions"})]})]}),e.jsxs(de,{variant:"glass",className:"group",children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Stores"}),e.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br from-orange-500/10 to-orange-600/10 
                        group-hover:from-orange-500/20 group-hover:to-orange-600/20
                        transition-colors duration-200`,children:e.jsx(ad,{className:"h-4 w-4 text-orange-600 group-hover:scale-110 transition-transform"})})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.totalStores}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active store locations"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(de,{variant:"glass",className:"group",children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Call Volume (24h)"}),e.jsx(Ue,{children:"Total call duration in the last 24 hours"})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-3xl font-bold",children:g(s.callVolume)}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(he,{variant:"secondary",className:"hover:scale-105 transition-transform",children:"Voice Calls"}),e.jsx(he,{variant:"outline",className:"hover:scale-105 transition-transform",children:"Video Calls"})]})]})]}),e.jsxs(de,{variant:"glass",className:"group",children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Average Call Duration"}),e.jsx(Ue,{children:"Mean duration of completed calls"})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-3xl font-bold",children:v(s.averageCallDuration)}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(un,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Per call average"})]})]})]})]}),e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Quick Actions"}),e.jsx(Ue,{children:"Common tasks and system management"})]}),e.jsx(me,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(B,{variant:"outline",className:"h-20 flex flex-col items-center justify-center hover:bg-blue-50 transition-colors",onClick:()=>d(`/${m}/ring-groups`),children:[e.jsx(dw,{className:"h-6 w-6 mb-2"}),e.jsx("span",{children:"Ring Groups"})]}),e.jsxs(B,{variant:"outline",className:"h-20 flex flex-col items-center justify-center hover:bg-purple-50 transition-colors",onClick:()=>d(`/${m}/extensions`),children:[e.jsx(ot,{className:"h-6 w-6 mb-2"}),e.jsx("span",{children:"Manage Extensions"})]}),e.jsxs(B,{variant:"outline",className:"h-20 flex flex-col items-center justify-center hover:bg-orange-50 transition-colors",onClick:()=>d(`/${m}/stores`),children:[e.jsx(ad,{className:"h-6 w-6 mb-2"}),e.jsx("span",{children:"Store Settings"})]})]})})]}),e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"System Status"}),e.jsx(Ue,{children:"Current system health and connectivity"})]}),e.jsx(me,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"FreeSWITCH Connection"})]}),e.jsx(he,{variant:"secondary",children:"Connected"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"Database"})]}),e.jsx(he,{variant:"secondary",children:"Healthy"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"API Services"})]}),e.jsx(he,{variant:"secondary",children:"Running"})]})]})})]})]})}function S2(){const s=It(),[r,i]=f.useState([]),[o,c]=f.useState(!0),[d,m]=f.useState(""),{toast:h}=Zt();f.useEffect(()=>{g()},[]);const g=async()=>{try{c(!0);const y=await xe.getTenants();i(y.data?.tenants||[])}catch{h({title:"Error",description:"Failed to load tenants",variant:"destructive"})}finally{c(!1)}},v=r.filter(y=>y.name.toLowerCase().includes(d.toLowerCase())||y.domain.toLowerCase().includes(d.toLowerCase())||y.sip_domain.toLowerCase().includes(d.toLowerCase()));return o?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Tenants"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage multi-tenant VoIP configurations"})]}),e.jsxs(B,{onClick:()=>s("/edgvoip/tenants/create"),children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Tenant"]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Z,{placeholder:"Search tenants...",value:d,onChange:y=>m(y.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:v.map(y=>e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ye,{className:"text-lg",children:y.name}),e.jsx(he,{variant:"secondary",children:"Active"})]}),e.jsx(Ue,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:["Domain: ",y.domain]}),e.jsxs("div",{className:"text-blue-600 font-medium",children:["SIP Domain: ",y.sip_domain]})]})})]}),e.jsxs(me,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"EDG Suite ID:"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:y.edg_suite_id})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Created:"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:new Date(y.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsxs(B,{variant:"outline",size:"sm",children:[e.jsx(Pt,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsxs(B,{variant:"outline",size:"sm",children:[e.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(B,{variant:"outline",size:"sm",children:[e.jsx(pt,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})]},y.id))}),v.length===0&&e.jsx(de,{children:e.jsx(me,{className:"flex flex-col items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tenants found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:d?"Try adjusting your search terms.":"Get started by creating your first tenant."}),e.jsxs(B,{children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Tenant"]})]})})})]})}function C2(){const[s,r]=f.useState([]),[i,o]=f.useState(!0),[c,d]=f.useState(""),{toast:m}=Zt();f.useEffect(()=>{h()},[]);const h=async()=>{try{o(!0);const v=await xe.getStores();r(v.data?.stores||[])}catch{m({title:"Error",description:"Failed to load stores",variant:"destructive"})}finally{o(!1)}},g=s.filter(v=>v.name.toLowerCase().includes(c.toLowerCase())||v.store_id.toLowerCase().includes(c.toLowerCase()));return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Stores"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage store locations and SIP trunk configurations"})]}),e.jsxs(B,{children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Store"]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Z,{placeholder:"Search stores...",value:c,onChange:v=>d(v.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:g.map(v=>e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ye,{className:"text-lg",children:v.name}),e.jsx(he,{variant:"secondary",children:"Active"})]}),e.jsxs(Ue,{children:["Store ID: ",v.store_id]})]}),e.jsxs(me,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"SIP Trunk:"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:v.sip_trunk_settings?.provider||"Not configured"})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Created:"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:new Date(v.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsxs(B,{variant:"outline",size:"sm",children:[e.jsx(Pt,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsxs(B,{variant:"outline",size:"sm",children:[e.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(B,{variant:"outline",size:"sm",children:[e.jsx(Qe,{className:"h-4 w-4 mr-1"}),"SIP Config"]}),e.jsxs(B,{variant:"outline",size:"sm",children:[e.jsx(pt,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})]},v.id))}),g.length===0&&e.jsx(de,{children:e.jsx(me,{className:"flex flex-col items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No stores found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:c?"Try adjusting your search terms.":"Get started by creating your first store."}),e.jsxs(B,{children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Store"]})]})})})]})}var ed="rovingFocusGroup.onEntryFocus",_2={bubbles:!1,cancelable:!0},Ha="RovingFocusGroup",[Sd,iv,k2]=Fd(Ha),[E2,lv]=Fn(Ha,[k2]),[T2,R2]=E2(Ha),ov=f.forwardRef((s,r)=>e.jsx(Sd.Provider,{scope:s.__scopeRovingFocusGroup,children:e.jsx(Sd.Slot,{scope:s.__scopeRovingFocusGroup,children:e.jsx(P2,{...s,ref:r})})}));ov.displayName=Ha;var P2=f.forwardRef((s,r)=>{const{__scopeRovingFocusGroup:i,orientation:o,loop:c=!1,dir:d,currentTabStopId:m,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:g,onEntryFocus:v,preventScrollOnEntryFocus:y=!1,...x}=s,w=f.useRef(null),T=Ye(r,w),E=Zd(d),[N,j]=gs({prop:m,defaultProp:h??null,onChange:g,caller:Ha}),[_,C]=f.useState(!1),I=Xt(v),k=iv(i),W=f.useRef(!1),[F,L]=f.useState(0);return f.useEffect(()=>{const M=w.current;if(M)return M.addEventListener(ed,I),()=>M.removeEventListener(ed,I)},[I]),e.jsx(T2,{scope:i,orientation:o,dir:E,loop:c,currentTabStopId:N,onItemFocus:f.useCallback(M=>j(M),[j]),onItemShiftTab:f.useCallback(()=>C(!0),[]),onFocusableItemAdd:f.useCallback(()=>L(M=>M+1),[]),onFocusableItemRemove:f.useCallback(()=>L(M=>M-1),[]),children:e.jsx(Me.div,{tabIndex:_||F===0?-1:0,"data-orientation":o,...x,ref:T,style:{outline:"none",...s.style},onMouseDown:Le(s.onMouseDown,()=>{W.current=!0}),onFocus:Le(s.onFocus,M=>{const z=!W.current;if(M.target===M.currentTarget&&z&&!_){const K=new CustomEvent(ed,_2);if(M.currentTarget.dispatchEvent(K),!K.defaultPrevented){const O=k().filter(re=>re.focusable),V=O.find(re=>re.active),R=O.find(re=>re.id===N),ee=[V,R,...O].filter(Boolean).map(re=>re.ref.current);uv(ee,y)}}W.current=!1}),onBlur:Le(s.onBlur,()=>C(!1))})})}),cv="RovingFocusGroupItem",dv=f.forwardRef((s,r)=>{const{__scopeRovingFocusGroup:i,focusable:o=!0,active:c=!1,tabStopId:d,children:m,...h}=s,g=ds(),v=d||g,y=R2(cv,i),x=y.currentTabStopId===v,w=iv(i),{onFocusableItemAdd:T,onFocusableItemRemove:E,currentTabStopId:N}=y;return f.useEffect(()=>{if(o)return T(),()=>E()},[o,T,E]),e.jsx(Sd.ItemSlot,{scope:i,id:v,focusable:o,active:c,children:e.jsx(Me.span,{tabIndex:x?0:-1,"data-orientation":y.orientation,...h,ref:r,onMouseDown:Le(s.onMouseDown,j=>{o?y.onItemFocus(v):j.preventDefault()}),onFocus:Le(s.onFocus,()=>y.onItemFocus(v)),onKeyDown:Le(s.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){y.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const _=L2(j,y.orientation,y.dir);if(_!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let I=w().filter(k=>k.focusable).map(k=>k.ref.current);if(_==="last")I.reverse();else if(_==="prev"||_==="next"){_==="prev"&&I.reverse();const k=I.indexOf(j.currentTarget);I=y.loop?M2(I,k+1):I.slice(k+1)}setTimeout(()=>uv(I))}}),children:typeof m=="function"?m({isCurrentTabStop:x,hasTabStop:N!=null}):m})})});dv.displayName=cv;var I2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A2(s,r){return r!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function L2(s,r,i){const o=A2(s.key,i);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return I2[o]}function uv(s,r=!1){const i=document.activeElement;for(const o of s)if(o===i||(o.focus({preventScroll:r}),document.activeElement!==i))return}function M2(s,r){return s.map((i,o)=>s[(r+o)%s.length])}var D2=ov,O2=dv,Ul="Tabs",[z2]=Fn(Ul,[lv]),mv=lv(),[F2,cu]=z2(Ul),fv=f.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,onValueChange:c,defaultValue:d,orientation:m="horizontal",dir:h,activationMode:g="automatic",...v}=s,y=Zd(h),[x,w]=gs({prop:o,onChange:c,defaultProp:d??"",caller:Ul});return e.jsx(F2,{scope:i,baseId:ds(),value:x,onValueChange:w,orientation:m,dir:y,activationMode:g,children:e.jsx(Me.div,{dir:y,"data-orientation":m,...v,ref:r})})});fv.displayName=Ul;var hv="TabsList",pv=f.forwardRef((s,r)=>{const{__scopeTabs:i,loop:o=!0,...c}=s,d=cu(hv,i),m=mv(i);return e.jsx(D2,{asChild:!0,...m,orientation:d.orientation,dir:d.dir,loop:o,children:e.jsx(Me.div,{role:"tablist","aria-orientation":d.orientation,...c,ref:r})})});pv.displayName=hv;var xv="TabsTrigger",gv=f.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,disabled:c=!1,...d}=s,m=cu(xv,i),h=mv(i),g=jv(m.baseId,o),v=wv(m.baseId,o),y=o===m.value;return e.jsx(O2,{asChild:!0,...h,focusable:!c,active:y,children:e.jsx(Me.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":v,"data-state":y?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:g,...d,ref:r,onMouseDown:Le(s.onMouseDown,x=>{!c&&x.button===0&&x.ctrlKey===!1?m.onValueChange(o):x.preventDefault()}),onKeyDown:Le(s.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&m.onValueChange(o)}),onFocus:Le(s.onFocus,()=>{const x=m.activationMode!=="manual";!y&&!c&&x&&m.onValueChange(o)})})})});gv.displayName=xv;var vv="TabsContent",yv=f.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,forceMount:c,children:d,...m}=s,h=cu(vv,i),g=jv(h.baseId,o),v=wv(h.baseId,o),y=o===h.value,x=f.useRef(y);return f.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),e.jsx(Gs,{present:c||y,children:({present:w})=>e.jsx(Me.div,{"data-state":y?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":g,hidden:!w,id:v,tabIndex:0,...m,ref:r,style:{...s.style,animationDuration:x.current?"0s":void 0},children:w&&d})})});yv.displayName=vv;function jv(s,r){return`${s}-trigger-${r}`}function wv(s,r){return`${s}-content-${r}`}var $2=fv,Nv=pv,bv=gv,Sv=yv;const Hs=$2,js=f.forwardRef(({className:s,...r},i)=>e.jsx(Nv,{ref:i,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r}));js.displayName=Nv.displayName;const We=f.forwardRef(({className:s,...r},i)=>e.jsx(bv,{ref:i,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r}));We.displayName=bv.displayName;const Xe=f.forwardRef(({className:s,...r},i)=>e.jsx(Sv,{ref:i,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r}));Xe.displayName=Sv.displayName;function U2(){const{user:s}=xt(),{toast:r}=Zt(),[i,o]=f.useState([]),[c,d]=f.useState(!1),[m,h]=f.useState("create"),[g,v]=f.useState(!1),[y,x]=f.useState(""),[w,T]=f.useState(!1),[E,N]=f.useState(null),[j,_]=f.useState({extension:"",password:"",display_name:"",status:"active",caller_id_number:"",voicemail_pin:"",pickup_group:"",limit_max:3,settings:{voicemail_enabled:!0,call_forwarding:{enabled:!1,destination:""},dnd_enabled:!1,recording_enabled:!1,timeout_seconds:30,email:"",timezone:"Europe/Rome",notes:"",codec_prefs:["PCMA","OPUS"],force_tls:!1,force_srtp:!1,ip_whitelist:[]}});f.useEffect(()=>{C()},[]);const C=async()=>{v(!0);try{const S=await xe.getExtensions({limit:100});S?.success&&S?.data?.items&&Array.isArray(S.data.items)?o(S.data.items):o([])}catch(S){console.error("Error loading extensions:",S),r({title:"Errore",description:"Impossibile caricare le extensions",variant:"destructive"}),o([])}finally{v(!1)}},I=async()=>{if(s?.tenant_id){v(!0);try{j.caller_id_number||(j.caller_id_number=j.extension);const S=await xe.post("/voip/sip-extensions",{...j,tenant_id:s.tenant_id});await C(),d(!1),z(),r({title:"Successo!",description:`Extension ${j.extension} creata con successo`})}catch(S){r({title:"Errore",description:S.message||"Errore durante la creazione",variant:"destructive"})}finally{v(!1)}}},k=async()=>{if(E?.id){v(!0);try{await xe.put(`/voip/sip-extensions/${E.id}`,j),await C(),d(!1),z(),r({title:"Successo!",description:`Extension ${j.extension} aggiornata`})}catch(S){r({title:"Errore",description:S.message||"Errore durante l'aggiornamento",variant:"destructive"})}finally{v(!1)}}},W=async()=>{if(m==="create"?await I():await k(),E?.id)try{await xe.post(`/freeswitch-deploy/extension/${E.id}`,{}),r({title:"Deploy Completato!",description:"Configurazione FreeSWITCH aggiornata"})}catch(S){console.error("Deploy error:",S)}},F=async S=>{if(confirm("Sei sicuro di voler eliminare questa extension?")){v(!0);try{await xe.delete(`/voip/sip-extensions/${S}`),await C(),r({title:"Eliminata",description:"Extension eliminata con successo"})}catch(ee){r({title:"Errore",description:ee.message||"Errore durante l'eliminazione",variant:"destructive"})}finally{v(!1)}}},L=()=>{z(),h("create"),N(null),d(!0)},M=S=>{_({...S,settings:S.settings||j.settings}),h("edit"),N(S),d(!0)},z=()=>{_({extension:"",password:"",display_name:"",status:"active",caller_id_number:"",voicemail_pin:"",pickup_group:"",limit_max:3,settings:{voicemail_enabled:!0,call_forwarding:{enabled:!1,destination:""},dnd_enabled:!1,recording_enabled:!1,timeout_seconds:30,email:"",timezone:"Europe/Rome",notes:"",codec_prefs:["PCMA","OPUS"],force_tls:!1,force_srtp:!1,ip_whitelist:[]}}),N(null)},K=(S,ee)=>{_(re=>({...re,[S]:ee}))},O=(S,ee)=>{_(re=>({...re,settings:{...re.settings,[S]:ee}}))},V=i.filter(S=>S.extension?.includes(y)||S.display_name?.toLowerCase().includes(y.toLowerCase())),R=()=>{const S="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*",ee=Array.from({length:16},()=>S[Math.floor(Math.random()*S.length)]).join("");K("password",ee)};return g&&i.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Extensions"}),e.jsx("p",{className:"text-muted-foreground",children:"Gestisci interni telefonici e configurazioni SIP"})]}),e.jsxs(B,{onClick:L,children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Nuova Extension"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Z,{placeholder:"Cerca extension...",value:y,onChange:S=>x(S.target.value),className:"pl-10"})]}),e.jsxs(B,{variant:"outline",onClick:C,children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Ricarica"]})]}),e.jsxs(de,{children:[e.jsx(ve,{children:e.jsxs(ye,{children:["Elenco Extensions (",V.length,")"]})}),e.jsx(me,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3",children:"Extension"}),e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"Caller ID"}),e.jsx("th",{className:"text-left p-3",children:"Context"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-right p-3",children:"Azioni"})]})}),e.jsx("tbody",{children:V.map(S=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 font-mono font-semibold",children:S.extension}),e.jsx("td",{className:"p-3",children:S.display_name}),e.jsx("td",{className:"p-3 font-mono text-sm",children:S.caller_id_number||S.extension}),e.jsx("td",{className:"p-3 text-sm text-gray-600",children:S.context||"N/A"}),e.jsx("td",{className:"p-3",children:e.jsx(he,{variant:S.status==="active"?"default":"secondary",children:S.status})}),e.jsxs("td",{className:"p-3 text-right space-x-2",children:[e.jsx(B,{variant:"outline",size:"sm",onClick:()=>M(S),children:e.jsx(Yt,{className:"h-4 w-4"})}),e.jsx(B,{variant:"destructive",size:"sm",onClick:()=>S.id&&F(S.id),children:e.jsx(pt,{className:"h-4 w-4"})})]})]},S.id))})]})})})]}),e.jsx(Os,{open:c,onOpenChange:d,children:e.jsxs(us,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ms,{children:[e.jsx(fs,{children:m==="create"?"Crea Nuova Extension":`Modifica Extension ${j.extension}`}),e.jsx(Ba,{children:"Configura l'estensione SIP e le funzionalità telefoniche"})]}),e.jsxs(Hs,{defaultValue:"general",className:"w-full",children:[e.jsxs(js,{className:"grid w-full grid-cols-5",children:[e.jsx(We,{value:"general",children:"Generali"}),e.jsx(We,{value:"calls",children:"Chiamate"}),e.jsx(We,{value:"security",children:"Sicurezza"}),e.jsx(We,{value:"voicemail",children:"Voicemail"}),e.jsx(We,{value:"advanced",children:"Avanzate"})]}),e.jsxs(Xe,{value:"general",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{htmlFor:"extension",children:"Numero Extension *"}),e.jsx(Z,{id:"extension",value:j.extension,onChange:S=>K("extension",S.target.value),placeholder:"Es. 1000",disabled:m==="edit"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Numero interno (1000-1999)"})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"display_name",children:"Nome Visualizzato *"}),e.jsx(Z,{id:"display_name",value:j.display_name,onChange:S=>K("display_name",S.target.value),placeholder:"Es. Mario Rossi"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{htmlFor:"password",children:"Password SIP *"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Z,{id:"password",type:w?"text":"password",value:j.password,onChange:S=>K("password",S.target.value),placeholder:"Password sicura"}),e.jsx(B,{type:"button",variant:"outline",size:"icon",onClick:()=>T(!w),children:w?e.jsx(yp,{className:"h-4 w-4"}):e.jsx(Pt,{className:"h-4 w-4"})}),e.jsx(B,{type:"button",variant:"outline",onClick:R,children:"Genera"})]})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"email",children:"Email (per notifiche)"}),e.jsx(Z,{id:"email",type:"email",value:j.settings.email,onChange:S=>O("email",S.target.value),placeholder:"user@example.com"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:j.status==="active",onCheckedChange:S=>K("status",S?"active":"inactive")}),e.jsx(te,{children:"Extension Abilitata"})]})]}),e.jsxs(Xe,{value:"calls",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{htmlFor:"caller_id_name",children:"Caller ID Nome"}),e.jsx(Z,{id:"caller_id_name",value:j.display_name,disabled:!0,className:"bg-gray-100"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Usa "Nome Visualizzato" tab Generali'})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"caller_id_number",children:"Caller ID Numero"}),e.jsx(Z,{id:"caller_id_number",value:j.caller_id_number,onChange:S=>K("caller_id_number",S.target.value),placeholder:j.extension}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Numero mostrato nelle chiamate"})]})]}),e.jsxs("div",{children:[e.jsxs(te,{htmlFor:"timeout",children:["Timeout Squillo (secondi): ",j.settings.timeout_seconds,"s"]}),e.jsx("input",{id:"timeout",type:"range",min:"5",max:"60",value:j.settings.timeout_seconds,onChange:S=>O("timeout_seconds",parseInt(S.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ge,{checked:j.settings.call_forwarding.enabled,onCheckedChange:S=>O("call_forwarding",{...j.settings.call_forwarding,enabled:S})}),e.jsx(te,{children:"Deviazione Chiamate"})]}),j.settings.call_forwarding.enabled&&e.jsx(Z,{placeholder:"Numero destinazione",value:j.settings.call_forwarding.destination,onChange:S=>O("call_forwarding",{...j.settings.call_forwarding,destination:S.target.value})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:j.settings.dnd_enabled,onCheckedChange:S=>O("dnd_enabled",S)}),e.jsx(te,{children:"Do Not Disturb (DND)"})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"pickup_group",children:"Gruppo Pickup"}),e.jsx(Z,{id:"pickup_group",value:j.pickup_group,onChange:S=>K("pickup_group",S.target.value),placeholder:"Es. sales, support"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gruppo per pickup chiamate (*8)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:j.settings.recording_enabled,onCheckedChange:S=>O("recording_enabled",S)}),e.jsx(te,{children:"Registrazione Automatica Chiamate"})]})]}),e.jsxs(Xe,{value:"security",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(te,{htmlFor:"limit_max",children:"Max Chiamate Simultanee"}),e.jsx(Z,{id:"limit_max",type:"number",min:"1",max:"10",value:j.limit_max,onChange:S=>K("limit_max",parseInt(S.target.value)||3)})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Codec Preferiti"}),e.jsx("div",{className:"space-y-2",children:["PCMA","PCMU","OPUS","G729","G722"].map(S=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:j.settings.codec_prefs.includes(S),onChange:ee=>{const re=ee.target.checked?[...j.settings.codec_prefs,S]:j.settings.codec_prefs.filter(fe=>fe!==S);O("codec_prefs",re)},className:"rounded"}),e.jsx(te,{children:S})]},S))})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:j.settings.force_tls,onCheckedChange:S=>O("force_tls",S)}),e.jsx(te,{children:"Forza TLS (Secure Transport)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:j.settings.force_srtp,onCheckedChange:S=>O("force_srtp",S)}),e.jsx(te,{children:"Forza SRTP (Secure RTP)"})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"ip_whitelist",children:"IP Whitelist (uno per riga)"}),e.jsx(bn,{id:"ip_whitelist",value:j.settings.ip_whitelist.join(`
`),onChange:S=>O("ip_whitelist",S.target.value.split(`
`).filter(Boolean)),placeholder:`192.168.1.100
10.0.0.50`,rows:4}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Lascia vuoto per permettere tutti gli IP"})]})]}),e.jsxs(Xe,{value:"voicemail",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:j.settings.voicemail_enabled,onCheckedChange:S=>O("voicemail_enabled",S)}),e.jsx(te,{children:"Abilita Segreteria Telefonica"})]}),j.settings.voicemail_enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(te,{htmlFor:"voicemail_pin",children:"PIN Segreteria"}),e.jsx(Z,{id:"voicemail_pin",type:"password",value:j.voicemail_pin,onChange:S=>K("voicemail_pin",S.target.value),placeholder:"Es. 1234"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:j.settings.email_notification!==!1,onCheckedChange:S=>O("email_notification",S)}),e.jsx(te,{children:"Notifica via Email"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:j.settings.delete_after_email||!1,onCheckedChange:S=>O("delete_after_email",S)}),e.jsx(te,{children:"Elimina Messaggio Dopo Invio Email"})]})]})]}),e.jsxs(Xe,{value:"advanced",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(te,{htmlFor:"context",children:"Context FreeSWITCH (readonly)"}),e.jsx(Z,{id:"context",value:j.context||"Auto-generato dal tenant",disabled:!0,className:"bg-gray-100 font-mono text-sm"})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"timezone",children:"Timezone"}),e.jsxs(Ve,{value:j.settings.timezone,onValueChange:S=>O("timezone",S),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"Europe/Rome",children:"Europe/Rome (IT)"}),e.jsx(Q,{value:"Europe/London",children:"Europe/London (UK)"}),e.jsx(Q,{value:"America/New_York",children:"America/New_York (US)"}),e.jsx(Q,{value:"UTC",children:"UTC"})]})]})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"notes",children:"Note Amministrative"}),e.jsx(bn,{id:"notes",value:j.settings.notes,onChange:S=>O("notes",S.target.value),placeholder:"Note interne...",rows:4})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[e.jsxs(B,{variant:"outline",onClick:()=>d(!1),children:[e.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Annulla"]}),e.jsxs("div",{className:"space-x-2",children:[e.jsxs(B,{variant:"default",onClick:m==="create"?I:k,disabled:g,children:[e.jsx($a,{className:"h-4 w-4 mr-2"}),g?"Salvataggio...":"Salva"]}),e.jsxs(B,{variant:"default",className:"bg-green-600 hover:bg-green-700",onClick:W,disabled:g,children:[e.jsx(Od,{className:"h-4 w-4 mr-2"}),"Salva e Deploy FreeSWITCH"]})]})]})]})})]})}function V2(){const[s,r]=f.useState([]),[i,o]=f.useState(!0),[c,d]=f.useState(""),[m,h]=f.useState("all"),[g,v]=f.useState("all"),{toast:y}=Zt();f.useEffect(()=>{x()},[]);const x=async()=>{try{o(!0);const _=await xe.getCDR({limit:50,start_date:new Date(Date.now()-10080*60*1e3).toISOString()});r(_.data?.cdr||[])}catch{y({title:"Error",description:"Failed to load CDR records",variant:"destructive"})}finally{o(!1)}},w=s.filter(_=>{const C=_.caller_id_number?.toLowerCase().includes(c.toLowerCase())||_.callee_id_number?.toLowerCase().includes(c.toLowerCase())||_.caller_id_name?.toLowerCase().includes(c.toLowerCase())||_.callee_id_name?.toLowerCase().includes(c.toLowerCase()),I=m==="all"||_.call_direction===m,k=g==="all"||_.hangup_disposition===g;return C&&I&&k}),T=_=>{const C=Math.floor(_/3600),I=Math.floor(_%3600/60),k=_%60;return`${C.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}`},E=_=>{switch(_){case"inbound":return e.jsx(ld,{className:"h-4 w-4 text-green-600"});case"outbound":return e.jsx(od,{className:"h-4 w-4 text-blue-600"});case"internal":return e.jsx(Qe,{className:"h-4 w-4 text-purple-600"});default:return e.jsx(Qe,{className:"h-4 w-4 text-gray-600"})}},N=_=>{switch(_){case"answered":return e.jsx(he,{variant:"default",children:"Answered"});case"no_answer":return e.jsx(he,{variant:"secondary",children:"No Answer"});case"busy":return e.jsx(he,{variant:"destructive",children:"Busy"});case"failed":return e.jsx(he,{variant:"destructive",children:"Failed"});default:return e.jsx(he,{variant:"outline",children:"Unknown"})}},j=async _=>{try{const C=await xe.exportCDR(_);if(_==="csv"){const I=new Blob([C],{type:"text/csv"}),k=window.URL.createObjectURL(I),W=document.createElement("a");W.href=k,W.download=`cdr_export_${new Date().toISOString().split("T")[0]}.csv`,W.click(),window.URL.revokeObjectURL(k)}else{const I=new Blob([JSON.stringify(C,null,2)],{type:"application/json"}),k=window.URL.createObjectURL(I),W=document.createElement("a");W.href=k,W.download=`cdr_export_${new Date().toISOString().split("T")[0]}.json`,W.click(),window.URL.revokeObjectURL(k)}y({title:"Export successful",description:`CDR data exported as ${_.toUpperCase()}`})}catch{y({title:"Export failed",description:"Failed to export CDR data",variant:"destructive"})}};return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CDR Viewer"}),e.jsx("p",{className:"text-muted-foreground",children:"Call Detail Records and call history"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(B,{variant:"outline",onClick:()=>j("csv"),children:[e.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),e.jsxs(B,{variant:"outline",onClick:()=>j("json"),children:[e.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Export JSON"]})]})]}),e.jsxs(de,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center",children:[e.jsx(jp,{className:"h-5 w-5 mr-2"}),"Filters"]})}),e.jsx(me,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Z,{placeholder:"Search calls...",value:c,onChange:_=>d(_.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Direction"}),e.jsxs(Ve,{value:m,onValueChange:h,children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"all",children:"All Directions"}),e.jsx(Q,{value:"inbound",children:"Inbound"}),e.jsx(Q,{value:"outbound",children:"Outbound"}),e.jsx(Q,{value:"internal",children:"Internal"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Disposition"}),e.jsxs(Ve,{value:g,onValueChange:v,children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"all",children:"All Dispositions"}),e.jsx(Q,{value:"answered",children:"Answered"}),e.jsx(Q,{value:"no_answer",children:"No Answer"}),e.jsx(Q,{value:"busy",children:"Busy"}),e.jsx(Q,{value:"failed",children:"Failed"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Actions"}),e.jsx(B,{variant:"outline",className:"w-full",onClick:x,children:"Refresh"})]})]})})]}),e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{children:["Call Records (",w.length,")"]}),e.jsx(Ue,{children:"Recent call detail records"})]}),e.jsx(me,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:"Direction"}),e.jsx("th",{className:"text-left p-2",children:"Caller"}),e.jsx("th",{className:"text-left p-2",children:"Callee"}),e.jsx("th",{className:"text-left p-2",children:"Start Time"}),e.jsx("th",{className:"text-left p-2",children:"Duration"}),e.jsx("th",{className:"text-left p-2",children:"Disposition"}),e.jsx("th",{className:"text-left p-2",children:"Recording"})]})}),e.jsx("tbody",{children:w.map(_=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[E(_.call_direction),e.jsx("span",{className:"capitalize",children:_.call_direction})]})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:_.caller_id_number||"Unknown"}),_.caller_id_name&&e.jsx("div",{className:"text-sm text-gray-500",children:_.caller_id_name})]})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:_.callee_id_number||"Unknown"}),_.callee_id_name&&e.jsx("div",{className:"text-sm text-gray-500",children:_.callee_id_name})]})}),e.jsx("td",{className:"p-2",children:new Date(_.start_time).toLocaleString()}),e.jsx("td",{className:"p-2",children:T(_.duration)}),e.jsx("td",{className:"p-2",children:N(_.hangup_disposition)}),e.jsx("td",{className:"p-2",children:_.recording_enabled?e.jsx(he,{variant:"secondary",children:"Available"}):e.jsx(he,{variant:"outline",children:"None"})})]},_.id))})]})})})]}),w.length===0&&e.jsx(de,{children:e.jsx(me,{className:"flex flex-col items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Qe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No call records found"}),e.jsx("p",{className:"text-gray-500",children:c||m!=="all"||g!=="all"?"Try adjusting your filters.":"No calls have been made yet."})]})})})]})}function B2(){const[s,r]=f.useState([]),[i,o]=f.useState(!0),{toast:c}=Zt();f.useEffect(()=>{d();const y=setInterval(d,5e3);return()=>clearInterval(y)},[]);const d=async()=>{try{const y=[{id:"1",uuid:"call-uuid-1",direction:"inbound",caller_number:"+1234567890",caller_name:"John Doe",callee_number:"1001",callee_name:"Reception",start_time:new Date(Date.now()-12e4).toISOString(),duration:120,status:"answered",recording:!0},{id:"2",uuid:"call-uuid-2",direction:"outbound",caller_number:"1002",caller_name:"Sales Team",callee_number:"+0987654321",callee_name:"Customer",start_time:new Date(Date.now()-3e5).toISOString(),duration:300,status:"answered",recording:!1}];r(y)}catch(y){console.error("Failed to load live calls:",y)}finally{o(!1)}},m=async(y,x)=>{try{c({title:"Action performed",description:`${x} action sent for call ${y}`})}catch{c({title:"Action failed",description:`Failed to perform ${x} action`,variant:"destructive"})}},h=y=>{const x=Math.floor(y/3600),w=Math.floor(y%3600/60),T=y%60;return`${x.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}`},g=y=>{switch(y){case"inbound":return e.jsx(ld,{className:"h-5 w-5 text-green-600"});case"outbound":return e.jsx(od,{className:"h-5 w-5 text-blue-600"});case"internal":return e.jsx(Qe,{className:"h-5 w-5 text-purple-600"});default:return e.jsx(Qe,{className:"h-5 w-5 text-gray-600"})}},v=y=>{switch(y){case"ringing":return e.jsx(he,{variant:"secondary",children:"Ringing"});case"answered":return e.jsx(he,{variant:"default",children:"Active"});case"on_hold":return e.jsx(he,{variant:"outline",children:"On Hold"});case"muted":return e.jsx(he,{variant:"destructive",children:"Muted"});default:return e.jsx(he,{variant:"outline",children:"Unknown"})}};return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Live Calls"}),e.jsx("p",{className:"text-muted-foreground",children:"Monitor active calls in real-time"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Live"})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Total Active"}),e.jsx(Qe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently in progress"})]})]}),e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Inbound"}),e.jsx(ld,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.filter(y=>y.direction==="inbound").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Incoming calls"})]})]}),e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Outbound"}),e.jsx(od,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.filter(y=>y.direction==="outbound").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Outgoing calls"})]})]}),e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Internal"}),e.jsx(Qe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(me,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.filter(y=>y.direction==="internal").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Internal calls"})]})]})]}),e.jsx("div",{className:"grid gap-4",children:s.map(y=>e.jsxs(de,{children:[e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[g(y.direction),e.jsxs("div",{children:[e.jsxs(ye,{className:"text-lg",children:[y.caller_number," → ",y.callee_number]}),e.jsxs(Ue,{children:[y.caller_name," → ",y.callee_name]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[v(y.status),y.recording&&e.jsx(he,{variant:"destructive",children:"Recording"})]})]})}),e.jsx(me,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Duration:"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:h(y.duration)})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Started:"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:new Date(y.start_time).toLocaleTimeString()})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Call UUID:"}),e.jsx("span",{className:"ml-2 text-muted-foreground font-mono text-xs",children:y.uuid})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>m(y.uuid,"hold"),children:[e.jsx(_p,{className:"h-4 w-4 mr-1"}),"Hold"]}),e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>m(y.uuid,"mute"),children:[y.status==="muted"?e.jsx(rw,{className:"h-4 w-4 mr-1"}):e.jsx(Fr,{className:"h-4 w-4 mr-1"}),y.status==="muted"?"Unmute":"Mute"]}),e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>m(y.uuid,"record"),children:[y.recording?e.jsx(lw,{className:"h-4 w-4 mr-1"}):e.jsx(Dd,{className:"h-4 w-4 mr-1"}),y.recording?"Stop Recording":"Start Recording"]}),e.jsxs(B,{variant:"destructive",size:"sm",onClick:()=>m(y.uuid,"hangup"),children:[e.jsx(Qe,{className:"h-4 w-4 mr-1"}),"Hangup"]})]})]})})]},y.id))}),s.length===0&&e.jsx(de,{children:e.jsx(me,{className:"flex flex-col items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Qe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No active calls"}),e.jsx("p",{className:"text-gray-500",children:"There are currently no active calls in the system."})]})})})]})}var Vl="Checkbox",[W2]=Fn(Vl),[H2,du]=W2(Vl);function q2(s){const{__scopeCheckbox:r,checked:i,children:o,defaultChecked:c,disabled:d,form:m,name:h,onCheckedChange:g,required:v,value:y="on",internal_do_not_use_render:x}=s,[w,T]=gs({prop:i,defaultProp:c??!1,onChange:g,caller:Vl}),[E,N]=f.useState(null),[j,_]=f.useState(null),C=f.useRef(!1),I=E?!!m||!!E.closest("form"):!0,k={checked:w,disabled:d,setChecked:T,control:E,setControl:N,name:h,form:m,value:y,hasConsumerStoppedPropagationRef:C,required:v,defaultChecked:hs(c)?!1:c,isFormControl:I,bubbleInput:j,setBubbleInput:_};return e.jsx(H2,{scope:r,...k,children:G2(x)?x(k):o})}var Cv="CheckboxTrigger",_v=f.forwardRef(({__scopeCheckbox:s,onKeyDown:r,onClick:i,...o},c)=>{const{control:d,value:m,disabled:h,checked:g,required:v,setControl:y,setChecked:x,hasConsumerStoppedPropagationRef:w,isFormControl:T,bubbleInput:E}=du(Cv,s),N=Ye(c,y),j=f.useRef(g);return f.useEffect(()=>{const _=d?.form;if(_){const C=()=>x(j.current);return _.addEventListener("reset",C),()=>_.removeEventListener("reset",C)}},[d,x]),e.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":hs(g)?"mixed":g,"aria-required":v,"data-state":Pv(g),"data-disabled":h?"":void 0,disabled:h,value:m,...o,ref:N,onKeyDown:Le(r,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Le(i,_=>{x(C=>hs(C)?!0:!C),E&&T&&(w.current=_.isPropagationStopped(),w.current||_.stopPropagation())})})});_v.displayName=Cv;var uu=f.forwardRef((s,r)=>{const{__scopeCheckbox:i,name:o,checked:c,defaultChecked:d,required:m,disabled:h,value:g,onCheckedChange:v,form:y,...x}=s;return e.jsx(q2,{__scopeCheckbox:i,checked:c,defaultChecked:d,disabled:h,required:m,onCheckedChange:v,name:o,form:y,value:g,internal_do_not_use_render:({isFormControl:w})=>e.jsxs(e.Fragment,{children:[e.jsx(_v,{...x,ref:r,__scopeCheckbox:i}),w&&e.jsx(Rv,{__scopeCheckbox:i})]})})});uu.displayName=Vl;var kv="CheckboxIndicator",Ev=f.forwardRef((s,r)=>{const{__scopeCheckbox:i,forceMount:o,...c}=s,d=du(kv,i);return e.jsx(Gs,{present:o||hs(d.checked)||d.checked===!0,children:e.jsx(Me.span,{"data-state":Pv(d.checked),"data-disabled":d.disabled?"":void 0,...c,ref:r,style:{pointerEvents:"none",...s.style}})})});Ev.displayName=kv;var Tv="CheckboxBubbleInput",Rv=f.forwardRef(({__scopeCheckbox:s,...r},i)=>{const{control:o,hasConsumerStoppedPropagationRef:c,checked:d,defaultChecked:m,required:h,disabled:g,name:v,value:y,form:x,bubbleInput:w,setBubbleInput:T}=du(Tv,s),E=Ye(i,T),N=Xd(d),j=Yd(o);f.useEffect(()=>{const C=w;if(!C)return;const I=window.HTMLInputElement.prototype,W=Object.getOwnPropertyDescriptor(I,"checked").set,F=!c.current;if(N!==d&&W){const L=new Event("click",{bubbles:F});C.indeterminate=hs(d),W.call(C,hs(d)?!1:d),C.dispatchEvent(L)}},[w,N,d,c]);const _=f.useRef(hs(d)?!1:d);return e.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??_.current,required:h,disabled:g,name:v,value:y,form:x,...r,tabIndex:-1,ref:E,style:{...r.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Rv.displayName=Tv;function G2(s){return typeof s=="function"}function hs(s){return s==="indeterminate"}function Pv(s){return hs(s)?"indeterminate":s?"checked":"unchecked"}const Cd=f.forwardRef(({className:s,...r},i)=>e.jsx(uu,{ref:i,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:e.jsx(Ev,{className:Ee("flex items-center justify-center text-current"),children:e.jsx(Ad,{className:"h-4 w-4"})})}));Cd.displayName=uu.displayName;function K2(){const[s,r]=f.useState({name:"",provider:"",username:"",password:"",server:"",port:5060,protocol:"udp",register:!0,caller_id:"",recording_enabled:!1,recording_consent:!1,gdpr_compliant:!1,allowed_codecs:["PCMU","PCMA","G722"],max_concurrent_calls:20}),[i,o]=f.useState(!1),[c,d]=f.useState(!1),{toast:m}=Zt(),h=(x,w)=>{r(T=>({...T,[x]:w}))},g=x=>{r(w=>({...w,allowed_codecs:w.allowed_codecs.includes(x)?w.allowed_codecs.filter(T=>T!==x):[...w.allowed_codecs,x]}))},v=async()=>{d(!0);try{await new Promise(x=>setTimeout(x,2e3)),m({title:"Connection test successful",description:"SIP trunk configuration is valid"})}catch{m({title:"Connection test failed",description:"Please check your configuration",variant:"destructive"})}finally{d(!1)}},y=async()=>{o(!0);try{await new Promise(x=>setTimeout(x,1e3)),m({title:"Trunk saved successfully",description:"SIP trunk configuration has been saved"})}catch{m({title:"Save failed",description:"Failed to save trunk configuration",variant:"destructive"})}finally{o(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Trunk Registration"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure SIP trunk connections for external calling"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(B,{variant:"outline",onClick:v,disabled:c,children:[e.jsx(Ep,{className:"h-4 w-4 mr-2"}),c?"Testing...":"Test Connection"]}),e.jsxs(B,{onClick:y,disabled:i,children:[e.jsx($a,{className:"h-4 w-4 mr-2"}),i?"Saving...":"Save Trunk"]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center",children:[e.jsx(xs,{className:"h-5 w-5 mr-2"}),"Basic Configuration"]}),e.jsx(Ue,{children:"Essential SIP trunk settings"})]}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{htmlFor:"name",children:"Trunk Name"}),e.jsx(Z,{id:"name",value:s.name,onChange:x=>h("name",x.target.value),placeholder:"Enter trunk name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{htmlFor:"provider",children:"Provider"}),e.jsxs(Ve,{value:s.provider,onValueChange:x=>h("provider",x),children:[e.jsx(Fe,{children:e.jsx(Be,{placeholder:"Select provider"})}),e.jsxs($e,{children:[e.jsx(Q,{value:"twilio",children:"Twilio"}),e.jsx(Q,{value:"vonage",children:"Vonage"}),e.jsx(Q,{value:"bandwidth",children:"Bandwidth"}),e.jsx(Q,{value:"custom",children:"Custom Provider"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{htmlFor:"username",children:"Username"}),e.jsx(Z,{id:"username",value:s.username,onChange:x=>h("username",x.target.value),placeholder:"SIP username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{htmlFor:"password",children:"Password"}),e.jsx(Z,{id:"password",type:"password",value:s.password,onChange:x=>h("password",x.target.value),placeholder:"SIP password"})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{htmlFor:"server",children:"Server"}),e.jsx(Z,{id:"server",value:s.server,onChange:x=>h("server",x.target.value),placeholder:"sip.provider.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{htmlFor:"port",children:"Port"}),e.jsx(Z,{id:"port",type:"number",value:s.port,onChange:x=>h("port",parseInt(x.target.value)),placeholder:"5060"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{htmlFor:"protocol",children:"Protocol"}),e.jsxs(Ve,{value:s.protocol,onValueChange:x=>h("protocol",x),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"udp",children:"UDP"}),e.jsx(Q,{value:"tcp",children:"TCP"}),e.jsx(Q,{value:"tls",children:"TLS"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{htmlFor:"caller_id",children:"Caller ID"}),e.jsx(Z,{id:"caller_id",value:s.caller_id,onChange:x=>h("caller_id",x.target.value),placeholder:"+1234567890"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{id:"register",checked:s.register,onCheckedChange:x=>h("register",x)}),e.jsx(te,{htmlFor:"register",children:"Auto-register with provider"})]})]})]}),e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center",children:[e.jsx(zs,{className:"h-5 w-5 mr-2"}),"Advanced Settings"]}),e.jsx(Ue,{children:"Security and performance configuration"})]}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{children:"Allowed Codecs"}),e.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:["PCMU","PCMA","G722","G729","OPUS","AMR"].map(x=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Cd,{id:x,checked:s.allowed_codecs.includes(x),onCheckedChange:()=>g(x)}),e.jsx(te,{htmlFor:x,className:"text-sm",children:x})]},x))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{htmlFor:"max_calls",children:"Max Concurrent Calls"}),e.jsx(Z,{id:"max_calls",type:"number",value:s.max_concurrent_calls,onChange:x=>h("max_concurrent_calls",parseInt(x.target.value)),placeholder:"20"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{id:"recording_enabled",checked:s.recording_enabled,onCheckedChange:x=>h("recording_enabled",x)}),e.jsx(te,{htmlFor:"recording_enabled",children:"Enable call recording"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{id:"recording_consent",checked:s.recording_consent,onCheckedChange:x=>h("recording_consent",x)}),e.jsx(te,{htmlFor:"recording_consent",children:"Require recording consent"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{id:"gdpr_compliant",checked:s.gdpr_compliant,onCheckedChange:x=>h("gdpr_compliant",x)}),e.jsx(te,{htmlFor:"gdpr_compliant",children:"GDPR compliant"})]})]})]})]})]}),e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center",children:[e.jsx(Md,{className:"h-5 w-5 mr-2"}),"GDPR Compliance"]}),e.jsx(Ue,{children:"Data protection and privacy settings"})]}),e.jsx(me,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Recording Consent"}),e.jsx("p",{className:"text-sm text-blue-800",children:"When recording consent is enabled, all calls will require explicit consent from all parties before recording begins. This ensures compliance with GDPR and local privacy regulations."})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Data Retention"}),e.jsx("p",{className:"text-sm text-green-800",children:"Call recordings and metadata will be automatically deleted according to your data retention policy. Users can request data deletion at any time through the GDPR portal."})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Cd,{id:"gdpr_acknowledge",checked:s.gdpr_compliant,onCheckedChange:x=>h("gdpr_compliant",x)}),e.jsx(te,{htmlFor:"gdpr_acknowledge",className:"text-sm",children:"I acknowledge and agree to comply with GDPR requirements for call recording and data processing."})]})]})})]})]})}function Q2(){const{user:s}=xt(),{toast:r}=Zt(),[i,o]=f.useState("inbound"),[c,d]=f.useState(!1),[m,h]=f.useState([]),[g,v]=f.useState(!1),[y,x]=f.useState({name:"",did_number:"",destination_type:"extension",destination_value:"",enabled:!0}),[w,T]=f.useState([]),[E,N]=f.useState(!1),[j,_]=f.useState({name:"",dial_pattern:"",trunk_id:"",strip_digits:0,add_digits:"",priority:100,enabled:!0}),[C,I]=f.useState([]),[k,W]=f.useState(!1),[F,L]=f.useState({name:"",timezone:"Europe/Rome",business_hours:{},after_hours_action:"voicemail",enabled:!0}),[M,z]=f.useState([]),[K,O]=f.useState([]);f.useEffect(()=>{V()},[]);const V=async()=>{d(!0);try{const[A,J,ce,$,se]=await Promise.all([xe.get(`/routing/inbound?tenant_id=${s?.tenant_id}`),xe.get(`/routing/outbound?tenant_id=${s?.tenant_id}`),xe.get(`/routing/time-conditions?tenant_id=${s?.tenant_id}`),xe.getSipTrunks(),xe.getExtensions({limit:1e3})]);h(A.data?.routes||[]),T(J.data?.routes||[]),I(ce.data?.time_conditions||[]),z(Array.isArray($.data?.data)?$.data.data:[]),O(se.data?.data?.items||[])}catch(A){console.error("Error loading routing data:",A)}finally{d(!1)}},R=async()=>{try{await xe.post("/routing/inbound",{...y,tenant_id:s?.tenant_id}),await V(),v(!1),r({title:"Successo",description:"Inbound route creata"})}catch(A){r({title:"Errore",description:A.message,variant:"destructive"})}},S=async A=>{if(confirm("Eliminare questa inbound route?"))try{await xe.delete(`/routing/inbound/${A}`),await V(),r({title:"Eliminata",description:"Inbound route eliminata"})}catch(J){r({title:"Errore",description:J.message,variant:"destructive"})}},ee=async()=>{try{await xe.post("/routing/outbound",{...j,tenant_id:s?.tenant_id}),await V(),N(!1),r({title:"Successo",description:"Outbound route creata"})}catch(A){r({title:"Errore",description:A.message,variant:"destructive"})}},re=async A=>{if(confirm("Eliminare questa outbound route?"))try{await xe.delete(`/routing/outbound/${A}`),await V(),r({title:"Eliminata",description:"Outbound route eliminata"})}catch(J){r({title:"Errore",description:J.message,variant:"destructive"})}},fe=async()=>{try{await xe.post("/routing/time-conditions",{...F,tenant_id:s?.tenant_id}),await V(),W(!1),r({title:"Successo",description:"Time condition creata"})}catch(A){r({title:"Errore",description:A.message,variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Call Routing"}),e.jsx("p",{className:"text-muted-foreground",children:"Gestisci instradamento chiamate entranti e uscenti"})]}),e.jsxs(Hs,{value:i,onValueChange:o,children:[e.jsxs(js,{children:[e.jsx(We,{value:"inbound",children:"Inbound Routes"}),e.jsx(We,{value:"outbound",children:"Outbound Routes"}),e.jsx(We,{value:"time",children:"Time Conditions"}),e.jsx(We,{value:"emergency",children:"Emergency"})]}),e.jsx(Xe,{value:"inbound",children:e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between",children:[e.jsx(ye,{children:"Inbound Routes (Chiamate Entranti)"}),e.jsxs(B,{onClick:()=>v(!0),children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Nuova Route"]})]}),e.jsx(me,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"DID"}),e.jsx("th",{className:"text-left p-3",children:"Destinazione"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-right p-3",children:"Azioni"})]})}),e.jsx("tbody",{children:m.map(A=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 font-semibold",children:A.name}),e.jsx("td",{className:"p-3 font-mono",children:A.did_number||"ANY"}),e.jsxs("td",{className:"p-3",children:[e.jsx("span",{className:"text-gray-600",children:A.destination_type}),e.jsx(Id,{className:"inline h-3 w-3 mx-1"}),e.jsx("span",{className:"font-mono",children:A.destination_value})]}),e.jsx("td",{className:"p-3",children:e.jsx(he,{variant:A.enabled?"default":"secondary",children:A.enabled?"Attiva":"Disattiva"})}),e.jsx("td",{className:"p-3 text-right",children:e.jsx(B,{variant:"destructive",size:"sm",onClick:()=>S(A.id),children:e.jsx(pt,{className:"h-4 w-4"})})})]},A.id))})]})})]})}),e.jsx(Xe,{value:"outbound",children:e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between",children:[e.jsx(ye,{children:"Outbound Routes (Chiamate Uscenti)"}),e.jsxs(B,{onClick:()=>N(!0),children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Nuova Route"]})]}),e.jsx(me,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3",children:"Priorità"}),e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"Pattern"}),e.jsx("th",{className:"text-left p-3",children:"Trunk"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-right p-3",children:"Azioni"})]})}),e.jsx("tbody",{children:w.map(A=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 font-semibold",children:A.priority}),e.jsx("td",{className:"p-3",children:A.name}),e.jsx("td",{className:"p-3 font-mono text-sm",children:A.dial_pattern}),e.jsx("td",{className:"p-3",children:M.find(J=>J.id===A.trunk_id)?.name||"N/A"}),e.jsx("td",{className:"p-3",children:e.jsx(he,{variant:A.enabled?"default":"secondary",children:A.enabled?"Attiva":"Disattiva"})}),e.jsx("td",{className:"p-3 text-right",children:e.jsx(B,{variant:"destructive",size:"sm",onClick:()=>re(A.id),children:e.jsx(pt,{className:"h-4 w-4"})})})]},A.id))})]})})]})}),e.jsx(Xe,{value:"time",children:e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between",children:[e.jsx(ye,{children:"Time Conditions (Orari)"}),e.jsxs(B,{onClick:()=>W(!0),children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Nuova Condizione"]})]}),e.jsx(me,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"Timezone"}),e.jsx("th",{className:"text-left p-3",children:"Azione Orario"}),e.jsx("th",{className:"text-left p-3",children:"Azione Fuori Orario"}),e.jsx("th",{className:"text-left p-3",children:"Status"})]})}),e.jsx("tbody",{children:C.map(A=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 font-semibold",children:A.name}),e.jsx("td",{className:"p-3",children:A.timezone}),e.jsx("td",{className:"p-3",children:A.business_hours_action}),e.jsx("td",{className:"p-3",children:A.after_hours_action}),e.jsx("td",{className:"p-3",children:e.jsx(he,{variant:A.enabled?"default":"secondary",children:A.enabled?"Attiva":"Disattiva"})})]},A.id))})]})})]})}),e.jsx(Xe,{value:"emergency",children:e.jsxs(de,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Numeri di Emergenza"})}),e.jsx(me,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["I numeri di emergenza (112, 113, 115, 118) sono automaticamente configurati nel context ",e.jsxs("code",{className:"bg-gray-100 px-2 py-1 rounded",children:["tenant-","{","slug","}","-emergency"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"font-semibold mb-2",children:"112 - Emergenza Generale"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Carabinieri, Polizia, Vigili del Fuoco"})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"font-semibold mb-2",children:"118 - Emergenza Sanitaria"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ambulanza"})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"font-semibold mb-2",children:"113 - Polizia di Stato"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Soccorso pubblico"})]}),e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"font-semibold mb-2",children:"115 - Vigili del Fuoco"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Emergenze antincendio"})]})]})]})})]})})]}),e.jsx(Os,{open:g,onOpenChange:v,children:e.jsxs(us,{children:[e.jsx(ms,{children:e.jsx(fs,{children:"Nuova Inbound Route"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(te,{children:"Nome Route *"}),e.jsx(Z,{value:y.name,onChange:A=>x(J=>({...J,name:A.target.value})),placeholder:"Es. Main Number Route"})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Numero DID"}),e.jsx(Z,{value:y.did_number,onChange:A=>x(J=>({...J,did_number:A.target.value})),placeholder:"Es. 0591234567"})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Tipo Destinazione"}),e.jsxs(Ve,{value:y.destination_type,onValueChange:A=>x(J=>({...J,destination_type:A})),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"extension",children:"Extension"}),e.jsx(Q,{value:"ring_group",children:"Ring Group"}),e.jsx(Q,{value:"queue",children:"Queue"}),e.jsx(Q,{value:"ivr",children:"IVR Menu"}),e.jsx(Q,{value:"voicemail",children:"Voicemail"})]})]})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Valore Destinazione *"}),y.destination_type==="extension"?e.jsxs(Ve,{value:y.destination_value,onValueChange:A=>x(J=>({...J,destination_value:A})),children:[e.jsx(Fe,{children:e.jsx(Be,{placeholder:"Seleziona extension"})}),e.jsx($e,{children:K.map(A=>e.jsxs(Q,{value:A.extension,children:[A.extension," - ",A.display_name]},A.id))})]}):e.jsx(Z,{value:y.destination_value,onChange:A=>x(J=>({...J,destination_value:A.target.value})),placeholder:"Valore destinazione"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:y.enabled,onCheckedChange:A=>x(J=>({...J,enabled:A}))}),e.jsx(te,{children:"Route Abilitata"})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(B,{variant:"outline",onClick:()=>v(!1),children:"Annulla"}),e.jsx(B,{onClick:R,children:"Crea Route"})]})]})]})}),e.jsx(Os,{open:E,onOpenChange:N,children:e.jsxs(us,{children:[e.jsx(ms,{children:e.jsx(fs,{children:"Nuova Outbound Route"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(te,{children:"Nome Route *"}),e.jsx(Z,{value:j.name,onChange:A=>_(J=>({...J,name:A.target.value})),placeholder:"Es. Mobile Numbers"})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Pattern Numero (regex) *"}),e.jsx(Z,{value:j.dial_pattern,onChange:A=>_(J=>({...J,dial_pattern:A.target.value})),placeholder:"Es. ^3[0-9]{9}$ per mobili italiani"})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Trunk *"}),e.jsxs(Ve,{value:j.trunk_id,onValueChange:A=>_(J=>({...J,trunk_id:A})),children:[e.jsx(Fe,{children:e.jsx(Be,{placeholder:"Seleziona trunk"})}),e.jsx($e,{children:M.map(A=>e.jsx(Q,{value:A.id,children:A.name},A.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{children:"Cifre da Rimuovere"}),e.jsx(Z,{type:"number",min:"0",value:j.strip_digits,onChange:A=>_(J=>({...J,strip_digits:parseInt(A.target.value)||0}))})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Cifre da Aggiungere"}),e.jsx(Z,{value:j.add_digits,onChange:A=>_(J=>({...J,add_digits:A.target.value})),placeholder:"Es. 0"})]})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Priorità"}),e.jsx(Z,{type:"number",value:j.priority,onChange:A=>_(J=>({...J,priority:parseInt(A.target.value)||100}))}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Numero più basso = priorità più alta"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:j.enabled,onCheckedChange:A=>_(J=>({...J,enabled:A}))}),e.jsx(te,{children:"Route Abilitata"})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(B,{variant:"outline",onClick:()=>N(!1),children:"Annulla"}),e.jsx(B,{onClick:ee,children:"Crea Route"})]})]})]})}),e.jsx(Os,{open:k,onOpenChange:W,children:e.jsxs(us,{children:[e.jsx(ms,{children:e.jsx(fs,{children:"Nuova Time Condition"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(te,{children:"Nome *"}),e.jsx(Z,{value:F.name,onChange:A=>L(J=>({...J,name:A.target.value})),placeholder:"Es. Orario Ufficio"})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Timezone"}),e.jsxs(Ve,{value:F.timezone,onValueChange:A=>L(J=>({...J,timezone:A})),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"Europe/Rome",children:"Europe/Rome"}),e.jsx(Q,{value:"Europe/London",children:"Europe/London"}),e.jsx(Q,{value:"UTC",children:"UTC"})]})]})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Azione Fuori Orario"}),e.jsxs(Ve,{value:F.after_hours_action,onValueChange:A=>L(J=>({...J,after_hours_action:A})),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"voicemail",children:"Voicemail"}),e.jsx(Q,{value:"external",children:"Numero Esterno"}),e.jsx(Q,{value:"hangup",children:"Riaggancia"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(B,{variant:"outline",onClick:()=>W(!1),children:"Annulla"}),e.jsx(B,{onClick:fe,children:"Crea Condizione"})]})]})]})})]})}function J2(){const{user:s}=xt(),{toast:r}=Zt(),[i,o]=f.useState("tenant-demo-internal"),[c,d]=f.useState([]),[m,h]=f.useState(null),[g,v]=f.useState(!1),[y,x]=f.useState(""),[w,T]=f.useState(!1),[E,N]=f.useState(""),[j,_]=f.useState(null),C=["tenant-demo-internal","tenant-demo-outbound","tenant-demo-external","tenant-demo-features","tenant-demo-voicemail","tenant-demo-emergency"],I=[{value:"bridge",label:"Bridge (Connetti)"},{value:"transfer",label:"Transfer (Trasferisci)"},{value:"answer",label:"Answer (Rispondi)"},{value:"playback",label:"Playback (Riproduci)"},{value:"hangup",label:"Hangup (Riaggancia)"},{value:"set",label:"Set (Imposta Variabile)"},{value:"voicemail",label:"Voicemail (Segreteria)"}],k=async()=>{try{const R=await xe.get(`/dialplan/rules?tenant_id=${s?.tenant_id}&context=${i}`);R.data?.success&&d(R.data.data.rules||[])}catch(R){console.error("Error loading rules:",R)}},W=()=>{h({name:"",context:i,priority:100,match_pattern:"",actions:[{type:"bridge",target:""}],enabled:!0}),v(!0)},F=async()=>{if(m)try{m.id?(await xe.put(`/dialplan/rules/${m.id}`,m),r({title:"Successo",description:"Regola aggiornata"})):(await xe.post("/dialplan/rules",{...m,tenant_id:s?.tenant_id}),r({title:"Successo",description:"Regola creata"})),v(!1),h(null),await k()}catch(R){r({title:"Errore",description:R.message||"Errore durante il salvataggio",variant:"destructive"})}},L=async()=>{if(!(!m?.match_pattern||!E))try{const R=await xe.post("/dialplan/test-pattern",{pattern:m.match_pattern,number:E});_(R.data.data),R.data.data.match?r({title:"Match!",description:`Il pattern corrisponde al numero ${E}`}):r({title:"No Match",description:"Il pattern non corrisponde",variant:"destructive"})}catch(R){r({title:"Errore",description:R.message,variant:"destructive"})}},M=async()=>{if(!m)return;const R=`<extension name="${m.name}">
  <condition field="destination_number" expression="${m.match_pattern}">
${m.actions.map(S=>{switch(S.type){case"bridge":return`    <action application="bridge" data="${S.target}"/>`;case"transfer":return`    <action application="transfer" data="${S.target}"/>`;case"answer":return'    <action application="answer"/>';case"playback":return`    <action application="playback" data="${S.data}"/>`;case"hangup":return`    <action application="hangup"${S.cause?` data="${S.cause}"`:""}/>`;case"set":return`    <action application="set" data="${S.data}"/>`;case"voicemail":return`    <action application="voicemail" data="${S.data}"/>`;default:return""}}).join(`
`)}
  </condition>
</extension>`;x(R),T(!0)},z=async()=>{if(s?.tenant_id)try{await xe.post(`/freeswitch-deploy/tenant/${s.tenant_id}`,{}),r({title:"Deploy Completato!",description:"Configurazione FreeSWITCH aggiornata"})}catch(R){r({title:"Errore Deploy",description:R.message,variant:"destructive"})}},K=()=>{m&&h({...m,actions:[...m.actions,{type:"bridge",target:""}]})},O=(R,S,ee)=>{if(!m)return;const re=[...m.actions];re[R]={...re[R],[S]:ee},h({...m,actions:re})},V=R=>{m&&h({...m,actions:m.actions.filter((S,ee)=>ee!==R)})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dialplan Editor"}),e.jsx("p",{className:"text-muted-foreground",children:"Editor visuale per regole dialplan FreeSWITCH"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(B,{variant:"outline",onClick:k,children:"Carica Regole"}),e.jsxs(B,{variant:"default",className:"bg-green-600 hover:bg-green-700",onClick:z,children:[e.jsx(Od,{className:"h-4 w-4 mr-2"}),"Deploy FreeSWITCH"]})]})]}),e.jsxs(de,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Seleziona Context"})}),e.jsx(me,{children:e.jsxs(Ve,{value:i,onValueChange:o,children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsx($e,{children:C.map(R=>e.jsx(Q,{value:R,children:R},R))})]})})]}),e.jsxs(de,{children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between",children:[e.jsxs(ye,{children:["Regole Dialplan - ",i]}),e.jsxs(B,{onClick:W,children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Nuova Regola"]})]}),e.jsx(me,{children:e.jsx("div",{className:"space-y-2",children:c.map(R=>e.jsx("div",{className:"border rounded p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>{h(R),v(!0)},children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:R.name}),e.jsxs("div",{className:"text-sm text-gray-600 font-mono",children:["Pattern: ",R.match_pattern]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[R.actions.length," action(s) | Priority: ",R.priority]})]}),e.jsx(he,{variant:R.enabled?"default":"secondary",children:R.enabled?"Attiva":"Disattiva"})]})},R.id))})})]}),g&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto m-4",children:[e.jsx(ve,{children:e.jsx(ye,{children:m.id?"Modifica Regola":"Nuova Regola"})}),e.jsxs(me,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{children:"Nome Regola *"}),e.jsx(Z,{value:m.name,onChange:R=>h({...m,name:R.target.value}),placeholder:"Es. Internal Calls"})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Priorità"}),e.jsx(Z,{type:"number",value:m.priority,onChange:R=>h({...m,priority:parseInt(R.target.value)||100})}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Numero più basso = priorità più alta"})]})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Pattern Regex *"}),e.jsx(Z,{value:m.match_pattern,onChange:R=>h({...m,match_pattern:R.target.value}),placeholder:"Es. ^(1\\d{3})$ per interni 1000-1999",className:"font-mono"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Esempi: ^(1\\d","{","3","}",")$ = 1000-1999 | ^0(\\d+)$ = numeri con 0 | ^329(\\d","{","7","}",")$ = mobili 329"]})]}),e.jsxs("div",{className:"border rounded p-4 bg-gray-50",children:[e.jsx(te,{children:"Test Pattern"}),e.jsxs("div",{className:"flex space-x-2 mt-2",children:[e.jsx(Z,{value:E,onChange:R=>N(R.target.value),placeholder:"Es. 1001 o 3297626144"}),e.jsxs(B,{onClick:L,children:[e.jsx(Dd,{className:"h-4 w-4 mr-2"}),"Test"]})]}),j&&e.jsxs("div",{className:"mt-2",children:[e.jsx(he,{variant:j.match?"default":"destructive",children:j.match?"✓ Match":"✗ No Match"}),j.groups&&j.groups.length>0&&e.jsxs("div",{className:"text-sm mt-2",children:["Capture Groups: ",j.groups.join(", ")]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx(te,{children:"Actions (Azioni da Eseguire)"}),e.jsx(B,{size:"sm",onClick:K,children:"+ Aggiungi Azione"})]}),e.jsx("div",{className:"space-y-3",children:m.actions.map((R,S)=>e.jsxs("div",{className:"border rounded p-3 bg-white",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs(te,{className:"text-sm",children:["Azione ",S+1]}),e.jsx(B,{size:"sm",variant:"destructive",onClick:()=>V(S),children:"Rimuovi"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(te,{className:"text-xs",children:"Tipo"}),e.jsxs(Ve,{value:R.type,onValueChange:ee=>O(S,"type",ee),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsx($e,{children:I.map(ee=>e.jsx(Q,{value:ee.value,children:ee.label},ee.value))})]})]}),(R.type==="bridge"||R.type==="transfer")&&e.jsxs("div",{children:[e.jsx(te,{className:"text-xs",children:"Target"}),e.jsx(Z,{value:R.target||"",onChange:ee=>O(S,"target",ee.target.value),placeholder:"Es. user/$1@${domain_name}",className:"font-mono text-sm"})]}),(R.type==="playback"||R.type==="set"||R.type==="voicemail")&&e.jsxs("div",{children:[e.jsx(te,{className:"text-xs",children:"Data"}),e.jsx(Z,{value:R.data||"",onChange:ee=>O(S,"data",ee.target.value),placeholder:R.type==="playback"?"Es. ivr/ivr-welcome.wav":R.type==="set"?"Es. hangup_after_bridge=true":"Es. default ${domain_name} $1",className:"font-mono text-sm"})]}),R.type==="hangup"&&e.jsxs("div",{children:[e.jsx(te,{className:"text-xs",children:"Causa (opzionale)"}),e.jsx(Z,{value:R.cause||"",onChange:ee=>O(S,"cause",ee.target.value),placeholder:"Es. NORMAL_CLEARING",className:"font-mono text-sm"})]})]})]},S))})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[e.jsx(B,{variant:"outline",onClick:()=>v(!1),children:"Annulla"}),e.jsxs("div",{className:"space-x-2",children:[e.jsxs(B,{variant:"outline",onClick:M,children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Preview XML"]}),e.jsxs(B,{onClick:F,children:[e.jsx($a,{className:"h-4 w-4 mr-2"}),"Salva Regola"]})]})]})]})]})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto m-4",children:[e.jsx(ve,{children:e.jsx(ye,{children:"XML Preview"})}),e.jsxs(me,{children:[e.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded overflow-x-auto",children:e.jsx("code",{children:y})}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(B,{onClick:()=>T(!1),children:"Chiudi"})})]})]})})]})}function X2(){const{user:s}=xt(),{toast:r}=Zt(),[i,o]=f.useState([]),[c,d]=f.useState(!1),[m,h]=f.useState("create"),[g,v]=f.useState(!1),[y,x]=f.useState(""),[w,T]=f.useState(!1),[E,N]=f.useState(null),[j,_]=f.useState({name:"",provider:"Messagenet",status:"testing",outbound_caller_id:"",inbound_dids:[],max_concurrent_calls:10,codec_prefs:"PCMA,OPUS,G729",sip_config:{host:"",port:5060,username:"",password:"",transport:"udp",register:!1,auth_realm:""},did_config:{main_number:"",did_pool:[]}});f.useEffect(()=>{C()},[]);const C=async()=>{v(!0);try{const S=await xe.getSipTrunks();S?.success&&S?.data&&o(Array.isArray(S.data)?S.data:[])}catch(S){console.error("Error loading trunks:",S),r({title:"Errore",description:"Impossibile caricare i trunk",variant:"destructive"})}finally{v(!1)}},I=async()=>{if(s?.tenant_id){v(!0);try{await xe.post("/sip-trunks",{...j,tenant_id:s.tenant_id}),await C(),d(!1),K(),r({title:"Successo!",description:`Trunk ${j.name} creato`})}catch(S){r({title:"Errore",description:S.message||"Errore durante la creazione",variant:"destructive"})}finally{v(!1)}}},k=async()=>{if(E?.id){v(!0);try{await xe.put(`/sip-trunks/${E.id}`,j),await C(),d(!1),K(),r({title:"Successo!",description:`Trunk ${j.name} aggiornato`})}catch(S){r({title:"Errore",description:S.message||"Errore durante l'aggiornamento",variant:"destructive"})}finally{v(!1)}}},W=async S=>{try{r({title:"Test in corso...",description:"Verifica connessione trunk"}),await xe.post("/sip-test/originate",{trunk_id:S}),r({title:"Test completato",description:"Verifica i log per i risultati"})}catch{r({title:"Test fallito",description:"Errore durante il test",variant:"destructive"})}},F=async()=>{if(m==="create"?await I():await k(),E?.id)try{await xe.post(`/freeswitch-deploy/trunk/${E.id}`,{}),r({title:"Deploy Completato!",description:"Configurazione FreeSWITCH aggiornata"})}catch(S){console.error("Deploy error:",S)}},L=async S=>{if(confirm("Sei sicuro di voler eliminare questo trunk?")){v(!0);try{await xe.delete(`/sip-trunks/${S}`),await C(),r({title:"Eliminato",description:"Trunk eliminato con successo"})}catch(ee){r({title:"Errore",description:ee.message,variant:"destructive"})}finally{v(!1)}}},M=()=>{K(),h("create"),N(null),d(!0)},z=S=>{_(S),h("edit"),N(S),d(!0)},K=()=>{_({name:"",provider:"Messagenet",status:"testing",outbound_caller_id:"",inbound_dids:[],max_concurrent_calls:10,codec_prefs:"PCMA,OPUS,G729",sip_config:{host:"",port:5060,username:"",password:"",transport:"udp",register:!1,auth_realm:""},did_config:{main_number:"",did_pool:[]}}),N(null)},O=(S,ee)=>{_(re=>({...re,[S]:ee}))},V=(S,ee)=>{_(re=>({...re,sip_config:{...re.sip_config,[S]:ee}}))},R=i.filter(S=>S.name?.toLowerCase().includes(y.toLowerCase())||S.provider?.toLowerCase().includes(y.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"SIP Trunks"}),e.jsx("p",{className:"text-muted-foreground",children:"Gestisci connessioni verso provider VoIP esterni"})]}),e.jsxs(B,{onClick:M,children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Nuovo Trunk"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Z,{placeholder:"Cerca trunk...",value:y,onChange:S=>x(S.target.value),className:"pl-10"})]}),e.jsxs(B,{variant:"outline",onClick:C,children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Ricarica"]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:R.map(S=>e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ye,{className:"text-lg",children:S.name}),e.jsxs(he,{variant:S.status==="active"?"default":"secondary",children:[S.status==="active"?e.jsx(Ch,{className:"h-3 w-3 mr-1"}):e.jsx(Sh,{className:"h-3 w-3 mr-1"}),S.status]})]}),e.jsx(Ue,{children:S.provider})]}),e.jsxs(me,{children:[e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Host:"}),e.jsx("span",{className:"font-mono",children:S.sip_config?.host})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Caller ID:"}),e.jsx("span",{className:"font-mono",children:S.outbound_caller_id||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"DIDs:"}),e.jsx("span",{children:S.inbound_dids?.length||0})]})]}),e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsxs(B,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>z(S),children:[e.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Modifica"]}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>S.id&&W(S.id),children:e.jsx(Ep,{className:"h-4 w-4"})}),e.jsx(B,{variant:"destructive",size:"sm",onClick:()=>S.id&&L(S.id),children:e.jsx(pt,{className:"h-4 w-4"})})]})]})]},S.id))}),e.jsx(Os,{open:c,onOpenChange:d,children:e.jsxs(us,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ms,{children:[e.jsx(fs,{children:m==="create"?"Crea Nuovo Trunk":`Modifica Trunk ${j.name}`}),e.jsx(Ba,{children:"Configura la connessione verso il provider VoIP"})]}),e.jsxs(Hs,{defaultValue:"provider",className:"w-full",children:[e.jsxs(js,{className:"grid w-full grid-cols-5",children:[e.jsx(We,{value:"provider",children:"Provider"}),e.jsx(We,{value:"auth",children:"Autenticazione"}),e.jsx(We,{value:"inbound",children:"Inbound"}),e.jsx(We,{value:"outbound",children:"Outbound"}),e.jsx(We,{value:"security",children:"Sicurezza"})]}),e.jsxs(Xe,{value:"provider",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(te,{htmlFor:"name",children:"Nome Trunk *"}),e.jsx(Z,{id:"name",value:j.name,onChange:S=>O("name",S.target.value),placeholder:"Es. Messagenet Main"})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"provider",children:"Provider"}),e.jsxs(Ve,{value:j.provider,onValueChange:S=>O("provider",S),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"Messagenet",children:"Messagenet"}),e.jsx(Q,{value:"VoipVoice",children:"VoipVoice"}),e.jsx(Q,{value:"Clouditalia",children:"Clouditalia"}),e.jsx(Q,{value:"Terravox",children:"Terravox"}),e.jsx(Q,{value:"Custom",children:"Custom"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx(te,{htmlFor:"host",children:"Host SIP *"}),e.jsx(Z,{id:"host",value:j.sip_config.host,onChange:S=>V("host",S.target.value),placeholder:"sip.provider.it"})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"port",children:"Porta"}),e.jsx(Z,{id:"port",type:"number",value:j.sip_config.port,onChange:S=>V("port",parseInt(S.target.value))})]})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"transport",children:"Transport"}),e.jsxs(Ve,{value:j.sip_config.transport,onValueChange:S=>V("transport",S),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"udp",children:"UDP"}),e.jsx(Q,{value:"tcp",children:"TCP"}),e.jsx(Q,{value:"tls",children:"TLS (Secure)"})]})]})]})]}),e.jsxs(Xe,{value:"auth",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(te,{htmlFor:"username",children:"Username *"}),e.jsx(Z,{id:"username",value:j.sip_config.username,onChange:S=>V("username",S.target.value),placeholder:"User SIP"})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"password",children:"Password *"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Z,{id:"password",type:w?"text":"password",value:j.sip_config.password,onChange:S=>V("password",S.target.value),placeholder:"Password SIP"}),e.jsx(B,{type:"button",variant:"outline",size:"icon",onClick:()=>T(!w),children:w?e.jsx(yp,{className:"h-4 w-4"}):e.jsx(Pt,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"auth_realm",children:"Realm (opzionale)"}),e.jsx(Z,{id:"auth_realm",value:j.sip_config.auth_realm,onChange:S=>V("auth_realm",S.target.value),placeholder:"Lascia vuoto per auto"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:j.sip_config.register,onCheckedChange:S=>V("register",S)}),e.jsx(te,{children:"Registrazione SIP Attiva"})]})]}),e.jsx(Xe,{value:"inbound",className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(te,{htmlFor:"inbound_dids",children:"Numeri DID Entranti (uno per riga)"}),e.jsx(bn,{id:"inbound_dids",value:j.inbound_dids?.join(`
`)||"",onChange:S=>O("inbound_dids",S.target.value.split(`
`).filter(Boolean)),placeholder:`0591234567
0591234568
+390591234569`,rows:6}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Numeri assegnati da provider per chiamate entranti"})]})}),e.jsxs(Xe,{value:"outbound",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(te,{htmlFor:"outbound_caller_id",children:"Caller ID Uscente"}),e.jsx(Z,{id:"outbound_caller_id",value:j.outbound_caller_id,onChange:S=>O("outbound_caller_id",S.target.value),placeholder:"Es. 0591234567"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Numero visualizzato per chiamate uscenti"})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"codec_prefs",children:"Codec Preferiti (separati da virgola)"}),e.jsx(Z,{id:"codec_prefs",value:j.codec_prefs,onChange:S=>O("codec_prefs",S.target.value),placeholder:"PCMA,OPUS,G729"})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"max_concurrent_calls",children:"Max Chiamate Simultanee"}),e.jsx(Z,{id:"max_concurrent_calls",type:"number",min:"1",max:"100",value:j.max_concurrent_calls,onChange:S=>O("max_concurrent_calls",parseInt(S.target.value)||10)})]}),e.jsxs("div",{children:[e.jsx(te,{htmlFor:"failover_trunk_id",children:"Trunk Failover (opzionale)"}),e.jsxs(Ve,{value:j.failover_trunk_id||"",onValueChange:S=>O("failover_trunk_id",S||null),children:[e.jsx(Fe,{children:e.jsx(Be,{placeholder:"Nessun failover"})}),e.jsxs($e,{children:[e.jsx(Q,{value:"",children:"Nessuno"}),i.filter(S=>S.id!==E?.id).map(S=>e.jsx(Q,{value:S.id,children:S.name},S.id))]})]})]})]}),e.jsxs(Xe,{value:"security",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(te,{children:"Encryption"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"encryption",checked:j.sip_config.transport==="udp",onChange:()=>V("transport","udp")}),e.jsx(te,{children:"Nessuna (UDP)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"encryption",checked:j.sip_config.transport==="tcp",onChange:()=>V("transport","tcp")}),e.jsx(te,{children:"TCP"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"encryption",checked:j.sip_config.transport==="tls",onChange:()=>V("transport","tls")}),e.jsx(te,{children:"TLS (Secure)"})]})]})]}),e.jsxs("div",{children:[e.jsx(te,{children:"Stato Trunk"}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxs(he,{variant:j.status==="active"?"default":"secondary",className:"px-3 py-1",children:[j.status==="active"&&e.jsx(Ch,{className:"h-3 w-3 mr-1"}),j.status!=="active"&&e.jsx(Sh,{className:"h-3 w-3 mr-1"}),j.status]}),e.jsxs(Ve,{value:j.status,onValueChange:S=>O("status",S),children:[e.jsx(Fe,{className:"w-[180px]",children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"active",children:"Active"}),e.jsx(Q,{value:"inactive",children:"Inactive"}),e.jsx(Q,{value:"testing",children:"Testing"})]})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[e.jsx(B,{variant:"outline",onClick:()=>d(!1),children:"Annulla"}),e.jsxs("div",{className:"space-x-2",children:[e.jsxs(B,{variant:"default",onClick:m==="create"?I:k,disabled:g,children:[e.jsx(Save,{className:"h-4 w-4 mr-2"}),g?"Salvataggio...":"Salva"]}),e.jsxs(B,{variant:"default",className:"bg-green-600 hover:bg-green-700",onClick:F,disabled:g,children:[e.jsx(Od,{className:"h-4 w-4 mr-2"}),"Salva e Deploy FreeSWITCH"]})]})]})]})})]})}function Y2(){const{user:s}=xt(),[r,i]=f.useState("ring-groups"),[o,c]=f.useState(""),[d,m]=f.useState(null),[h,g]=f.useState(!1),[v,y]=f.useState("create"),[x,w]=f.useState(!1),[T,E]=f.useState([]),[N,j]=f.useState([]),[_,C]=f.useState([]),[I,k]=f.useState([]),[W,F]=f.useState([]),[L,M]=f.useState([]),[z,K]=f.useState({}),[O,V]=f.useState(null);f.useEffect(()=>{R()},[]);const R=async()=>{if(s?.tenant_id){w(!0);try{const[X,ne,je,pe,Pe,Ie]=await Promise.all([xe.getRingGroups(),xe.getQueues(),xe.getConferenceRooms(),xe.getVoicemailBoxes(),xe.getTimeConditions(),xe.getIvrMenus()]);E(X.data||[]),j(ne.data||[]),C(je.data||[]),k(pe.data||[]),F(Pe.data||[]),M(Ie.data||[])}catch(X){console.error("Error loading data:",X)}finally{w(!1)}}},S=async(X,ne)=>{if(s?.tenant_id){w(!0);try{const je=await xe.post(`/voip/${X}`,{...ne,tenant_id:s.tenant_id});switch(X){case"ring-groups":E(pe=>[...pe,je.data]);break;case"queues":j(pe=>[...pe,je.data]);break;case"conference-rooms":C(pe=>[...pe,je.data]);break;case"voicemail-boxes":k(pe=>[...pe,je.data]);break;case"time-conditions":F(pe=>[...pe,je.data]);break;case"ivr-menus":M(pe=>[...pe,je.data]);break}g(!1),K({})}catch(je){console.error("Error creating item:",je)}finally{w(!1)}}},ee=async(X,ne,je)=>{w(!0);try{const pe=await xe.put(`/voip/${X}/${ne}`,je);switch(X){case"ring-groups":E(Pe=>Pe.map(Ie=>Ie.id===ne?pe.data:Ie));break;case"queues":j(Pe=>Pe.map(Ie=>Ie.id===ne?pe.data:Ie));break;case"conference-rooms":C(Pe=>Pe.map(Ie=>Ie.id===ne?pe.data:Ie));break;case"voicemail-boxes":k(Pe=>Pe.map(Ie=>Ie.id===ne?pe.data:Ie));break;case"time-conditions":F(Pe=>Pe.map(Ie=>Ie.id===ne?pe.data:Ie));break;case"ivr-menus":M(Pe=>Pe.map(Ie=>Ie.id===ne?pe.data:Ie));break}g(!1),K({})}catch(pe){console.error("Error updating item:",pe)}finally{w(!1)}},re=async(X,ne)=>{if(confirm("Are you sure you want to delete this item?")){w(!0);try{switch(await xe.delete(`/voip/${X}/${ne}`),X){case"ring-groups":E(je=>je.filter(pe=>pe.id!==ne));break;case"queues":j(je=>je.filter(pe=>pe.id!==ne));break;case"conference-rooms":C(je=>je.filter(pe=>pe.id!==ne));break;case"voicemail-boxes":k(je=>je.filter(pe=>pe.id!==ne));break;case"time-conditions":F(je=>je.filter(pe=>pe.id!==ne));break;case"ivr-menus":M(je=>je.filter(pe=>pe.id!==ne));break}d===ne&&m(null)}catch(je){console.error("Error deleting item:",je)}finally{w(!1)}}},fe=(X,ne)=>{y(X),ne?(V(ne),K(ne)):(V(null),K({})),g(!0)},A=()=>{g(!1),V(null),K({})},J=(X,ne,je)=>e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[je.map((pe,Pe)=>e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:pe.header},Pe)),e.jsx("th",{className:"text-right p-3 font-medium text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:X.map((pe,Pe)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[je.map((Ie,mt)=>e.jsx("td",{className:"p-3",children:Ie.render?Ie.render(pe):pe[Ie.key]},mt)),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[e.jsx(B,{variant:"ghost",size:"sm",onClick:()=>fe("view",pe),title:"View Details",children:e.jsx(Pt,{className:"h-4 w-4"})}),e.jsx(B,{variant:"ghost",size:"sm",onClick:()=>fe("edit",pe),title:"Edit",children:e.jsx(Yt,{className:"h-4 w-4"})}),e.jsx(B,{variant:"ghost",size:"sm",onClick:()=>re(ne,pe.id),title:"Delete",className:"text-red-600 hover:text-red-700",children:e.jsx(pt,{className:"h-4 w-4"})})]})})]},pe.id||Pe))})]})})}),ce=()=>{const X=[{header:"Name",key:"name"},{header:"Extension",key:"extension_number"},{header:"Strategy",key:"strategy"},{header:"Members",key:"members",render:ne=>`${ne.members?.length||0} members`},{header:"Status",key:"status",render:ne=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:ne.enabled?"default":"secondary",children:ne.enabled?"Enabled":"Disabled"}),ne.record_calls&&e.jsxs(he,{variant:"outline",className:"text-red-600",children:[e.jsx(Mic,{className:"h-3 w-3 mr-1"}),"Recording"]})]})}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(ot,{className:"h-5 w-5 mr-2"}),"Ring Groups (",T.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(B,{onClick:R,variant:"outline",size:"sm",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(B,{onClick:()=>fe("create"),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Ring Group"]})]})]}),J(T,"ring-groups",X)]})},$=()=>{const X=[{header:"Name",key:"name"},{header:"Extension",key:"extension_number"},{header:"Strategy",key:"strategy"},{header:"Agents",key:"agents",render:ne=>`${ne.agents?.length||0} agents`},{header:"Status",key:"status",render:ne=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:ne.enabled?"default":"secondary",children:ne.enabled?"Enabled":"Disabled"}),ne.record_calls&&e.jsxs(he,{variant:"outline",className:"text-red-600",children:[e.jsx(Mic,{className:"h-3 w-3 mr-1"}),"Recording"]})]})}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Cr,{className:"h-5 w-5 mr-2"}),"Queues (",N.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(B,{onClick:R,variant:"outline",size:"sm",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(B,{onClick:()=>fe("create"),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Queue"]})]})]}),J(N,"queues",X)]})},se=()=>{const X=[{header:"Name",key:"name"},{header:"Extension",key:"extension_number"},{header:"Max Members",key:"max_members"},{header:"PIN",key:"pin",render:ne=>ne.pin?"***":"None"},{header:"Status",key:"status",render:ne=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:ne.enabled?"default":"secondary",children:ne.enabled?"Enabled":"Disabled"}),ne.record_conference&&e.jsxs(he,{variant:"outline",className:"text-red-600",children:[e.jsx(Mic,{className:"h-3 w-3 mr-1"}),"Recording"]})]})}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(mw,{className:"h-5 w-5 mr-2"}),"Conference Rooms (",_.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(B,{onClick:R,variant:"outline",size:"sm",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(B,{onClick:()=>fe("create"),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Conference Room"]})]})]}),J(_,"conference-rooms",X)]})},_e=()=>{const X=[{header:"Display Name",key:"display_name"},{header:"Extension",key:"extension_number"},{header:"Email",key:"email_address"},{header:"Max Messages",key:"max_messages"},{header:"Status",key:"status",render:ne=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:ne.enabled?"default":"secondary",children:ne.enabled?"Enabled":"Disabled"}),ne.email_notification&&e.jsxs(he,{variant:"outline",className:"text-blue-600",children:[e.jsx(Cr,{className:"h-3 w-3 mr-1"}),"Email"]})]})}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Cr,{className:"h-5 w-5 mr-2"}),"Voicemail Boxes (",I.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(B,{onClick:R,variant:"outline",size:"sm",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(B,{onClick:()=>fe("create"),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Voicemail Box"]})]})]}),J(I,"voicemail-boxes",X)]})},Y=()=>{const X=[{header:"Name",key:"name"},{header:"Timezone",key:"timezone"},{header:"Business Hours",key:"business_hours",render:()=>"Mon-Fri 09:00-17:00"},{header:"Status",key:"status",render:ne=>e.jsx(he,{variant:ne.enabled?"default":"secondary",children:ne.enabled?"Enabled":"Disabled"})},{header:"Description",key:"description"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(un,{className:"h-5 w-5 mr-2"}),"Time Conditions (",W.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(B,{onClick:R,variant:"outline",size:"sm",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(B,{onClick:()=>fe("create"),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Time Condition"]})]})]}),J(W,"time-conditions",X)]})},oe=()=>{const X=[{header:"Name",key:"name"},{header:"Timeout",key:"timeout_seconds",render:ne=>`${ne.timeout_seconds}s`},{header:"Options",key:"options",render:ne=>`${ne.options?.length||0} options`},{header:"Status",key:"status",render:ne=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:ne.enabled?"default":"secondary",children:ne.enabled?"Enabled":"Disabled"}),ne.record_calls&&e.jsxs(he,{variant:"outline",className:"text-red-600",children:[e.jsx(Mic,{className:"h-3 w-3 mr-1"}),"Recording"]})]})},{header:"Description",key:"description"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Np,{className:"h-5 w-5 mr-2"}),"IVR Menus (",L.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(B,{onClick:R,variant:"outline",size:"sm",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(B,{onClick:()=>fe("create"),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add IVR Menu"]})]})]}),J(L,"ivr-menus",X)]})},ke=()=>h?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-semibold",children:[v==="create"?"Create New":v==="edit"?"Edit":"View"," ",r]}),e.jsx(B,{variant:"ghost",size:"sm",onClick:A,children:e.jsx(Ir,{className:"h-4 w-4"})})]}),e.jsxs(Hs,{defaultValue:"basic",className:"w-full",children:[e.jsxs(js,{className:"grid w-full grid-cols-4",children:[e.jsx(We,{value:"basic",children:"Basic"}),e.jsx(We,{value:"configuration",children:"Configuration"}),e.jsx(We,{value:"advanced",children:"Advanced"}),e.jsx(We,{value:"recording",children:"Recording"})]}),e.jsxs(Xe,{value:"basic",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Name"}),e.jsx(Z,{placeholder:"Item name",value:z.name||"",onChange:X=>K({...z,name:X.target.value}),disabled:v==="view"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(Z,{placeholder:"Item description",value:z.description||"",onChange:X=>K({...z,description:X.target.value}),disabled:v==="view"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{id:"enabled",checked:z.enabled||!1,onCheckedChange:X=>K({...z,enabled:X}),disabled:v==="view"}),e.jsx("label",{htmlFor:"enabled",className:"text-sm font-medium",children:"Enabled"})]})]}),e.jsx(Xe,{value:"configuration",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Extension Number"}),e.jsx(Z,{placeholder:"1001",value:z.extension_number||"",onChange:X=>K({...z,extension_number:X.target.value}),disabled:v==="view"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Strategy"}),e.jsxs(Ve,{value:z.strategy||"",onValueChange:X=>K({...z,strategy:X}),disabled:v==="view",children:[e.jsx(Fe,{children:e.jsx(Be,{placeholder:"Select strategy"})}),e.jsxs($e,{children:[e.jsx(Q,{value:"simultaneous",children:"Simultaneous"}),e.jsx(Q,{value:"sequential",children:"Sequential"}),e.jsx(Q,{value:"round_robin",children:"Round Robin"}),e.jsx(Q,{value:"random",children:"Random"}),e.jsx(Q,{value:"longest_idle",children:"Longest Idle"})]})]})]})]})}),e.jsx(Xe,{value:"advanced",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Timeout (seconds)"}),e.jsx(Z,{type:"number",placeholder:"30",value:z.timeout||"",onChange:X=>K({...z,timeout:parseInt(X.target.value)}),disabled:v==="view"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Calls"}),e.jsx(Z,{type:"number",placeholder:"10",value:z.max_calls||"",onChange:X=>K({...z,max_calls:parseInt(X.target.value)}),disabled:v==="view"})]})]})}),e.jsxs(Xe,{value:"recording",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{id:"record-calls",checked:z.record_calls||!1,onCheckedChange:X=>K({...z,record_calls:X}),disabled:v==="view"}),e.jsx("label",{htmlFor:"record-calls",className:"text-sm font-medium",children:"Record Calls"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Recording Path"}),e.jsx(Z,{placeholder:"/var/recordings/",value:z.recording_path||"",onChange:X=>K({...z,recording_path:X.target.value}),disabled:v==="view"})]})]})]}),v!=="view"&&e.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[e.jsxs(B,{variant:"outline",onClick:A,children:[e.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(B,{onClick:()=>{O?ee(r,O.id,z):S(r,z)},disabled:x,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx($a,{className:"h-4 w-4 mr-2"}),x?"Saving...":"Save Configuration"]})]})]})}):null;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Destinations & Time"}),e.jsx("p",{className:"text-muted-foreground",children:"Create and manage destinations (Ring Groups, Queues, Conference Rooms, Voicemail Boxes) and time conditions"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Et,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(Z,{placeholder:"Search destinations...",className:"pl-8 w-64",value:o,onChange:X=>c(X.target.value)})]})})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs(Hs,{value:r,onValueChange:i,className:"w-full",children:[e.jsxs(js,{className:"grid w-full grid-cols-6",children:[e.jsx(We,{value:"ring-groups",children:"Ring Groups"}),e.jsx(We,{value:"queues",children:"Queues"}),e.jsx(We,{value:"conference-rooms",children:"Conference"}),e.jsx(We,{value:"voicemail-boxes",children:"Voicemail"}),e.jsx(We,{value:"time-conditions",children:"Time Conditions"}),e.jsx(We,{value:"ivr-menus",children:"IVR Menus"})]}),e.jsx(Xe,{value:"ring-groups",className:"mt-6",children:ce()}),e.jsx(Xe,{value:"queues",className:"mt-6",children:$()}),e.jsx(Xe,{value:"conference-rooms",className:"mt-6",children:se()}),e.jsx(Xe,{value:"voicemail-boxes",className:"mt-6",children:_e()}),e.jsx(Xe,{value:"time-conditions",className:"mt-6",children:Y()}),e.jsx(Xe,{value:"ivr-menus",className:"mt-6",children:oe()})]})}),ke()]})}function Z2(){const[s,r]=f.useState(null),i=(m,h)=>{navigator.clipboard.writeText(m),r(h),setTimeout(()=>r(null),2e3)},o="http://localhost:3000/api/w3-voip",c="Bearer YOUR_JWT_TOKEN_HERE",d=[{title:"VoIP Trunks",description:"Gestione dei trunk SIP per la connessione ai provider",endpoints:[{method:"GET",path:"/trunks",description:"Lista tutti i trunk del tenant",example:`curl -X GET "${o}/trunks" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json"`,response:`{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "tenant_id": "tenant-1",
      "sip_domain": "demo-tenant.edgvoip.local",
      "provider": "Messagenet",
      "proxy": "sip.messagenet.it",
      "port": 5060,
      "transport": "udp",
      "auth_username": "5406594427",
      "secret_ref": "secret-123",
      "register": true,
      "expiry_seconds": 3600,
      "codec_set": "G729,PCMA,PCMU",
      "status": "REG_OK",
      "note": "Test trunk"
    }
  ]
}`},{method:"POST",path:"/trunks",description:"Crea un nuovo trunk SIP",example:`curl -X POST "${o}/trunks" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json" \\
  -d '{
    "provider": "Messagenet",
    "proxy": "sip.messagenet.it",
    "port": 5060,
    "transport": "udp",
    "auth_username": "5406594427",
    "secret_ref": "secret-123",
    "register": true,
    "expiry_seconds": 3600,
    "codec_set": "G729,PCMA,PCMU",
    "note": "Production trunk"
  }'`,response:`{
  "success": true,
  "data": {
    "id": "new-uuid",
    "tenant_id": "tenant-1",
    "sip_domain": "demo-tenant.edgvoip.local",
    "provider": "Messagenet",
    "proxy": "sip.messagenet.it",
    "port": 5060,
    "transport": "udp",
    "auth_username": "5406594427",
    "secret_ref": "secret-123",
    "register": true,
    "expiry_seconds": 3600,
    "codec_set": "G729,PCMA,PCMU",
    "status": "UNKNOWN",
    "note": "Production trunk"
  }
}`}]},{title:"VoIP Extensions",description:"Gestione delle estensioni interne del tenant",endpoints:[{method:"GET",path:"/extensions",description:"Lista tutte le estensioni del tenant",example:`curl -X GET "${o}/extensions" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json"`,response:`{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "tenant_id": "tenant-1",
      "sip_domain": "demo-tenant.edgvoip.local",
      "ext_number": "1001",
      "display_name": "John Doe",
      "enabled": true,
      "voicemail_enabled": true,
      "class_of_service": "agent",
      "note": "Sales team"
    }
  ]
}`},{method:"POST",path:"/extensions",description:"Crea una nuova estensione",example:`curl -X POST "${o}/extensions" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json" \\
  -d '{
    "ext_number": "1002",
    "display_name": "Jane Smith",
    "enabled": true,
    "voicemail_enabled": true,
    "class_of_service": "supervisor",
    "note": "Support team"
  }'`,response:`{
  "success": true,
  "data": {
    "id": "new-uuid",
    "tenant_id": "tenant-1",
    "sip_domain": "demo-tenant.edgvoip.local",
    "ext_number": "1002",
    "display_name": "Jane Smith",
    "enabled": true,
    "voicemail_enabled": true,
    "class_of_service": "supervisor",
    "note": "Support team"
  }
}`}]},{title:"VoIP DIDs",description:"Gestione dei numeri DID (Direct Inward Dialing)",endpoints:[{method:"GET",path:"/dids",description:"Lista tutti i DID del tenant",example:`curl -X GET "${o}/dids" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json"`,response:`{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "tenant_id": "tenant-1",
      "store_id": "store-1",
      "trunk_id": "trunk-uuid",
      "e164": "+390686356924",
      "sip_domain": "demo-tenant.edgvoip.local",
      "route_target_type": "ext",
      "route_target_ref": "1001",
      "label": "Main Line Roma",
      "active": true
    }
  ]
}`},{method:"POST",path:"/dids",description:"Crea un nuovo DID",example:`curl -X POST "${o}/dids" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json" \\
  -d '{
    "trunk_id": "trunk-uuid",
    "e164": "+39061234567",
    "route_target_type": "ivr",
    "route_target_ref": "ivr_main",
    "label": "Support Line",
    "active": true
  }'`,response:`{
  "success": true,
  "data": {
    "id": "new-uuid",
    "tenant_id": "tenant-1",
    "trunk_id": "trunk-uuid",
    "e164": "+39061234567",
    "sip_domain": "demo-tenant.edgvoip.local",
    "route_target_type": "ivr",
    "route_target_ref": "ivr_main",
    "label": "Support Line",
    "active": true
  }
}`}]},{title:"VoIP Routes",description:"Gestione delle rotte di chiamata outbound",endpoints:[{method:"GET",path:"/routes",description:"Lista tutte le rotte del tenant",example:`curl -X GET "${o}/routes" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json"`,response:`{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "tenant_id": "tenant-1",
      "name": "Uscita nazionale",
      "pattern": "^9(\\d+)$",
      "strip_digits": 1,
      "prepend": "0",
      "trunk_id": "trunk-uuid",
      "priority": 1,
      "active": true
    }
  ]
}`}]},{title:"Contact Policies",description:"Gestione delle policy di contatto e orari",endpoints:[{method:"GET",path:"/contact-policies",description:"Lista tutte le policy del tenant",example:`curl -X GET "${o}/contact-policies" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json"`,response:`{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "tenant_id": "tenant-1",
      "scope_type": "tenant",
      "scope_ref": "tenant-1",
      "rules_json": {
        "business_hours": {
          "monday": {"start": "09:00", "end": "18:00"},
          "tuesday": {"start": "09:00", "end": "18:00"}
        },
        "fallback": "voicemail"
      },
      "active": true,
      "label": "Orari Roma"
    }
  ]
}`}]},{title:"CDR & Activity Logs",description:"Accesso ai Call Detail Records e log delle attività",endpoints:[{method:"GET",path:"/cdr-activity/cdr",description:"Recupera i CDR con filtri",example:`curl -X GET "${o}/cdr-activity/cdr?start_date=2024-01-01&end_date=2024-01-31&direction=in" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json"`,response:`{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "tenant_id": "tenant-1",
      "sip_domain": "demo-tenant.edgvoip.local",
      "call_id": "call-001",
      "direction": "in",
      "from_uri": "+390686356924",
      "to_uri": "1001",
      "did_e164": "+390686356924",
      "ext_number": "1001",
      "start_ts": "2024-01-15T10:30:00Z",
      "answer_ts": "2024-01-15T10:30:05Z",
      "end_ts": "2024-01-15T10:40:00Z",
      "billsec": 600,
      "disposition": "ANSWERED",
      "recording_url": "https://recordings.example.com/call-001.wav",
      "meta_json": {"codec": "G729", "mos": 4.2}
    }
  ],
  "pagination": {
    "total": 1,
    "limit": 100,
    "offset": 0,
    "has_more": false
  }
}`},{method:"GET",path:"/cdr-activity/cdr/stats",description:"Statistiche dei CDR",example:`curl -X GET "${o}/cdr-activity/cdr/stats?start_date=2024-01-01&end_date=2024-01-31" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json"`,response:`{
  "success": true,
  "data": {
    "total_calls": 150,
    "answered_calls": 120,
    "missed_calls": 30,
    "total_duration": 7200,
    "avg_duration": 60,
    "by_direction": {"inbound": 100, "outbound": 50},
    "by_disposition": {"ANSWERED": 120, "NO_ANSWER": 20, "BUSY": 10}
  }
}`}]},{title:"Multi-Tenant Management",description:"API per gestione multi-tenant, dialplan, routing e deployment FreeSWITCH",endpoints:[{method:"POST",path:"/freeswitch-deploy/tenant/:tenantId",description:"Deploy completo configurazione tenant su FreeSWITCH",example:`curl -X POST "http://localhost:5000/api/freeswitch-deploy/tenant/{tenant-id}" \\
  -H "Authorization: ${c}"`,response:`{
  "success": true,
  "data": {
    "success": true,
    "message": "Tenant Demo configuration deployed successfully"
  }
}`},{method:"POST",path:"/dialplan/rules",description:"Crea regola dialplan per un context",example:`curl -X POST "http://localhost:5000/api/dialplan/rules" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json" \\
  -d '{
    "tenant_id": "uuid",
    "context": "tenant-demo-internal",
    "name": "Internal Calls",
    "priority": 100,
    "match_pattern": "^(1\\\\d{3})$",
    "actions": [
      {"type": "bridge", "target": "user/$1@demo.edgvoip.it"}
    ],
    "enabled": true
  }'`,response:`{
  "success": true,
  "data": {
    "id": "rule-uuid",
    "tenant_id": "uuid",
    "context": "tenant-demo-internal",
    "name": "Internal Calls",
    "priority": 100,
    "enabled": true
  }
}`},{method:"POST",path:"/routing/inbound",description:"Crea inbound route (DID → destination)",example:`curl -X POST "http://localhost:5000/api/routing/inbound" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json" \\
  -d '{
    "tenant_id": "uuid",
    "name": "Main Number",
    "did_number": "0591234567",
    "destination_type": "extension",
    "destination_value": "1001",
    "enabled": true
  }'`,response:`{
  "success": true,
  "data": {
    "id": "route-uuid",
    "name": "Main Number",
    "did_number": "0591234567",
    "destination_type": "extension",
    "destination_value": "1001"
  }
}`},{method:"POST",path:"/routing/outbound",description:"Crea outbound route (pattern → trunk)",example:`curl -X POST "http://localhost:5000/api/routing/outbound" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json" \\
  -d '{
    "tenant_id": "uuid",
    "name": "Mobile Numbers",
    "dial_pattern": "^3[0-9]{9}$",
    "trunk_id": "trunk-uuid",
    "strip_digits": 0,
    "priority": 100,
    "enabled": true
  }'`,response:`{
  "success": true,
  "data": {
    "id": "route-uuid",
    "name": "Mobile Numbers",
    "dial_pattern": "^3[0-9]{9}$",
    "trunk_id": "trunk-uuid",
    "priority": 100
  }
}`},{method:"POST",path:"/dialplan/test-pattern",description:"Test pattern regex contro un numero",example:`curl -X POST "http://localhost:5000/api/dialplan/test-pattern" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json" \\
  -d '{
    "pattern": "^3[0-9]{9}$",
    "number": "3297626144"
  }'`,response:`{
  "success": true,
  "data": {
    "match": true,
    "groups": [],
    "pattern": "^3[0-9]{9}$",
    "number": "3297626144"
  },
  "message": "Pattern matches"
}`}]}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"W3 Suite API Documentation"}),e.jsx("p",{className:"text-muted-foreground",children:"Documentazione completa per l'integrazione con EDG VoIP System"})]}),e.jsxs(he,{variant:"outline",className:"text-sm",children:[e.jsx(Zj,{className:"h-4 w-4 mr-2"}),"External API"]})]}),e.jsxs(de,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center",children:[e.jsx(tw,{className:"h-5 w-5 mr-2"}),"Autenticazione"]})}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"JWT Token"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Tutte le API richiedono un token JWT valido nell'header Authorization."}),e.jsx("div",{className:"bg-gray-100 p-3 rounded-md font-mono text-sm",children:"Authorization: Bearer YOUR_JWT_TOKEN_HERE"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Base URL"}),e.jsx("div",{className:"bg-gray-100 p-3 rounded-md font-mono text-sm",children:o})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Tenant Isolation"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Il tenant_id viene estratto automaticamente dal JWT token. Tutti i dati sono isolati per tenant."})]})]})]}),e.jsxs(Hs,{defaultValue:"trunks",className:"w-full",children:[e.jsxs(js,{className:"grid w-full grid-cols-7",children:[e.jsx(We,{value:"trunks",children:"Trunks"}),e.jsx(We,{value:"extensions",children:"Extensions"}),e.jsx(We,{value:"dids",children:"DIDs"}),e.jsx(We,{value:"routes",children:"Routes"}),e.jsx(We,{value:"multitenant",children:"Multi-Tenant"}),e.jsx(We,{value:"policies",children:"Policies"}),e.jsx(We,{value:"cdr",children:"CDR"})]}),d.map((m,h)=>e.jsx(Xe,{value:m.title.toLowerCase().split(" ")[0],children:e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center",children:[e.jsx(Yj,{className:"h-5 w-5 mr-2"}),m.title]}),e.jsx(Ue,{children:m.description})]}),e.jsx(me,{className:"space-y-6",children:m.endpoints.map((g,v)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(he,{variant:g.method==="GET"?"default":"secondary",className:"font-mono",children:g.method}),e.jsx("code",{className:"text-sm font-mono bg-gray-100 px-2 py-1 rounded",children:g.path})]}),e.jsx(B,{variant:"ghost",size:"sm",onClick:()=>i(g.example,`${h}-${v}-example`),children:s===`${h}-${v}-example`?e.jsx(Ad,{className:"h-4 w-4"}):e.jsx(Xj,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:g.description}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium mb-2 flex items-center",children:[e.jsx(_r,{className:"h-4 w-4 mr-2"}),"Esempio cURL"]}),e.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-md font-mono text-sm overflow-x-auto",children:e.jsx("pre",{children:g.example})})]}),e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium mb-2 flex items-center",children:[e.jsx(Md,{className:"h-4 w-4 mr-2"}),"Risposta"]}),e.jsx("div",{className:"bg-gray-100 p-4 rounded-md font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-800",children:g.response})})]})]})]},v))})]})},m.title))]}),e.jsxs(de,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center",children:[e.jsx(qj,{className:"h-5 w-5 mr-2"}),"Guida all'Integrazione"]})}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"1. Autenticazione"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ottieni un JWT token dal sistema di autenticazione W3 Suite e includilo in ogni richiesta."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"2. Tenant Context"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Il tenant_id viene estratto automaticamente dal JWT. Non è necessario specificarlo nelle richieste."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"3. Error Handling"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tutte le API restituiscono un formato standardizzato con success/error e messaggi descrittivi."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"4. Rate Limiting"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Le API hanno rate limiting configurato. Gestisci i codici di risposta 429 appropriatamente."})]})]})]}),e.jsxs(de,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center",children:[e.jsx(zs,{className:"h-5 w-5 mr-2"}),"Supporto e Sicurezza"]})}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Sicurezza"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Tutte le comunicazioni sono criptate (HTTPS)"}),e.jsx("li",{children:"• JWT tokens hanno scadenza configurata"}),e.jsx("li",{children:"• Tenant isolation garantita a livello database"}),e.jsx("li",{children:"• Rate limiting per prevenire abusi"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Supporto"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Per supporto tecnico o domande sull'integrazione, contatta il team EDG VoIP."})]})]})]})]})}function eC(){const{user:s}=xt(),[r,i]=f.useState([]),[o,c]=f.useState([]),[d,m]=f.useState(!1),[h,g]=f.useState(!1),[v,y]=f.useState(""),[x,w]=f.useState("all"),[T,E]=f.useState("all"),[N,j]=f.useState("all"),[_,C]=f.useState(!0),[I,k]=f.useState({total:0,errors:0,warnings:0,last_update:""}),[W,F]=f.useState("live"),L=f.useRef(null),[M,z]=f.useState({freeswitchLevel:"info",backendLevel:"info",maxLogs:"1000",retention:"30",sipTracing:!0,rtpCapture:!0,verboseDebugging:!1});f.useEffect(()=>{O(),K()},[]);const K=()=>{try{const Y=localStorage.getItem("logSettings");Y&&z(JSON.parse(Y))}catch(Y){console.error("Error loading saved settings:",Y)}};f.useEffect(()=>{R()},[r,v,x,T,N]),f.useEffect(()=>{_&&ee()},[o]),f.useEffect(()=>{let Y;return d&&(Y=setInterval(()=>{V()},2e3)),()=>clearInterval(Y)},[d]);const O=async()=>{g(!0);try{const[Y,oe]=await Promise.allSettled([xe.get("/logs/system?lines=100"),xe.get("/logs/stats?lines=1000")]);Y.status==="fulfilled"&&Y.value.data?.success?i(Y.value.data.logs):i([]),oe.status==="fulfilled"&&oe.value.data?.success?k(oe.value.data.stats):S([])}catch(Y){console.error("Error loading logs:",Y),i([]),S([])}finally{g(!1)}},V=async()=>{try{const oe=await xe.get("/logs/system?lines=10");if(oe.data?.success&&oe.data?.logs?.length>0){const ke=oe.data.logs.filter(X=>!r.some(ne=>ne.id===X.id));if(ke.length>0){i(X=>[...ke,...X].slice(0,1e3));return}}}catch(oe){console.error("Error fetching new logs:",oe)}const Y={id:Date.now().toString(),timestamp:new Date().toISOString(),level:["INFO","DEBUG","WARN","ERROR"][Math.floor(Math.random()*4)],component:["sofia","mod_dptools","api","auth"][Math.floor(Math.random()*4)],message:`Sample log message ${Date.now()}`,source:["freeswitch","backend"][Math.floor(Math.random()*2)],tenant_id:s?.tenant_id||void 0};i(oe=>[Y,...oe].slice(0,1e3))},R=()=>{let Y=r;v&&(Y=Y.filter(oe=>oe.message.toLowerCase().includes(v.toLowerCase())||oe.component.toLowerCase().includes(v.toLowerCase()))),x!=="all"&&(Y=Y.filter(oe=>oe.level===x)),T!=="all"&&(Y=Y.filter(oe=>oe.component===T)),N!=="all"&&(Y=Y.filter(oe=>oe.source===N)),c(Y)},S=Y=>{const oe={total:Y.length,errors:Y.filter(ke=>ke.level==="ERROR"||ke.level==="CRITICAL").length,warnings:Y.filter(ke=>ke.level==="WARN").length,last_update:new Date().toLocaleString()};k(oe)},ee=()=>{L.current?.scrollIntoView({behavior:"smooth"})},re=Y=>{switch(Y){case"ERROR":case"CRITICAL":return e.jsx(cd,{className:"h-4 w-4 text-red-500"});case"WARN":return e.jsx(ps,{className:"h-4 w-4 text-yellow-500"});case"INFO":return e.jsx(Nh,{className:"h-4 w-4 text-blue-500"});case"DEBUG":return e.jsx(Pt,{className:"h-4 w-4 text-gray-500"});default:return e.jsx(Nh,{className:"h-4 w-4 text-gray-500"})}},fe=Y=>{const oe={CRITICAL:"bg-red-100 text-red-800",ERROR:"bg-red-100 text-red-800",WARN:"bg-yellow-100 text-yellow-800",INFO:"bg-blue-100 text-blue-800",DEBUG:"bg-gray-100 text-gray-800"};return e.jsx(he,{className:`${oe[Y]||oe.DEBUG} text-xs`,children:Y})},A=Y=>{const oe={freeswitch:"bg-purple-100 text-purple-800",backend:"bg-green-100 text-green-800",frontend:"bg-blue-100 text-blue-800"};return e.jsx(he,{className:`${oe[Y]||oe.frontend} text-xs`,children:Y.toUpperCase()})},J=()=>{O()},ce=()=>{const Y=o.map(ne=>`[${ne.timestamp}] ${ne.level} [${ne.component}] ${ne.message}`).join(`
`),oe=new Blob([Y],{type:"text/plain"}),ke=URL.createObjectURL(oe),X=document.createElement("a");X.href=ke,X.download=`voip-logs-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(ke)},$=()=>{confirm("Are you sure you want to clear all logs?")&&(i([]),c([]),k({total:0,errors:0,warnings:0,last_update:new Date().toLocaleString()}))},se=async Y=>{try{(await xe.post("/logs/freeswitch/level",{level:Y})).data?.success&&console.log(`FreeSWITCH log level set to ${Y}`)}catch(oe){console.error("Error setting log level:",oe)}},_e=async Y=>{try{(await xe.post("/logs/freeswitch/tracing",{enabled:Y})).data?.success&&console.log(`SIP tracing ${Y?"enabled":"disabled"}`)}catch(oe){console.error("Error setting SIP tracing:",oe)}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Logs & Verbose"}),e.jsx("p",{className:"text-gray-600",children:"Monitor system logs and debugging information"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(B,{variant:"outline",onClick:J,disabled:h,children:[e.jsx(kt,{className:`h-4 w-4 mr-2 ${h?"animate-spin":""}`}),"Refresh"]}),e.jsxs(B,{variant:"outline",onClick:ce,children:[e.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Download"]}),e.jsxs(B,{variant:"outline",onClick:$,className:"text-red-600 hover:text-red-700",children:[e.jsx(iw,{className:"h-4 w-4 mr-2"}),"Clear"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(de,{children:e.jsx(me,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Logs"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.total})]}),e.jsx(zr,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(de,{children:e.jsx(me,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Errors"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:I.errors})]}),e.jsx(cd,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(de,{children:e.jsx(me,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Warnings"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:I.warnings})]}),e.jsx(ps,{className:"h-8 w-8 text-yellow-500"})]})})}),e.jsx(de,{children:e.jsx(me,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Last Update"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:I.last_update})]}),e.jsx(un,{className:"h-8 w-8 text-green-500"})]})})})]}),e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center",children:[e.jsx(_r,{className:"h-5 w-5 mr-2"}),"System Logs"]}),e.jsxs(Ue,{children:["Real-time monitoring of FreeSWITCH, Backend, and Frontend logs for tenant: ",s?.tenant_id?.slice(0,8),"..."]})]}),e.jsx(me,{children:e.jsxs(Hs,{value:W,onValueChange:Y=>F(Y),children:[e.jsxs(js,{className:"grid w-full grid-cols-3",children:[e.jsx(We,{value:"live",children:"Live Monitoring"}),e.jsx(We,{value:"search",children:"Search & Filter"}),e.jsx(We,{value:"settings",children:"Settings"})]}),e.jsxs(Xe,{value:"live",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:d,onCheckedChange:m}),e.jsx("span",{className:"text-sm font-medium",children:d?"Live Mode ON":"Live Mode OFF"}),d?e.jsx(Dd,{className:"h-4 w-4 text-green-500"}):e.jsx(_p,{className:"h-4 w-4 text-gray-400"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:_,onCheckedChange:C}),e.jsx("span",{className:"text-sm font-medium",children:"Auto Scroll"})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",o.length," of ",r.length," logs"]})]}),e.jsxs("div",{className:"bg-black text-green-400 font-mono text-sm rounded-lg p-4 h-96 overflow-y-auto",children:[o.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No logs to display"}):o.map(Y=>e.jsxs("div",{className:"flex items-start space-x-2 py-1 border-b border-gray-800",children:[e.jsx("span",{className:"text-gray-500 text-xs whitespace-nowrap",children:new Date(Y.timestamp).toLocaleTimeString()}),e.jsxs("div",{className:"flex items-center space-x-1",children:[re(Y.level),fe(Y.level),A(Y.source)]}),e.jsxs("span",{className:"text-blue-400 font-semibold",children:["[",Y.component,"]"]}),e.jsx("span",{className:"text-white flex-1",children:Y.message})]},Y.id)),e.jsx("div",{ref:L})]})]}),e.jsxs(Xe,{value:"search",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Z,{placeholder:"Search logs...",value:v,onChange:Y=>y(Y.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Level"}),e.jsxs(Ve,{value:x,onValueChange:w,children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"all",children:"All Levels"}),e.jsx(Q,{value:"DEBUG",children:"Debug"}),e.jsx(Q,{value:"INFO",children:"Info"}),e.jsx(Q,{value:"WARN",children:"Warning"}),e.jsx(Q,{value:"ERROR",children:"Error"}),e.jsx(Q,{value:"CRITICAL",children:"Critical"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Component"}),e.jsxs(Ve,{value:T,onValueChange:E,children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"all",children:"All Components"}),e.jsx(Q,{value:"sofia",children:"Sofia"}),e.jsx(Q,{value:"mod_dptools",children:"Mod Dptools"}),e.jsx(Q,{value:"api",children:"API"}),e.jsx(Q,{value:"auth",children:"Authentication"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Source"}),e.jsxs(Ve,{value:N,onValueChange:j,children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"all",children:"All Sources"}),e.jsx(Q,{value:"freeswitch",children:"FreeSWITCH"}),e.jsx(Q,{value:"backend",children:"Backend"}),e.jsx(Q,{value:"frontend",children:"Frontend"})]})]})]})]}),e.jsx("div",{className:"space-y-2",children:o.map(Y=>e.jsx(de,{className:"p-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[re(Y.level),fe(Y.level),A(Y.source),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(Y.timestamp).toLocaleString()})]}),e.jsx("div",{className:"flex items-center space-x-2 mb-1",children:e.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:["[",Y.component,"]"]})}),e.jsx("p",{className:"text-sm text-gray-700",children:Y.message})]})})},Y.id))})]}),e.jsx(Xe,{value:"settings",className:"space-y-4",children:e.jsxs(de,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Log Settings"}),e.jsx(Ue,{children:"Configure logging preferences and verbosity levels"})]}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"FreeSWITCH Log Level"}),e.jsxs(Ve,{value:M.freeswitchLevel,onValueChange:Y=>z(oe=>({...oe,freeswitchLevel:Y})),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"debug",children:"Debug"}),e.jsx(Q,{value:"info",children:"Info"}),e.jsx(Q,{value:"notice",children:"Notice"}),e.jsx(Q,{value:"warning",children:"Warning"}),e.jsx(Q,{value:"error",children:"Error"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Backend Log Level"}),e.jsxs(Ve,{value:M.backendLevel,onValueChange:Y=>z(oe=>({...oe,backendLevel:Y})),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"debug",children:"Debug"}),e.jsx(Q,{value:"info",children:"Info"}),e.jsx(Q,{value:"warn",children:"Warning"}),e.jsx(Q,{value:"error",children:"Error"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Log Entries"}),e.jsx(Z,{type:"number",value:M.maxLogs,onChange:Y=>z(oe=>({...oe,maxLogs:Y.target.value})),placeholder:"1000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Log Retention (days)"}),e.jsx(Z,{type:"number",value:M.retention,onChange:Y=>z(oe=>({...oe,retention:Y.target.value})),placeholder:"30"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:M.sipTracing,onCheckedChange:Y=>{z(oe=>({...oe,sipTracing:Y})),_e(Y)}}),e.jsx("span",{className:"text-sm font-medium",children:"Enable SIP Tracing"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:M.rtpCapture,onCheckedChange:Y=>z(oe=>({...oe,rtpCapture:Y}))}),e.jsx("span",{className:"text-sm font-medium",children:"Enable RTP Capture"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:M.verboseDebugging,onCheckedChange:Y=>z(oe=>({...oe,verboseDebugging:Y}))}),e.jsx("span",{className:"text-sm font-medium",children:"Enable Verbose Debugging"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(B,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{console.log("Apply Settings clicked"),console.log("Settings to apply:",M),se(M.freeswitchLevel),_e(M.sipTracing),localStorage.setItem("logSettings",JSON.stringify(M)),alert("Settings applied successfully!")},children:[e.jsx(xs,{className:"h-4 w-4 mr-2"}),"Apply Settings"]})})]})]})})]})})]})]})}function tC(){const{user:s}=xt(),[r,i]=f.useState([]),[o,c]=f.useState([]),[d,m]=f.useState(!1),[h,g]=f.useState("create"),[v,y]=f.useState(!1),[x,w]=f.useState(""),[T,E]=f.useState({}),[N,j]=f.useState(null);f.useEffect(()=>{_(),C()},[]);const _=async()=>{y(!0);try{const R=await(await fetch("/api/ring-groups")).json();R?.success&&Array.isArray(R?.data)?i(R.data):(console.warn("⚠️ Invalid API response format"),i([]))}catch(O){console.error("❌ Error loading ring groups:",O),i([])}finally{y(!1)}},C=async()=>{try{const R=await(await fetch("/api/extensions")).json();R?.success&&Array.isArray(R?.extensions)&&c(R.extensions.map(S=>({id:S.id,extension:S.extension,display_name:S.display_name})))}catch(O){console.error("❌ Error loading extensions:",O)}},I=async()=>{if(s?.tenant_id){y(!0);try{const R=await(await fetch("/api/ring-groups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...T,tenant_id:s.tenant_id})})).json();R.success?(await _(),m(!1),E({})):console.error("❌ Error creating ring group:",R.message)}catch(O){console.error("❌ Error creating ring group:",O)}finally{y(!1)}}},k=async()=>{if(N){y(!0);try{const R=await(await fetch(`/api/ring-groups/${N.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)})).json();R.success?(await _(),m(!1),E({}),j(null)):console.error("❌ Error updating ring group:",R.message)}catch(O){console.error("❌ Error updating ring group:",O)}finally{y(!1)}}},W=async O=>{if(confirm(`Are you sure you want to delete ring group "${O.name}"?`)){y(!0);try{const S=await(await fetch(`/api/ring-groups/${O.id}`,{method:"DELETE"})).json();S.success?await _():console.error("❌ Error deleting ring group:",S.message)}catch(V){console.error("❌ Error deleting ring group:",V)}finally{y(!1)}}},F=async(O,V)=>{try{const ee=await(await fetch(`/api/ring-groups/${O}/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({extension_id:V})})).json();ee.success?await _():console.error("❌ Error adding member:",ee.message)}catch(R){console.error("❌ Error adding member:",R)}},L=async(O,V)=>{try{const ee=await(await fetch(`/api/ring-groups/${O}/members/${V}`,{method:"DELETE"})).json();ee.success?await _():console.error("❌ Error removing member:",ee.message)}catch(R){console.error("❌ Error removing member:",R)}},M=r.filter(O=>O.name.toLowerCase().includes(x.toLowerCase())||O.extension.includes(x)||O.description?.toLowerCase().includes(x.toLowerCase())),z=O=>{switch(O){case"ringall":return"Ring All";case"hunt":return"Hunt";case"random":return"Random";case"simultaneous":return"Simultaneous";default:return O}},K=O=>{switch(O){case"ringall":return"bg-blue-100 text-blue-800";case"hunt":return"bg-green-100 text-green-800";case"random":return"bg-purple-100 text-purple-800";case"simultaneous":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Ring Groups"}),e.jsx("p",{className:"text-gray-600",children:"Manage ring groups for simultaneous or sequential ringing"})]}),e.jsxs(B,{onClick:()=>{g("create"),E({}),m(!0)},children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Ring Group"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Z,{placeholder:"Search ring groups...",value:x,onChange:O=>w(O.target.value),className:"pl-10"})]}),e.jsxs(B,{variant:"outline",onClick:_,disabled:v,children:[e.jsx(kt,{className:`h-4 w-4 mr-2 ${v?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(O=>e.jsxs(de,{className:"relative",children:[e.jsx(ve,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ye,{className:"text-lg",children:O.name}),e.jsx(Ue,{children:O.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:O.enabled?"default":"secondary",children:O.enabled?"Active":"Inactive"}),e.jsx(B,{variant:"ghost",size:"sm",children:e.jsx($r,{className:"h-4 w-4"})})]})]})}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:O.extension})]}),e.jsx(he,{className:K(O.strategy),children:z(O.strategy)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ot,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[O.members.length," member",O.members.length!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(un,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[O.ring_time,"s ring time"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[O.current_calls,"/",O.max_concurrent_calls," calls"]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:O.current_calls>0?e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}):e.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"})})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{g("edit"),E(O),j(O),m(!0)},children:[e.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{g("view"),E(O),j(O),m(!0)},children:[e.jsx(xs,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>W(O),className:"text-red-600 hover:text-red-700",children:e.jsx(pt,{className:"h-4 w-4"})})]})]})]},O.id))}),M.length===0&&!v&&e.jsx(de,{children:e.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(ot,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Ring Groups Found"}),e.jsx("p",{className:"text-gray-500 text-center mb-4",children:x?"No ring groups match your search criteria.":"Create your first ring group to get started."}),!x&&e.jsxs(B,{onClick:()=>{g("create"),E({}),m(!0)},children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Create Ring Group"]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ve,{children:[e.jsx(ye,{children:h==="create"?"Create Ring Group":h==="edit"?"Edit Ring Group":"View Ring Group"}),e.jsx(Ue,{children:h==="create"?"Create a new ring group for your team":h==="edit"?"Update ring group settings":"View ring group details and members"})]}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Name"}),e.jsx(Z,{value:T.name||"",onChange:O=>E({...T,name:O.target.value}),disabled:h==="view",placeholder:"Sales Team"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Extension"}),e.jsx(Z,{value:T.extension||"",onChange:O=>E({...T,extension:O.target.value}),disabled:h==="view",placeholder:"2000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(bn,{value:T.description||"",onChange:O=>E({...T,description:O.target.value}),disabled:h==="view",placeholder:"Ring group for sales team members"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Strategy"}),e.jsxs(Ve,{value:T.strategy||"ringall",onValueChange:O=>E({...T,strategy:O}),disabled:h==="view",children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"ringall",children:"Ring All"}),e.jsx(Q,{value:"hunt",children:"Hunt"}),e.jsx(Q,{value:"random",children:"Random"}),e.jsx(Q,{value:"simultaneous",children:"Simultaneous"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Ring Time (seconds)"}),e.jsx(Z,{type:"number",value:T.ring_time||20,onChange:O=>E({...T,ring_time:parseInt(O.target.value)}),disabled:h==="view",min:"1",max:"60"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Call Timeout (seconds)"}),e.jsx(Z,{type:"number",value:T.call_timeout||60,onChange:O=>E({...T,call_timeout:parseInt(O.target.value)}),disabled:h==="view",min:"1",max:"300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Concurrent Calls"}),e.jsx(Z,{type:"number",value:T.max_concurrent_calls||10,onChange:O=>E({...T,max_concurrent_calls:parseInt(O.target.value)}),disabled:h==="view",min:"1",max:"100"})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Voicemail Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:T.voicemail_enabled||!1,onCheckedChange:O=>E({...T,voicemail_enabled:O}),disabled:h==="view"}),e.jsx("label",{className:"text-sm font-medium",children:"Enable Voicemail"})]}),T.voicemail_enabled&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Voicemail Extension"}),e.jsx(Z,{value:T.voicemail_extension||"",onChange:O=>E({...T,voicemail_extension:O.target.value}),disabled:h==="view",placeholder:"100"})]})]})]}),(h==="edit"||h==="view")&&N&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Members"}),e.jsxs("div",{className:"space-y-2",children:[N.members.map(O=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:O.extension}),e.jsxs("span",{className:"text-sm text-gray-600",children:["- ",O.display_name]})]}),h==="edit"&&e.jsx(B,{variant:"outline",size:"sm",onClick:()=>L(N.id,O.extension_id),className:"text-red-600 hover:text-red-700",children:e.jsx(Tp,{className:"h-4 w-4"})})]},O.extension_id)),h==="edit"&&e.jsx("div",{className:"pt-2",children:e.jsxs(Ve,{onValueChange:O=>{O&&F(N.id,O)},children:[e.jsx(Fe,{children:e.jsx(Be,{placeholder:"Add member..."})}),e.jsx($e,{children:o.filter(O=>!N.members.some(V=>V.extension_id===O.id)).map(O=>e.jsxs(Q,{value:O.id,children:[O.extension," - ",O.display_name]},O.id))})]})})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[e.jsx(B,{variant:"outline",onClick:()=>{m(!1),E({}),j(null)},children:"Cancel"}),h!=="view"&&e.jsx(B,{onClick:h==="create"?I:k,disabled:v,children:v?"Saving...":h==="create"?"Create":"Update"})]})]})]})})]})}const nC=()=>{const{logout:s}=xt(),r=It();return{apiCall:async(o,c={})=>{const d=await fetch(o,{...c,headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json",...c.headers}});if(d.status===401||d.status===403)throw console.warn("⚠️ Session expired, redirecting to login"),s(),r("/login"),new Error("Session expired");return d}}};function sC(){const{user:s}=xt(),{apiCall:r}=nC(),[i,o]=f.useState([]),[c,d]=f.useState([]),[m,h]=f.useState(!1),[g,v]=f.useState("create"),[y,x]=f.useState(!1),[w,T]=f.useState(""),[E,N]=f.useState({}),[j,_]=f.useState(null);f.useEffect(()=>{s&&(C(),I())},[s]);const C=async()=>{if(!s){console.warn("⚠️ User not authenticated, skipping queue load");return}x(!0);try{const ee=await(await r("http://localhost:3000/api/queues")).json();ee?.success&&Array.isArray(ee?.data)?o(ee.data):(console.warn("⚠️ Invalid API response format"),o([]))}catch(R){console.error("❌ Error loading queues:",R),o([])}finally{x(!1)}},I=async()=>{if(!s){console.warn("⚠️ User not authenticated, skipping extensions load");return}try{const ee=await(await r("http://localhost:3000/api/extensions")).json();ee?.success&&Array.isArray(ee?.extensions)&&d(ee.extensions.map(re=>({id:re.id,extension:re.extension,display_name:re.display_name})))}catch(R){console.error("❌ Error loading extensions:",R)}},k=async()=>{if(s?.tenant_id){x(!0);try{const ee=await(await fetch("http://localhost:3000/api/queues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...E,tenant_id:s.tenant_id})})).json();ee.success?(await C(),h(!1),N({})):console.error("❌ Error creating queue:",ee.message)}catch(R){console.error("❌ Error creating queue:",R)}finally{x(!1)}}},W=async()=>{if(j){x(!0);try{const ee=await(await fetch(`http://localhost:3000/api/queues/${j.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)})).json();ee.success?(await C(),h(!1),N({}),_(null)):console.error("❌ Error updating queue:",ee.message)}catch(R){console.error("❌ Error updating queue:",R)}finally{x(!1)}}},F=async R=>{if(confirm(`Are you sure you want to delete queue "${R.name}"?`)){x(!0);try{const re=await(await fetch(`http://localhost:3000/api/queues/${R.id}`,{method:"DELETE"})).json();re.success?await C():console.error("❌ Error deleting queue:",re.message)}catch(S){console.error("❌ Error deleting queue:",S)}finally{x(!1)}}},L=async(R,S)=>{try{const fe=await(await fetch(`http://localhost:3000/api/queues/${R}/agents`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({extension_id:S})})).json();fe.success?await C():console.error("❌ Error adding agent:",fe.message)}catch(ee){console.error("❌ Error adding agent:",ee)}},M=async(R,S)=>{try{const fe=await(await fetch(`http://localhost:3000/api/queues/${R}/agents/${S}`,{method:"DELETE"})).json();fe.success?await C():console.error("❌ Error removing agent:",fe.message)}catch(ee){console.error("❌ Error removing agent:",ee)}},z=i.filter(R=>R.name.toLowerCase().includes(w.toLowerCase())||R.extension.includes(w)||R.description?.toLowerCase().includes(w.toLowerCase())),K=R=>{switch(R){case"ring-all":return"Ring All";case"longest-idle":return"Longest Idle";case"round-robin":return"Round Robin";case"top-down":return"Top Down";case"agent-with-least-talk-time":return"Least Talk Time";default:return R}},O=R=>{switch(R){case"ring-all":return"bg-blue-100 text-blue-800";case"longest-idle":return"bg-green-100 text-green-800";case"round-robin":return"bg-purple-100 text-purple-800";case"top-down":return"bg-orange-100 text-orange-800";case"agent-with-least-talk-time":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}},V=R=>{switch(R){case"Available":return"bg-green-100 text-green-800";case"On Break":return"bg-yellow-100 text-yellow-800";case"Logged Out":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Call Queues"}),e.jsx("p",{className:"text-gray-600",children:"Manage call queues for distributing calls to agents"})]}),e.jsxs(B,{onClick:()=>{v("create"),N({}),h(!0)},children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Queue"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Z,{placeholder:"Search queues...",value:w,onChange:R=>T(R.target.value),className:"pl-10"})]}),e.jsxs(B,{variant:"outline",onClick:C,disabled:y,children:[e.jsx(kt,{className:`h-4 w-4 mr-2 ${y?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(R=>e.jsxs(de,{className:"relative",children:[e.jsx(ve,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ye,{className:"text-lg",children:R.name}),e.jsx(Ue,{children:R.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:R.enabled?"default":"secondary",children:R.enabled?"Active":"Inactive"}),e.jsx(B,{variant:"ghost",size:"sm",children:e.jsx($r,{className:"h-4 w-4"})})]})]})}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:R.extension})]}),e.jsx(he,{className:O(R.strategy),children:K(R.strategy)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ot,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[R.agents.length," agent",R.agents.length!==1?"s":""]})]}),e.jsxs("div",{className:"space-y-1",children:[R.agents.slice(0,3).map(S=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:S.agent_name}),e.jsx(he,{className:`${V(S.status)} text-xs`,children:S.status})]},S.id)),R.agents.length>3&&e.jsxs("div",{className:"text-xs text-gray-500",children:["+",R.agents.length-3," more agents"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(un,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Math.floor(R.max_wait_time/60),"m max wait"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zr,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[R.current_calls,"/",R.max_concurrent_calls," calls"]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:R.current_calls>0?e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}):e.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"})})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{v("edit"),N(R),_(R),h(!0)},children:[e.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{v("view"),N(R),_(R),h(!0)},children:[e.jsx(Pt,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>F(R),className:"text-red-600 hover:text-red-700",children:e.jsx(pt,{className:"h-4 w-4"})})]})]})]},R.id))}),z.length===0&&!y&&e.jsx(de,{children:e.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(ot,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Queues Found"}),e.jsx("p",{className:"text-gray-500 text-center mb-4",children:w?"No queues match your search criteria.":"Create your first call queue to get started."}),!w&&e.jsxs(B,{onClick:()=>{v("create"),N({}),h(!0)},children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Create Queue"]})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ve,{children:[e.jsx(ye,{children:g==="create"?"Create Call Queue":g==="edit"?"Edit Call Queue":"View Call Queue"}),e.jsx(Ue,{children:g==="create"?"Create a new call queue for your agents":g==="edit"?"Update queue settings":"View queue details and agents"})]}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Name"}),e.jsx(Z,{value:E.name||"",onChange:R=>N({...E,name:R.target.value}),disabled:g==="view",placeholder:"Support Queue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Extension"}),e.jsx(Z,{value:E.extension||"",onChange:R=>N({...E,extension:R.target.value}),disabled:g==="view",placeholder:"3000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(bn,{value:E.description||"",onChange:R=>N({...E,description:R.target.value}),disabled:g==="view",placeholder:"Call queue for customer support"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Strategy"}),e.jsxs(Ve,{value:E.strategy||"ring-all",onValueChange:R=>N({...E,strategy:R}),disabled:g==="view",children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"ring-all",children:"Ring All"}),e.jsx(Q,{value:"longest-idle",children:"Longest Idle"}),e.jsx(Q,{value:"round-robin",children:"Round Robin"}),e.jsx(Q,{value:"top-down",children:"Top Down"}),e.jsx(Q,{value:"agent-with-least-talk-time",children:"Least Talk Time"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Wait Time (seconds)"}),e.jsx(Z,{type:"number",value:E.max_wait_time||300,onChange:R=>N({...E,max_wait_time:parseInt(R.target.value)}),disabled:g==="view",min:"1",max:"3600"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Queue Timeout (seconds)"}),e.jsx(Z,{type:"number",value:E.queue_timeout||60,onChange:R=>N({...E,queue_timeout:parseInt(R.target.value)}),disabled:g==="view",min:"1",max:"300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Concurrent Calls"}),e.jsx(Z,{type:"number",value:E.max_concurrent_calls||10,onChange:R=>N({...E,max_concurrent_calls:parseInt(R.target.value)}),disabled:g==="view",min:"1",max:"100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Timeout Action"}),e.jsxs(Ve,{value:E.queue_timeout_action||"hangup",onValueChange:R=>N({...E,queue_timeout_action:R}),disabled:g==="view",children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"hangup",children:"Hangup"}),e.jsx(Q,{value:"voicemail",children:"Voicemail"}),e.jsx(Q,{value:"forward",children:"Forward"})]})]})]}),(g==="edit"||g==="view")&&j&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Agents"}),e.jsxs("div",{className:"space-y-2",children:[j.agents.map(R=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:R.agent_name}),e.jsx(he,{className:`${V(R.status)} text-xs`,children:R.status})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["T",R.tier_level,".",R.tier_position]}),g==="edit"&&e.jsx(B,{variant:"outline",size:"sm",onClick:()=>M(j.id,R.extension_id),className:"text-red-600 hover:text-red-700",children:e.jsx(Tp,{className:"h-4 w-4"})})]})]},R.id)),g==="edit"&&e.jsx("div",{className:"pt-2",children:e.jsxs(Ve,{onValueChange:R=>{R&&L(j.id,R)},children:[e.jsx(Fe,{children:e.jsx(Be,{placeholder:"Add agent..."})}),e.jsx($e,{children:c.filter(R=>!j.agents.some(S=>S.extension_id===R.id)).map(R=>e.jsxs(Q,{value:R.id,children:[R.extension," - ",R.display_name]},R.id))})]})})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[e.jsx(B,{variant:"outline",onClick:()=>{h(!1),N({}),_(null)},children:"Cancel"}),g!=="view"&&e.jsx(B,{onClick:g==="create"?k:W,disabled:y,children:y?"Saving...":g==="create"?"Create":"Update"})]})]})]})})]})}function rC(){const{user:s}=xt(),[r,i]=f.useState([]),[o,c]=f.useState(!1),[d,m]=f.useState("create"),[h,g]=f.useState(!1),[v,y]=f.useState(""),[x,w]=f.useState({}),[T,E]=f.useState(null);f.useEffect(()=>{N()},[]);const N=async()=>{g(!0);try{const z=await(await fetch("/api/ivr-menus")).json();z?.success&&Array.isArray(z?.data)?i(z.data):(console.warn("⚠️ Invalid API response format"),i([]))}catch(L){console.error("❌ Error loading IVR menus:",L),i([])}finally{g(!1)}},j=async()=>{if(s?.tenant_id){g(!0);try{const z=await(await fetch("/api/ivr-menus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...x,tenant_id:s.tenant_id})})).json();z.success?(await N(),c(!1),w({})):console.error("❌ Error creating IVR menu:",z.message)}catch(L){console.error("❌ Error creating IVR menu:",L)}finally{g(!1)}}},_=async()=>{if(T){g(!0);try{const z=await(await fetch(`/api/ivr-menus/${T.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})).json();z.success?(await N(),c(!1),w({}),E(null)):console.error("❌ Error updating IVR menu:",z.message)}catch(L){console.error("❌ Error updating IVR menu:",L)}finally{g(!1)}}},C=async L=>{if(confirm(`Are you sure you want to delete IVR menu "${L.name}"?`)){g(!0);try{const K=await(await fetch(`/api/ivr-menus/${L.id}`,{method:"DELETE"})).json();K.success?await N():console.error("❌ Error deleting IVR menu:",K.message)}catch(M){console.error("❌ Error deleting IVR menu:",M)}finally{g(!1)}}},I=r.filter(L=>L.name.toLowerCase().includes(v.toLowerCase())||L.extension.includes(v)||L.description?.toLowerCase().includes(v.toLowerCase())),k=L=>{switch(L){case"extension":return e.jsx(Qe,{className:"h-4 w-4"});case"queue":return e.jsx(ot,{className:"h-4 w-4"});case"conference":return e.jsx(Cr,{className:"h-4 w-4"});case"voicemail":return e.jsx(Fr,{className:"h-4 w-4"});case"submenu":return e.jsx(Id,{className:"h-4 w-4"});case"hangup":return e.jsx(kp,{className:"h-4 w-4"});default:return e.jsx(xs,{className:"h-4 w-4"})}},W=L=>{switch(L){case"extension":return"Extension";case"queue":return"Queue";case"conference":return"Conference";case"voicemail":return"Voicemail";case"submenu":return"Submenu";case"hangup":return"Hangup";default:return L}},F=L=>{switch(L){case"extension":return"bg-blue-100 text-blue-800";case"queue":return"bg-green-100 text-green-800";case"conference":return"bg-purple-100 text-purple-800";case"voicemail":return"bg-orange-100 text-orange-800";case"submenu":return"bg-pink-100 text-pink-800";case"hangup":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"IVR Menus"}),e.jsx("p",{className:"text-gray-600",children:"Create and manage Interactive Voice Response menus"})]}),e.jsxs(B,{onClick:()=>{m("create"),w({timeout:10,max_failures:3,timeout_action:{type:"hangup",destination:""},invalid_action:{type:"hangup",destination:""},options:{}}),c(!0)},children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add IVR Menu"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Z,{placeholder:"Search IVR menus...",value:v,onChange:L=>y(L.target.value),className:"pl-10"})]}),e.jsxs(B,{variant:"outline",onClick:N,disabled:h,children:[e.jsx(kt,{className:`h-4 w-4 mr-2 ${h?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(L=>e.jsxs(de,{className:"relative",children:[e.jsx(ve,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ye,{className:"text-lg",children:L.name}),e.jsx(Ue,{children:L.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:L.enabled?"default":"secondary",children:L.enabled?"Active":"Inactive"}),e.jsx(B,{variant:"ghost",size:"sm",children:e.jsx($r,{className:"h-4 w-4"})})]})]})}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:L.extension})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(un,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:[L.timeout,"s timeout"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(wp,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:[L.max_failures," max tries"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xs,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Object.keys(L.options).length," option",Object.keys(L.options).length!==1?"s":""]})]}),e.jsxs("div",{className:"space-y-1",children:[Object.entries(L.options).slice(0,3).map(([M,z])=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:M}),e.jsx("span",{className:"text-gray-600",children:z.description||z.destination})]}),e.jsxs(he,{className:`${F(z.action)} text-xs flex items-center space-x-1`,children:[k(z.action),e.jsx("span",{children:W(z.action)})]})]},M)),Object.keys(L.options).length>3&&e.jsxs("div",{className:"text-xs text-gray-500",children:["+",Object.keys(L.options).length-3," more options"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{m("edit"),w(L),E(L),c(!0)},children:[e.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{m("view"),w(L),E(L),c(!0)},children:[e.jsx(Pt,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>C(L),className:"text-red-600 hover:text-red-700",children:e.jsx(pt,{className:"h-4 w-4"})})]})]})]},L.id))}),I.length===0&&!h&&e.jsx(de,{children:e.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Qe,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No IVR Menus Found"}),e.jsx("p",{className:"text-gray-500 text-center mb-4",children:v?"No IVR menus match your search criteria.":"Create your first IVR menu to get started."}),!v&&e.jsxs(B,{onClick:()=>{m("create"),w({timeout:10,max_failures:3,timeout_action:{type:"hangup",destination:""},invalid_action:{type:"hangup",destination:""},options:{}}),c(!0)},children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Create IVR Menu"]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ve,{children:[e.jsx(ye,{children:d==="create"?"Create IVR Menu":d==="edit"?"Edit IVR Menu":"View IVR Menu"}),e.jsx(Ue,{children:d==="create"?"Create a new Interactive Voice Response menu":d==="edit"?"Update IVR menu settings":"View IVR menu details and options"})]}),e.jsxs(me,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Name"}),e.jsx(Z,{value:x.name||"",onChange:L=>w({...x,name:L.target.value}),disabled:d==="view",placeholder:"Main Menu"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Extension"}),e.jsx(Z,{value:x.extension||"",onChange:L=>w({...x,extension:L.target.value}),disabled:d==="view",placeholder:"1000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(bn,{value:x.description||"",onChange:L=>w({...x,description:L.target.value}),disabled:d==="view",placeholder:"Main customer service menu"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Timeout (seconds)"}),e.jsx(Z,{type:"number",value:x.timeout||10,onChange:L=>w({...x,timeout:parseInt(L.target.value)}),disabled:d==="view",min:"1",max:"60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Failures"}),e.jsx(Z,{type:"number",value:x.max_failures||3,onChange:L=>w({...x,max_failures:parseInt(L.target.value)}),disabled:d==="view",min:"1",max:"10"})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"DTMF Options"}),e.jsxs("div",{className:"space-y-3",children:[Object.entries(x.options||{}).map(([L,M],z)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded",children:[e.jsx("div",{className:"w-16",children:e.jsx(Z,{value:L,onChange:K=>{const O={...x.options};delete O[L],O[K.target.value]=M,w({...x,options:O})},disabled:d==="view",placeholder:"1",className:"text-center font-mono"})}),e.jsx("div",{className:"flex-1",children:e.jsx(Z,{value:M.description||"",onChange:K=>{const O={...x.options};O[L]={...M,description:K.target.value},w({...x,options:O})},disabled:d==="view",placeholder:"Option description"})}),e.jsx("div",{className:"w-32",children:e.jsxs(Ve,{value:M.action,onValueChange:K=>{const O={...x.options};O[L]={...M,action:K},w({...x,options:O})},disabled:d==="view",children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"extension",children:"Extension"}),e.jsx(Q,{value:"queue",children:"Queue"}),e.jsx(Q,{value:"conference",children:"Conference"}),e.jsx(Q,{value:"voicemail",children:"Voicemail"}),e.jsx(Q,{value:"submenu",children:"Submenu"}),e.jsx(Q,{value:"hangup",children:"Hangup"})]})]})}),e.jsx("div",{className:"w-32",children:e.jsx(Z,{value:M.destination,onChange:K=>{const O={...x.options};O[L]={...M,destination:K.target.value},w({...x,options:O})},disabled:d==="view",placeholder:"Destination"})}),d!=="view"&&e.jsx(B,{variant:"outline",size:"sm",onClick:()=>{const K={...x.options};delete K[L],w({...x,options:K})},className:"text-red-600 hover:text-red-700",children:e.jsx(pt,{className:"h-4 w-4"})})]},L)),d!=="view"&&e.jsxs(B,{variant:"outline",onClick:()=>{const L={...x.options||{}},M=Object.keys(L).length.toString();L[M]={action:"hangup",destination:"",description:""},w({...x,options:L})},children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Option"]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[e.jsx(B,{variant:"outline",onClick:()=>{c(!1),w({}),E(null)},children:"Cancel"}),d!=="view"&&e.jsx(B,{onClick:d==="create"?j:_,disabled:h,children:h?"Saving...":d==="create"?"Create":"Update"})]})]})]})})]})}function aC(){const{user:s}=xt(),[r,i]=f.useState([]),[o,c]=f.useState(!1),[d,m]=f.useState("create"),[h,g]=f.useState(!1),[v,y]=f.useState(""),[x,w]=f.useState({}),[T,E]=f.useState(null);f.useEffect(()=>{N()},[]);const N=async()=>{g(!0);try{const F=await(await fetch("http://localhost:3000/api/conference-rooms")).json();F?.success&&Array.isArray(F?.data)?i(F.data):(console.warn("⚠️ Invalid API response format"),i([]))}catch(k){console.error("❌ Error loading conference rooms:",k),i([])}finally{g(!1)}},j=async()=>{if(s?.tenant_id){g(!0);try{const F=await(await fetch("http://localhost:3000/api/conference-rooms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...x,tenant_id:s.tenant_id})})).json();F.success?(await N(),c(!1),w({})):console.error("❌ Error creating conference room:",F.message)}catch(k){console.error("❌ Error creating conference room:",k)}finally{g(!1)}}},_=async()=>{if(T){g(!0);try{const F=await(await fetch(`http://localhost:3000/api/conference-rooms/${T.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})).json();F.success?(await N(),c(!1),w({}),E(null)):console.error("❌ Error updating conference room:",F.message)}catch(k){console.error("❌ Error updating conference room:",k)}finally{g(!1)}}},C=async k=>{if(confirm(`Are you sure you want to delete conference room "${k.name}"?`)){g(!0);try{const L=await(await fetch(`http://localhost:3000/api/conference-rooms/${k.id}`,{method:"DELETE"})).json();L.success?await N():console.error("❌ Error deleting conference room:",L.message)}catch(W){console.error("❌ Error deleting conference room:",W)}finally{g(!1)}}},I=r.filter(k=>k.name.toLowerCase().includes(v.toLowerCase())||k.extension.includes(v)||k.description?.toLowerCase().includes(v.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Conference Rooms"}),e.jsx("p",{className:"text-gray-600",children:"Create and manage audio conference rooms"})]}),e.jsxs(B,{onClick:()=>{m("create"),w({max_members:50,record:!1,settings:{}}),c(!0)},children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Conference Room"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Z,{placeholder:"Search conference rooms...",value:v,onChange:k=>y(k.target.value),className:"pl-10"})]}),e.jsxs(B,{variant:"outline",onClick:N,disabled:h,children:[e.jsx(kt,{className:`h-4 w-4 mr-2 ${h?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(k=>e.jsxs(de,{className:"relative",children:[e.jsx(ve,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ye,{className:"text-lg",children:k.name}),e.jsx(Ue,{children:k.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:k.enabled?"default":"secondary",children:k.enabled?"Active":"Inactive"}),e.jsx(B,{variant:"ghost",size:"sm",children:e.jsx($r,{className:"h-4 w-4"})})]})]})}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:k.extension})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[k.pin&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(wp,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:["PIN: ",k.pin]})]}),k.moderator_pin&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bp,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:["Mod: ",k.moderator_pin]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ot,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Max ",k.max_members," members"]})]}),k.record&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fr,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Recording enabled"})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{m("edit"),w(k),E(k),c(!0)},children:[e.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{m("view"),w(k),E(k),c(!0)},children:[e.jsx(Pt,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>C(k),className:"text-red-600 hover:text-red-700",children:e.jsx(pt,{className:"h-4 w-4"})})]})]})]},k.id))}),I.length===0&&!h&&e.jsx(de,{children:e.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Cr,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Conference Rooms Found"}),e.jsx("p",{className:"text-gray-500 text-center mb-4",children:v?"No conference rooms match your search criteria.":"Create your first conference room to get started."}),!v&&e.jsxs(B,{onClick:()=>{m("create"),w({max_members:50,record:!1,settings:{}}),c(!0)},children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Create Conference Room"]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ve,{children:[e.jsx(ye,{children:d==="create"?"Create Conference Room":d==="edit"?"Edit Conference Room":"View Conference Room"}),e.jsx(Ue,{children:d==="create"?"Create a new audio conference room":d==="edit"?"Update conference room settings":"View conference room details"})]}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Name"}),e.jsx(Z,{value:x.name||"",onChange:k=>w({...x,name:k.target.value}),disabled:d==="view",placeholder:"Sales Conference"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Extension"}),e.jsx(Z,{value:x.extension||"",onChange:k=>w({...x,extension:k.target.value}),disabled:d==="view",placeholder:"3000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(bn,{value:x.description||"",onChange:k=>w({...x,description:k.target.value}),disabled:d==="view",placeholder:"Sales team conference room"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Participant PIN (optional)"}),e.jsx(Z,{value:x.pin||"",onChange:k=>w({...x,pin:k.target.value}),disabled:d==="view",placeholder:"1234"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Moderator PIN (optional)"}),e.jsx(Z,{value:x.moderator_pin||"",onChange:k=>w({...x,moderator_pin:k.target.value}),disabled:d==="view",placeholder:"5678"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Members"}),e.jsx(Z,{type:"number",value:x.max_members||50,onChange:k=>w({...x,max_members:parseInt(k.target.value)}),disabled:d==="view",min:"2",max:"1000"})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[e.jsx(Ge,{checked:x.record||!1,onCheckedChange:k=>w({...x,record:k}),disabled:d==="view"}),e.jsx("label",{className:"text-sm font-medium",children:"Enable Recording"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[e.jsx(B,{variant:"outline",onClick:()=>{c(!1),w({}),E(null)},children:"Cancel"}),d!=="view"&&e.jsx(B,{onClick:d==="create"?j:_,disabled:h,children:h?"Saving...":d==="create"?"Create":"Update"})]})]})]})})]})}function iC(){const{user:s}=xt(),[r,i]=f.useState([]),[o,c]=f.useState(!1),[d,m]=f.useState("create"),[h,g]=f.useState(!1),[v,y]=f.useState(""),[x,w]=f.useState({}),[T,E]=f.useState(null);f.useEffect(()=>{N()},[]);const N=async()=>{g(!0);try{const F=await(await fetch("http://localhost:3000/api/voicemail-boxes")).json();F?.success&&Array.isArray(F?.data)?i(F.data):(console.warn("⚠️ Invalid API response format"),i([]))}catch(k){console.error("❌ Error loading voicemail boxes:",k),i([])}finally{g(!1)}},j=async()=>{if(s?.tenant_id){g(!0);try{const F=await(await fetch("http://localhost:3000/api/voicemail-boxes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...x,tenant_id:s.tenant_id})})).json();F.success?(await N(),c(!1),w({})):console.error("❌ Error creating voicemail box:",F.message)}catch(k){console.error("❌ Error creating voicemail box:",k)}finally{g(!1)}}},_=async()=>{if(T){g(!0);try{const F=await(await fetch(`http://localhost:3000/api/voicemail-boxes/${T.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})).json();F.success?(await N(),c(!1),w({}),E(null)):console.error("❌ Error updating voicemail box:",F.message)}catch(k){console.error("❌ Error updating voicemail box:",k)}finally{g(!1)}}},C=async k=>{if(confirm(`Are you sure you want to delete voicemail box "${k.mailbox_id}"?`)){g(!0);try{const L=await(await fetch(`http://localhost:3000/api/voicemail-boxes/${k.id}`,{method:"DELETE"})).json();L.success?await N():console.error("❌ Error deleting voicemail box:",L.message)}catch(W){console.error("❌ Error deleting voicemail box:",W)}finally{g(!1)}}},I=r.filter(k=>k.mailbox_id.toLowerCase().includes(v.toLowerCase())||k.full_name?.toLowerCase().includes(v.toLowerCase())||k.email?.toLowerCase().includes(v.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Voicemail"}),e.jsx("p",{className:"text-gray-600",children:"Manage voicemail boxes and messages"})]}),e.jsxs(B,{onClick:()=>{m("create"),w({timezone:"UTC",attach_file:!0,delete_voicemail:!1,say_caller_id:!0,say_caller_id_name:!0,say_envelope:!0,skip_greeting:!1,skip_instructions:!1,email_attachment_format:"wav",max_greeting_length:60,max_message_length:300,settings:{}}),c(!0)},children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Voicemail Box"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Z,{placeholder:"Search voicemail boxes...",value:v,onChange:k=>y(k.target.value),className:"pl-10"})]}),e.jsxs(B,{variant:"outline",onClick:N,disabled:h,children:[e.jsx(kt,{className:`h-4 w-4 mr-2 ${h?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(k=>e.jsxs(de,{className:"relative",children:[e.jsx(ve,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ye,{className:"text-lg",children:k.mailbox_id}),e.jsx(Ue,{children:k.full_name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:k.enabled?"default":"secondary",children:k.enabled?"Active":"Inactive"}),e.jsx(B,{variant:"ghost",size:"sm",children:e.jsx($r,{className:"h-4 w-4"})})]})]})}),e.jsxs(me,{className:"space-y-4",children:[k.email&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(sw,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:k.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(un,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:k.timezone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Attach Files"}),e.jsx(he,{variant:k.attach_file?"default":"secondary",children:k.attach_file?"Yes":"No"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Say Caller ID"}),e.jsx(he,{variant:k.say_caller_id?"default":"secondary",children:k.say_caller_id?"Yes":"No"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Max Message Length"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[k.max_message_length,"s"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{m("edit"),w(k),E(k),c(!0)},children:[e.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{m("view"),w(k),E(k),c(!0)},children:[e.jsx(Pt,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>C(k),className:"text-red-600 hover:text-red-700",children:e.jsx(pt,{className:"h-4 w-4"})})]})]})]},k.id))}),I.length===0&&!h&&e.jsx(de,{children:e.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Fr,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Voicemail Boxes Found"}),e.jsx("p",{className:"text-gray-500 text-center mb-4",children:v?"No voicemail boxes match your search criteria.":"Create your first voicemail box to get started."}),!v&&e.jsxs(B,{onClick:()=>{m("create"),w({timezone:"UTC",attach_file:!0,delete_voicemail:!1,say_caller_id:!0,say_caller_id_name:!0,say_envelope:!0,skip_greeting:!1,skip_instructions:!1,email_attachment_format:"wav",max_greeting_length:60,max_message_length:300,settings:{}}),c(!0)},children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Create Voicemail Box"]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ve,{children:[e.jsx(ye,{children:d==="create"?"Create Voicemail Box":d==="edit"?"Edit Voicemail Box":"View Voicemail Box"}),e.jsx(Ue,{children:d==="create"?"Create a new voicemail box":d==="edit"?"Update voicemail box settings":"View voicemail box details"})]}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Mailbox ID"}),e.jsx(Z,{value:x.mailbox_id||"",onChange:k=>w({...x,mailbox_id:k.target.value}),disabled:d==="view",placeholder:"100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Password"}),e.jsx(Z,{type:"password",value:x.password||"",onChange:k=>w({...x,password:k.target.value}),disabled:d==="view",placeholder:"1234"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Full Name"}),e.jsx(Z,{value:x.full_name||"",onChange:k=>w({...x,full_name:k.target.value}),disabled:d==="view",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx(Z,{type:"email",value:x.email||"",onChange:k=>w({...x,email:k.target.value}),disabled:d==="view",placeholder:"john@example.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Timezone"}),e.jsxs(Ve,{value:x.timezone||"UTC",onValueChange:k=>w({...x,timezone:k}),disabled:d==="view",children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"UTC",children:"UTC"}),e.jsx(Q,{value:"Europe/Rome",children:"Europe/Rome"}),e.jsx(Q,{value:"America/New_York",children:"America/New_York"}),e.jsx(Q,{value:"Asia/Tokyo",children:"Asia/Tokyo"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email Attachment Format"}),e.jsxs(Ve,{value:x.email_attachment_format||"wav",onValueChange:k=>w({...x,email_attachment_format:k}),disabled:d==="view",children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"wav",children:"WAV"}),e.jsx(Q,{value:"mp3",children:"MP3"}),e.jsx(Q,{value:"gsm",children:"GSM"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Settings"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:x.attach_file||!1,onCheckedChange:k=>w({...x,attach_file:k}),disabled:d==="view"}),e.jsx("label",{className:"text-sm font-medium",children:"Attach Files"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:x.say_caller_id||!1,onCheckedChange:k=>w({...x,say_caller_id:k}),disabled:d==="view"}),e.jsx("label",{className:"text-sm font-medium",children:"Say Caller ID"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:x.say_caller_id_name||!1,onCheckedChange:k=>w({...x,say_caller_id_name:k}),disabled:d==="view"}),e.jsx("label",{className:"text-sm font-medium",children:"Say Caller ID Name"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:x.say_envelope||!1,onCheckedChange:k=>w({...x,say_envelope:k}),disabled:d==="view"}),e.jsx("label",{className:"text-sm font-medium",children:"Say Envelope"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[e.jsx(B,{variant:"outline",onClick:()=>{c(!1),w({}),E(null)},children:"Cancel"}),d!=="view"&&e.jsx(B,{onClick:d==="create"?j:_,disabled:h,children:h?"Saving...":d==="create"?"Create":"Update"})]})]})]})})]})}function lC(){const{user:s}=xt(),[r,i]=f.useState([]),[o,c]=f.useState(!1),[d,m]=f.useState("create"),[h,g]=f.useState(!1),[v,y]=f.useState(""),[x,w]=f.useState({}),[T,E]=f.useState(null);f.useEffect(()=>{N()},[]);const N=async()=>{g(!0);try{const K=await(await fetch("http://localhost:3000/api/time-conditions")).json();K?.success&&Array.isArray(K?.data)?i(K.data):(console.warn("⚠️ Invalid API response format"),i([]))}catch(M){console.error("❌ Error loading time conditions:",M),i([])}finally{g(!1)}},j=async()=>{if(s?.tenant_id){g(!0);try{const K=await(await fetch("http://localhost:3000/api/time-conditions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...x,tenant_id:s.tenant_id})})).json();K.success?(await N(),c(!1),w({})):console.error("❌ Error creating time condition:",K.message)}catch(M){console.error("❌ Error creating time condition:",M)}finally{g(!1)}}},_=async()=>{if(T){g(!0);try{const K=await(await fetch(`http://localhost:3000/api/time-conditions/${T.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})).json();K.success?(await N(),c(!1),w({}),E(null)):console.error("❌ Error updating time condition:",K.message)}catch(M){console.error("❌ Error updating time condition:",M)}finally{g(!1)}}},C=async M=>{if(confirm(`Are you sure you want to delete time condition "${M.name}"?`)){g(!0);try{const O=await(await fetch(`http://localhost:3000/api/time-conditions/${M.id}`,{method:"DELETE"})).json();O.success?await N():console.error("❌ Error deleting time condition:",O.message)}catch(z){console.error("❌ Error deleting time condition:",z)}finally{g(!1)}}},I=r.filter(M=>M.name.toLowerCase().includes(v.toLowerCase())||M.description?.toLowerCase().includes(v.toLowerCase())),k=M=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][M],W=M=>{switch(M){case"extension":return e.jsx(Qe,{className:"h-4 w-4"});case"queue":return e.jsx(ot,{className:"h-4 w-4"});case"ivr":return e.jsx(Cp,{className:"h-4 w-4"});case"voicemail":return e.jsx(Fr,{className:"h-4 w-4"});case"hangup":return e.jsx(kp,{className:"h-4 w-4"});default:return e.jsx(xs,{className:"h-4 w-4"})}},F=M=>{switch(M){case"extension":return"Extension";case"queue":return"Queue";case"ivr":return"IVR";case"voicemail":return"Voicemail";case"hangup":return"Hangup";default:return M}},L=M=>{switch(M){case"extension":return"bg-blue-100 text-blue-800";case"queue":return"bg-green-100 text-green-800";case"ivr":return"bg-purple-100 text-purple-800";case"voicemail":return"bg-orange-100 text-orange-800";case"hangup":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Time Conditions"}),e.jsx("p",{className:"text-gray-600",children:"Create time-based call routing rules"})]}),e.jsxs(B,{onClick:()=>{m("create"),w({timezone:"UTC",conditions:[],action_true:{type:"extension",destination:""},action_false:{type:"hangup",destination:""}}),c(!0)},children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Time Condition"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Z,{placeholder:"Search time conditions...",value:v,onChange:M=>y(M.target.value),className:"pl-10"})]}),e.jsxs(B,{variant:"outline",onClick:N,disabled:h,children:[e.jsx(kt,{className:`h-4 w-4 mr-2 ${h?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(M=>e.jsxs(de,{className:"relative",children:[e.jsx(ve,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ye,{className:"text-lg",children:M.name}),e.jsx(Ue,{children:M.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:M.enabled?"default":"secondary",children:M.enabled?"Active":"Inactive"}),e.jsx(B,{variant:"ghost",size:"sm",children:e.jsx($r,{className:"h-4 w-4"})})]})]})}),e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(un,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:M.timezone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Gj,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[M.conditions.length," condition",M.conditions.length!==1?"s":""]})]}),e.jsxs("div",{className:"space-y-1",children:[M.conditions.slice(0,2).map((z,K)=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-600",children:k(z.day_of_week)}),e.jsxs("span",{className:"text-gray-500",children:[z.start_time," - ",z.end_time]})]}),e.jsx(he,{className:`${z.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"} text-xs`,children:z.is_active?"Active":"Inactive"})]},K)),M.conditions.length>2&&e.jsxs("div",{className:"text-xs text-gray-500",children:["+",M.conditions.length-2," more conditions"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"True Action:"}),e.jsxs(he,{className:`${L(M.action_true.type)} text-xs flex items-center space-x-1`,children:[W(M.action_true.type),e.jsx("span",{children:F(M.action_true.type)})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"False Action:"}),e.jsxs(he,{className:`${L(M.action_false.type)} text-xs flex items-center space-x-1`,children:[W(M.action_false.type),e.jsx("span",{children:F(M.action_false.type)})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{m("edit"),w(M),E(M),c(!0)},children:[e.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{m("view"),w(M),E(M),c(!0)},children:[e.jsx(Pt,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>C(M),className:"text-red-600 hover:text-red-700",children:e.jsx(pt,{className:"h-4 w-4"})})]})]})]},M.id))}),I.length===0&&!h&&e.jsx(de,{children:e.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(un,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Time Conditions Found"}),e.jsx("p",{className:"text-gray-500 text-center mb-4",children:v?"No time conditions match your search criteria.":"Create your first time condition to get started."}),!v&&e.jsxs(B,{onClick:()=>{m("create"),w({timezone:"UTC",conditions:[],action_true:{type:"extension",destination:""},action_false:{type:"hangup",destination:""}}),c(!0)},children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Create Time Condition"]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ve,{children:[e.jsx(ye,{children:d==="create"?"Create Time Condition":d==="edit"?"Edit Time Condition":"View Time Condition"}),e.jsx(Ue,{children:d==="create"?"Create a new time-based routing rule":d==="edit"?"Update time condition settings":"View time condition details"})]}),e.jsxs(me,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Name"}),e.jsx(Z,{value:x.name||"",onChange:M=>w({...x,name:M.target.value}),disabled:d==="view",placeholder:"Business Hours"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Timezone"}),e.jsxs(Ve,{value:x.timezone||"UTC",onValueChange:M=>w({...x,timezone:M}),disabled:d==="view",children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"UTC",children:"UTC"}),e.jsx(Q,{value:"Europe/Rome",children:"Europe/Rome"}),e.jsx(Q,{value:"America/New_York",children:"America/New_York"}),e.jsx(Q,{value:"Asia/Tokyo",children:"Asia/Tokyo"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(bn,{value:x.description||"",onChange:M=>w({...x,description:M.target.value}),disabled:d==="view",placeholder:"Route calls during business hours"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Time Conditions"}),e.jsxs("div",{className:"space-y-3",children:[(x.conditions||[]).map((M,z)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded",children:[e.jsx("div",{className:"w-32",children:e.jsxs(Ve,{value:M.day_of_week.toString(),onValueChange:K=>{const O=[...x.conditions||[]];O[z].day_of_week=parseInt(K),w({...x,conditions:O})},disabled:d==="view",children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"0",children:"Sunday"}),e.jsx(Q,{value:"1",children:"Monday"}),e.jsx(Q,{value:"2",children:"Tuesday"}),e.jsx(Q,{value:"3",children:"Wednesday"}),e.jsx(Q,{value:"4",children:"Thursday"}),e.jsx(Q,{value:"5",children:"Friday"}),e.jsx(Q,{value:"6",children:"Saturday"})]})]})}),e.jsx("div",{className:"w-24",children:e.jsx(Z,{type:"time",value:M.start_time,onChange:K=>{const O=[...x.conditions||[]];O[z].start_time=K.target.value,w({...x,conditions:O})},disabled:d==="view"})}),e.jsx("div",{className:"w-24",children:e.jsx(Z,{type:"time",value:M.end_time,onChange:K=>{const O=[...x.conditions||[]];O[z].end_time=K.target.value,w({...x,conditions:O})},disabled:d==="view"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:M.is_active,onCheckedChange:K=>{const O=[...x.conditions||[]];O[z].is_active=K,w({...x,conditions:O})},disabled:d==="view"}),e.jsx("label",{className:"text-sm",children:"Active"})]}),d!=="view"&&e.jsx(B,{variant:"outline",size:"sm",onClick:()=>{const K=[...x.conditions||[]];K.splice(z,1),w({...x,conditions:K})},className:"text-red-600 hover:text-red-700",children:e.jsx(pt,{className:"h-4 w-4"})})]},z)),d!=="view"&&e.jsxs(B,{variant:"outline",onClick:()=>{const M=[...x.conditions||[]];M.push({day_of_week:1,start_time:"09:00",end_time:"17:00",is_active:!0}),w({...x,conditions:M})},children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Condition"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"True Action"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ve,{value:x.action_true?.type||"extension",onValueChange:M=>w({...x,action_true:{...x.action_true,type:M}}),disabled:d==="view",children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"extension",children:"Extension"}),e.jsx(Q,{value:"queue",children:"Queue"}),e.jsx(Q,{value:"ivr",children:"IVR"}),e.jsx(Q,{value:"voicemail",children:"Voicemail"}),e.jsx(Q,{value:"hangup",children:"Hangup"})]})]}),e.jsx(Z,{value:x.action_true?.destination||"",onChange:M=>w({...x,action_true:{...x.action_true,destination:M.target.value}}),disabled:d==="view",placeholder:"Destination"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"False Action"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ve,{value:x.action_false?.type||"hangup",onValueChange:M=>w({...x,action_false:{...x.action_false,type:M}}),disabled:d==="view",children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs($e,{children:[e.jsx(Q,{value:"extension",children:"Extension"}),e.jsx(Q,{value:"queue",children:"Queue"}),e.jsx(Q,{value:"ivr",children:"IVR"}),e.jsx(Q,{value:"voicemail",children:"Voicemail"}),e.jsx(Q,{value:"hangup",children:"Hangup"})]})]}),e.jsx(Z,{value:x.action_false?.destination||"",onChange:M=>w({...x,action_false:{...x.action_false,destination:M.target.value}}),disabled:d==="view",placeholder:"Destination"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[e.jsx(B,{variant:"outline",onClick:()=>{c(!1),w({}),E(null)},children:"Cancel"}),d!=="view"&&e.jsx(B,{onClick:d==="create"?j:_,disabled:h,children:h?"Saving...":d==="create"?"Create":"Update"})]})]})]})})]})}function oC(s){const[r,i]=f.useState({isValid:null,isLoading:!0,error:null});return f.useEffect(()=>{if(!s||s==="edgvoip"){i({isValid:!0,isLoading:!1,error:null});return}(async()=>{try{const c=await fetch(`/api/${s}/validate`,{method:"GET",headers:{"Content-Type":"application/json"}});if(c.status===404){i({isValid:!1,isLoading:!1,error:"Tenant not found"});return}c.ok?i({isValid:!0,isLoading:!1,error:null}):i({isValid:!1,isLoading:!1,error:"Validation failed"})}catch{i({isValid:!1,isLoading:!1,error:"Network error"})}})()},[s]),r}function cC(){const{tenantSlug:s}=Pd(),{isAuthenticated:r,isLoading:i,user:o}=xt(),{isValid:c,isLoading:d}=oC(s);return i||d?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c===!1?e.jsx(av,{}):e.jsxs(hl,{children:[e.jsx(Oe,{path:"login",element:e.jsx(a1,{tenantSlug:s})}),r?e.jsx(Oe,{path:"/*",element:e.jsx(hx,{children:e.jsxs(hl,{children:[e.jsx(Oe,{path:"dashboard",element:e.jsx(b2,{})}),e.jsx(Oe,{path:"tenants",element:e.jsx(S2,{})}),e.jsx(Oe,{path:"stores",element:e.jsx(C2,{})}),e.jsx(Oe,{path:"extensions",element:e.jsx(U2,{})}),e.jsx(Oe,{path:"cdr",element:e.jsx(V2,{})}),e.jsx(Oe,{path:"live-calls",element:e.jsx(B2,{})}),e.jsx(Oe,{path:"trunk-registration",element:e.jsx(K2,{})}),e.jsx(Oe,{path:"call-routing",element:e.jsx(Q2,{})}),e.jsx(Oe,{path:"dialplan-editor",element:e.jsx(J2,{})}),e.jsx(Oe,{path:"sip-trunks",element:e.jsx(X2,{})}),e.jsx(Oe,{path:"destinations",element:e.jsx(Y2,{})}),e.jsx(Oe,{path:"logs",element:e.jsx(eC,{})}),e.jsx(Oe,{path:"w3-api-docs",element:e.jsx(Z2,{})}),e.jsx(Oe,{path:"ring-groups",element:e.jsx(tC,{})}),e.jsx(Oe,{path:"queues",element:e.jsx(sC,{})}),e.jsx(Oe,{path:"ivr-menus",element:e.jsx(rC,{})}),e.jsx(Oe,{path:"conference-rooms",element:e.jsx(aC,{})}),e.jsx(Oe,{path:"voicemail",element:e.jsx(iC,{})}),e.jsx(Oe,{path:"time-conditions",element:e.jsx(lC,{})}),e.jsx(Oe,{path:"",element:e.jsx(Sr,{to:`/${s}/dashboard`,replace:!0})}),e.jsx(Oe,{path:"*",element:e.jsx(Sr,{to:`/${s}/dashboard`,replace:!0})})]})})}):e.jsx(Oe,{path:"*",element:e.jsx(Sr,{to:`/${s}/login`,replace:!0})})]})}function dC(){const{isAuthenticated:s,isLoading:r}=xt();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s?e.jsx(hx,{variant:"superadmin",children:e.jsxs(hl,{children:[e.jsx(Oe,{path:"dashboard",element:e.jsx(l1,{})}),e.jsx(Oe,{path:"tenants",element:e.jsx(qh,{})}),e.jsx(Oe,{path:"tenants/create",element:e.jsx(w2,{})}),e.jsx(Oe,{path:"tenants/:tenantId",element:e.jsx(qh,{})}),e.jsx(Oe,{path:"tenants/:tenantId/users",element:e.jsx(Gh,{})}),e.jsx(Oe,{path:"users",element:e.jsx(Gh,{})}),e.jsx(Oe,{path:"analytics",element:e.jsx(xb,{})}),e.jsx(Oe,{path:"system-settings",element:e.jsx("div",{children:"System Settings - Coming Soon"})}),e.jsx(Oe,{path:"logs",element:e.jsx("div",{children:"System Logs - Coming Soon"})}),e.jsx(Oe,{path:"*",element:e.jsx(Sr,{to:"dashboard",replace:!0})})]})}):e.jsx(Sr,{to:"/edgvoip/login",replace:!0})}function uC(){return e.jsx(Lj,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(hw,{children:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(e1,{}),e.jsxs(hl,{children:[e.jsx(Oe,{path:"/",element:e.jsx(Sr,{to:"/demo/login",replace:!0})}),e.jsx(Oe,{path:"/edgvoip/login",element:e.jsx(i1,{})}),e.jsx(Oe,{path:"/edgvoip/*",element:e.jsx(dC,{})}),e.jsx(Oe,{path:"/:tenantSlug/*",element:e.jsx(cC,{})}),e.jsx(Oe,{path:"*",element:e.jsx(av,{})})]}),e.jsx(HN,{})]})})})}const mC=()=>{const s=console.error,r=console.warn,i=console.log;console.error=(...d)=>{const m=d[0]?.toString()||"";m.includes("runtime.lastError")||m.includes("message port closed")||m.includes("FrameDoesNotExistError")||m.includes("chrome-extension://")||m.includes("background.js")||m.includes("Could not establish connection")||m.includes("disconnected port object")||m.includes("back/forward cache")||m.includes("completion_list.html")||m.includes("utils.js")||m.includes("extensionState.js")||m.includes("heuristicsRedefinitions.js")||m.includes("net::ERR_FILE_NOT_FOUND")||m.includes("pejdijmoenmkgeppbflobdenhhabjlaj")||m.includes("chrome-extension://pejdijmoenmkgeppbflobdenhhabjlaj")||s.apply(console,d)},console.warn=(...d)=>{const m=d[0]?.toString()||"";m.includes("chrome-extension://")||m.includes("completion_list.html")||m.includes("utils.js")||m.includes("extensionState.js")||m.includes("heuristicsRedefinitions.js")||m.includes("pejdijmoenmkgeppbflobdenhhabjlaj")||r.apply(console,d)},console.log=(...d)=>{const m=d[0]?.toString()||"";m.includes("chrome-extension://")||m.includes("completion_list.html")||m.includes("pejdijmoenmkgeppbflobdenhhabjlaj")||i.apply(console,d)},window.addEventListener("unhandledrejection",d=>{const m=d.reason?.toString()||"";(m.includes("runtime.lastError")||m.includes("message port closed")||m.includes("FrameDoesNotExistError")||m.includes("chrome-extension://")||m.includes("background.js")||m.includes("Could not establish connection")||m.includes("disconnected port object")||m.includes("completion_list.html")||m.includes("utils.js")||m.includes("extensionState.js")||m.includes("heuristicsRedefinitions.js")||m.includes("net::ERR_FILE_NOT_FOUND"))&&d.preventDefault()});const o=window.fetch;window.fetch=async(...d)=>{const m=d[0]?.toString()||"";if(m.includes("chrome-extension://")||m.includes("pejdijmoenmkgeppbflobdenhhabjlaj")||m.includes("completion_list.html")||m.includes("utils.js")||m.includes("extensionState.js")||m.includes("heuristicsRedefinitions.js"))return new Response("",{status:404,statusText:"Not Found",headers:{"Content-Type":"text/plain"}});try{return await o(...d)}catch(h){const g=h?.message||"";if(g.includes("chrome-extension://")||g.includes("net::ERR_FILE_NOT_FOUND")||g.includes("completion_list.html")||g.includes("utils.js")||g.includes("extensionState.js")||g.includes("heuristicsRedefinitions.js")||g.includes("pejdijmoenmkgeppbflobdenhhabjlaj"))return new Response("",{status:404,statusText:"Not Found",headers:{"Content-Type":"text/plain"}});throw h}};const c=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(d,m,...h){const g=m.toString();if(g.includes("chrome-extension://")||g.includes("pejdijmoenmkgeppbflobdenhhabjlaj")||g.includes("completion_list.html")||g.includes("utils.js")||g.includes("extensionState.js")||g.includes("heuristicsRedefinitions.js"))throw new Error("Blocked extension request");return c.call(this,d,m,...h)}};typeof window<"u"&&mC();O0.createRoot(document.getElementById("root")).render(e.jsx(dn.StrictMode,{children:e.jsx(uC,{})}));
//# sourceMappingURL=index-DnPQmGzx.js.map
