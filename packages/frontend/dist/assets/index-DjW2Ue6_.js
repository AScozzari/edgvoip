function k0(s,r){for(var i=0;i<r.length;i++){const o=r[i];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in s)){const d=Object.getOwnPropertyDescriptor(o,c);d&&Object.defineProperty(s,c,d.get?d:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function _d(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Dc={exports:{}},Ea={},Mc={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah;function E0(){if(ah)return ze;ah=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),f=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=f&&O[f]||O["@@iterator"],typeof O=="function"?O:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,j={};function b(O,S,le){this.props=O,this.context=S,this.refs=j,this.updater=le||T}b.prototype.isReactComponent={},b.prototype.setState=function(O,S){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,S,"setState")},b.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _(){}_.prototype=b.prototype;function C(O,S,le){this.props=O,this.context=S,this.refs=j,this.updater=le||T}var I=C.prototype=new _;I.constructor=C,R(I,b.prototype),I.isPureReactComponent=!0;var E=Array.isArray,B=Object.prototype.hasOwnProperty,F={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function L(O,S,le){var ge,H={},se=null,Q=null;if(S!=null)for(ge in S.ref!==void 0&&(Q=S.ref),S.key!==void 0&&(se=""+S.key),S)B.call(S,ge)&&!A.hasOwnProperty(ge)&&(H[ge]=S[ge]);var Z=arguments.length-2;if(Z===1)H.children=le;else if(1<Z){for(var xe=Array(Z),pe=0;pe<Z;pe++)xe[pe]=arguments[pe+2];H.children=xe}if(O&&O.defaultProps)for(ge in Z=O.defaultProps,Z)H[ge]===void 0&&(H[ge]=Z[ge]);return{$$typeof:s,type:O,key:se,ref:Q,props:H,_owner:F.current}}function M(O,S){return{$$typeof:s,type:O.type,key:S,ref:O.ref,props:O.props,_owner:O._owner}}function Y(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function $(O){var S={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return S[le]})}var W=/\/+/g;function k(O,S){return typeof O=="object"&&O!==null&&O.key!=null?$(""+O.key):S.toString(36)}function U(O,S,le,ge,H){var se=typeof O;(se==="undefined"||se==="boolean")&&(O=null);var Q=!1;if(O===null)Q=!0;else switch(se){case"string":case"number":Q=!0;break;case"object":switch(O.$$typeof){case s:case r:Q=!0}}if(Q)return Q=O,H=H(Q),O=ge===""?"."+k(Q,0):ge,E(H)?(le="",O!=null&&(le=O.replace(W,"$&/")+"/"),U(H,S,le,"",function(pe){return pe})):H!=null&&(Y(H)&&(H=M(H,le+(!H.key||Q&&Q.key===H.key?"":(""+H.key).replace(W,"$&/")+"/")+O)),S.push(H)),1;if(Q=0,ge=ge===""?".":ge+":",E(O))for(var Z=0;Z<O.length;Z++){se=O[Z];var xe=ge+k(se,Z);Q+=U(se,S,le,xe,H)}else if(xe=w(O),typeof xe=="function")for(O=xe.call(O),Z=0;!(se=O.next()).done;)se=se.value,xe=ge+k(se,Z++),Q+=U(se,S,le,xe,H);else if(se==="object")throw S=String(O),Error("Objects are not valid as a React child (found: "+(S==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":S)+"). If you meant to render a collection of children, use an array instead.");return Q}function te(O,S,le){if(O==null)return O;var ge=[],H=0;return U(O,ge,"","",function(se){return S.call(le,se,H++)}),ge}function ne(O){if(O._status===-1){var S=O._result;S=S(),S.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=S)}if(O._status===1)return O._result.default;throw O._result}var fe={current:null},J={transition:null},ae={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:J,ReactCurrentOwner:F};function ce(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:te,forEach:function(O,S,le){te(O,function(){S.apply(this,arguments)},le)},count:function(O){var S=0;return te(O,function(){S++}),S},toArray:function(O){return te(O,function(S){return S})||[]},only:function(O){if(!Y(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ze.Component=b,ze.Fragment=i,ze.Profiler=c,ze.PureComponent=C,ze.StrictMode=o,ze.Suspense=v,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,ze.act=ce,ze.cloneElement=function(O,S,le){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ge=R({},O.props),H=O.key,se=O.ref,Q=O._owner;if(S!=null){if(S.ref!==void 0&&(se=S.ref,Q=F.current),S.key!==void 0&&(H=""+S.key),O.type&&O.type.defaultProps)var Z=O.type.defaultProps;for(xe in S)B.call(S,xe)&&!A.hasOwnProperty(xe)&&(ge[xe]=S[xe]===void 0&&Z!==void 0?Z[xe]:S[xe])}var xe=arguments.length-2;if(xe===1)ge.children=le;else if(1<xe){Z=Array(xe);for(var pe=0;pe<xe;pe++)Z[pe]=arguments[pe+2];ge.children=Z}return{$$typeof:s,type:O.type,key:H,ref:se,props:ge,_owner:Q}},ze.createContext=function(O){return O={$$typeof:m,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:d,_context:O},O.Consumer=O},ze.createElement=L,ze.createFactory=function(O){var S=L.bind(null,O);return S.type=O,S},ze.createRef=function(){return{current:null}},ze.forwardRef=function(O){return{$$typeof:p,render:O}},ze.isValidElement=Y,ze.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:ne}},ze.memo=function(O,S){return{$$typeof:y,type:O,compare:S===void 0?null:S}},ze.startTransition=function(O){var S=J.transition;J.transition={};try{O()}finally{J.transition=S}},ze.unstable_act=ce,ze.useCallback=function(O,S){return fe.current.useCallback(O,S)},ze.useContext=function(O){return fe.current.useContext(O)},ze.useDebugValue=function(){},ze.useDeferredValue=function(O){return fe.current.useDeferredValue(O)},ze.useEffect=function(O,S){return fe.current.useEffect(O,S)},ze.useId=function(){return fe.current.useId()},ze.useImperativeHandle=function(O,S,le){return fe.current.useImperativeHandle(O,S,le)},ze.useInsertionEffect=function(O,S){return fe.current.useInsertionEffect(O,S)},ze.useLayoutEffect=function(O,S){return fe.current.useLayoutEffect(O,S)},ze.useMemo=function(O,S){return fe.current.useMemo(O,S)},ze.useReducer=function(O,S,le){return fe.current.useReducer(O,S,le)},ze.useRef=function(O){return fe.current.useRef(O)},ze.useState=function(O){return fe.current.useState(O)},ze.useSyncExternalStore=function(O,S,le){return fe.current.useSyncExternalStore(O,S,le)},ze.useTransition=function(){return fe.current.useTransition()},ze.version="18.3.1",ze}var ih;function kd(){return ih||(ih=1,Mc.exports=E0()),Mc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh;function T0(){if(lh)return Ea;lh=1;var s=kd(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function m(p,v,y){var g,f={},w=null,T=null;y!==void 0&&(w=""+y),v.key!==void 0&&(w=""+v.key),v.ref!==void 0&&(T=v.ref);for(g in v)o.call(v,g)&&!d.hasOwnProperty(g)&&(f[g]=v[g]);if(p&&p.defaultProps)for(g in v=p.defaultProps,v)f[g]===void 0&&(f[g]=v[g]);return{$$typeof:r,type:p,key:w,ref:T,props:f,_owner:c.current}}return Ea.Fragment=i,Ea.jsx=m,Ea.jsxs=m,Ea}var oh;function R0(){return oh||(oh=1,Dc.exports=T0()),Dc.exports}var e=R0(),h=kd();const un=_d(h),Ed=k0({__proto__:null,default:un},[h]);var Xi={},Oc={exports:{}},Ot={},Fc={exports:{}},zc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch;function P0(){return ch||(ch=1,(function(s){function r(J,ae){var ce=J.length;J.push(ae);e:for(;0<ce;){var O=ce-1>>>1,S=J[O];if(0<c(S,ae))J[O]=ae,J[ce]=S,ce=O;else break e}}function i(J){return J.length===0?null:J[0]}function o(J){if(J.length===0)return null;var ae=J[0],ce=J.pop();if(ce!==ae){J[0]=ce;e:for(var O=0,S=J.length,le=S>>>1;O<le;){var ge=2*(O+1)-1,H=J[ge],se=ge+1,Q=J[se];if(0>c(H,ce))se<S&&0>c(Q,H)?(J[O]=Q,J[se]=ce,O=se):(J[O]=H,J[ge]=ce,O=ge);else if(se<S&&0>c(Q,ce))J[O]=Q,J[se]=ce,O=se;else break e}}return ae}function c(J,ae){var ce=J.sortIndex-ae.sortIndex;return ce!==0?ce:J.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var m=Date,p=m.now();s.unstable_now=function(){return m.now()-p}}var v=[],y=[],g=1,f=null,w=3,T=!1,R=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(J){for(var ae=i(y);ae!==null;){if(ae.callback===null)o(y);else if(ae.startTime<=J)o(y),ae.sortIndex=ae.expirationTime,r(v,ae);else break;ae=i(y)}}function E(J){if(j=!1,I(J),!R)if(i(v)!==null)R=!0,ne(B);else{var ae=i(y);ae!==null&&fe(E,ae.startTime-J)}}function B(J,ae){R=!1,j&&(j=!1,_(L),L=-1),T=!0;var ce=w;try{for(I(ae),f=i(v);f!==null&&(!(f.expirationTime>ae)||J&&!$());){var O=f.callback;if(typeof O=="function"){f.callback=null,w=f.priorityLevel;var S=O(f.expirationTime<=ae);ae=s.unstable_now(),typeof S=="function"?f.callback=S:f===i(v)&&o(v),I(ae)}else o(v);f=i(v)}if(f!==null)var le=!0;else{var ge=i(y);ge!==null&&fe(E,ge.startTime-ae),le=!1}return le}finally{f=null,w=ce,T=!1}}var F=!1,A=null,L=-1,M=5,Y=-1;function $(){return!(s.unstable_now()-Y<M)}function W(){if(A!==null){var J=s.unstable_now();Y=J;var ae=!0;try{ae=A(!0,J)}finally{ae?k():(F=!1,A=null)}}else F=!1}var k;if(typeof C=="function")k=function(){C(W)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,te=U.port2;U.port1.onmessage=W,k=function(){te.postMessage(null)}}else k=function(){b(W,0)};function ne(J){A=J,F||(F=!0,k())}function fe(J,ae){L=b(function(){J(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){R||T||(R=!0,ne(B))},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return i(v)},s.unstable_next=function(J){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var ce=w;w=ae;try{return J()}finally{w=ce}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ce=w;w=J;try{return ae()}finally{w=ce}},s.unstable_scheduleCallback=function(J,ae,ce){var O=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?O+ce:O):ce=O,J){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=ce+S,J={id:g++,callback:ae,priorityLevel:J,startTime:ce,expirationTime:S,sortIndex:-1},ce>O?(J.sortIndex=ce,r(y,J),i(v)===null&&J===i(y)&&(j?(_(L),L=-1):j=!0,fe(E,ce-O))):(J.sortIndex=S,r(v,J),R||T||(R=!0,ne(B))),J},s.unstable_shouldYield=$,s.unstable_wrapCallback=function(J){var ae=w;return function(){var ce=w;w=ae;try{return J.apply(this,arguments)}finally{w=ce}}}})(zc)),zc}var dh;function I0(){return dh||(dh=1,Fc.exports=P0()),Fc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function A0(){if(uh)return Ot;uh=1;var s=kd(),r=I0();function i(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function d(t,n){m(t,n),m(t+"Capture",n)}function m(t,n){for(c[t]=n,t=0;t<n.length;t++)o.add(n[t])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},f={};function w(t){return v.call(f,t)?!0:v.call(g,t)?!1:y.test(t)?f[t]=!0:(g[t]=!0,!1)}function T(t,n,a,l){if(a!==null&&a.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function R(t,n,a,l){if(n===null||typeof n>"u"||T(t,n,a,l))return!0;if(l)return!1;if(a!==null)switch(a.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function j(t,n,a,l,u,x,N){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=a,this.propertyName=t,this.type=n,this.sanitizeURL=x,this.removeEmptyString=N}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){b[t]=new j(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];b[n]=new j(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){b[t]=new j(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){b[t]=new j(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){b[t]=new j(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){b[t]=new j(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){b[t]=new j(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){b[t]=new j(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){b[t]=new j(t,5,!1,t.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function C(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(_,C);b[n]=new j(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(_,C);b[n]=new j(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(_,C);b[n]=new j(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){b[t]=new j(t,1,!1,t.toLowerCase(),null,!1,!1)}),b.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){b[t]=new j(t,1,!1,t.toLowerCase(),null,!0,!0)});function I(t,n,a,l){var u=b.hasOwnProperty(n)?b[n]:null;(u!==null?u.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(R(n,a,u,l)&&(a=null),l||u===null?w(n)&&(a===null?t.removeAttribute(n):t.setAttribute(n,""+a)):u.mustUseProperty?t[u.propertyName]=a===null?u.type===3?!1:"":a:(n=u.attributeName,l=u.attributeNamespace,a===null?t.removeAttribute(n):(u=u.type,a=u===3||u===4&&a===!0?"":""+a,l?t.setAttributeNS(l,n,a):t.setAttribute(n,a))))}var E=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),F=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),$=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),J=Symbol.iterator;function ae(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Object.assign,O;function S(t){if(O===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||""}return`
`+O+t}var le=!1;function ge(t,n){if(!t||le)return"";le=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(K){var l=K}Reflect.construct(t,[],n)}else{try{n.call()}catch(K){l=K}t.call(n.prototype)}else{try{throw Error()}catch(K){l=K}t()}}catch(K){if(K&&l&&typeof K.stack=="string"){for(var u=K.stack.split(`
`),x=l.stack.split(`
`),N=u.length-1,P=x.length-1;1<=N&&0<=P&&u[N]!==x[P];)P--;for(;1<=N&&0<=P;N--,P--)if(u[N]!==x[P]){if(N!==1||P!==1)do if(N--,P--,0>P||u[N]!==x[P]){var D=`
`+u[N].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=N&&0<=P);break}}}finally{le=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?S(t):""}function H(t){switch(t.tag){case 5:return S(t.type);case 16:return S("Lazy");case 13:return S("Suspense");case 19:return S("SuspenseList");case 0:case 2:case 15:return t=ge(t.type,!1),t;case 11:return t=ge(t.type.render,!1),t;case 1:return t=ge(t.type,!0),t;default:return""}}function se(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case F:return"Portal";case M:return"Profiler";case L:return"StrictMode";case k:return"Suspense";case U:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $:return(t.displayName||"Context")+".Consumer";case Y:return(t._context.displayName||"Context")+".Provider";case W:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case te:return n=t.displayName||null,n!==null?n:se(t.type)||"Memo";case ne:n=t._payload,t=t._init;try{return se(t(n))}catch{}}return null}function Q(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(n);case 8:return n===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Z(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xe(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pe(t){var n=xe(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,x=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(N){l=""+N,x.call(this,N)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(N){l=""+N},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Pe(t){t._valueTracker||(t._valueTracker=pe(t))}function Ie(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=xe(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ft(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tn(t,n){var a=n.checked;return ce({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Qs(t,n){var a=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;a=Z(n.value!=null?n.value:a),t._wrapperState={initialChecked:l,initialValue:a,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Js(t,n){n=n.checked,n!=null&&I(t,"checked",n,!1)}function Ns(t,n){Js(t,n);var a=Z(n.value),l=n.type;if(a!=null)l==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Bl(t,n.type,a):n.hasOwnProperty("defaultValue")&&Bl(t,n.type,Z(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function fu(t,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,a||n===t.value||(t.value=n),t.defaultValue=n}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function Bl(t,n,a){(n!=="number"||ft(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var Br=Array.isArray;function Ys(t,n,a,l){if(t=t.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=n.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Z(a),n=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function Wl(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return ce({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hu(t,n){var a=n.value;if(a==null){if(a=n.children,n=n.defaultValue,a!=null){if(n!=null)throw Error(i(92));if(Br(a)){if(1<a.length)throw Error(i(93));a=a[0]}n=a}n==null&&(n=""),a=n}t._wrapperState={initialValue:Z(a)}}function pu(t,n){var a=Z(n.value),l=Z(n.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),n.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),l!=null&&(t.defaultValue=""+l)}function xu(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function gu(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hl(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?gu(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wa,vu=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,a,l,u){MSApp.execUnsafeLocalFunction(function(){return t(n,a,l,u)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Wa=Wa||document.createElement("div"),Wa.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Wa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function Wr(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pv=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(t){Pv.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Hr[n]=Hr[t]})});function yu(t,n,a){return n==null||typeof n=="boolean"||n===""?"":a||typeof n!="number"||n===0||Hr.hasOwnProperty(t)&&Hr[t]?(""+n).trim():n+"px"}function ju(t,n){t=t.style;for(var a in n)if(n.hasOwnProperty(a)){var l=a.indexOf("--")===0,u=yu(a,n[a],l);a==="float"&&(a="cssFloat"),l?t.setProperty(a,u):t[a]=u}}var Iv=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ql(t,n){if(n){if(Iv[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function Gl(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kl=null;function Ql(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jl=null,Xs=null,Zs=null;function wu(t){if(t=fa(t)){if(typeof Jl!="function")throw Error(i(280));var n=t.stateNode;n&&(n=fi(n),Jl(t.stateNode,t.type,n))}}function Nu(t){Xs?Zs?Zs.push(t):Zs=[t]:Xs=t}function bu(){if(Xs){var t=Xs,n=Zs;if(Zs=Xs=null,wu(t),n)for(t=0;t<n.length;t++)wu(n[t])}}function Su(t,n){return t(n)}function Cu(){}var Yl=!1;function _u(t,n,a){if(Yl)return t(n,a);Yl=!0;try{return Su(t,n,a)}finally{Yl=!1,(Xs!==null||Zs!==null)&&(Cu(),bu())}}function qr(t,n){var a=t.stateNode;if(a===null)return null;var l=fi(a);if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,n,typeof a));return a}var Xl=!1;if(p)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){Xl=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{Xl=!1}function Av(t,n,a,l,u,x,N,P,D){var K=Array.prototype.slice.call(arguments,3);try{n.apply(a,K)}catch(ie){this.onError(ie)}}var Kr=!1,Ha=null,qa=!1,Zl=null,Lv={onError:function(t){Kr=!0,Ha=t}};function Dv(t,n,a,l,u,x,N,P,D){Kr=!1,Ha=null,Av.apply(Lv,arguments)}function Mv(t,n,a,l,u,x,N,P,D){if(Dv.apply(this,arguments),Kr){if(Kr){var K=Ha;Kr=!1,Ha=null}else throw Error(i(198));qa||(qa=!0,Zl=K)}}function bs(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function ku(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Eu(t){if(bs(t)!==t)throw Error(i(188))}function Ov(t){var n=t.alternate;if(!n){if(n=bs(t),n===null)throw Error(i(188));return n!==t?null:t}for(var a=t,l=n;;){var u=a.return;if(u===null)break;var x=u.alternate;if(x===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===x.child){for(x=u.child;x;){if(x===a)return Eu(u),t;if(x===l)return Eu(u),n;x=x.sibling}throw Error(i(188))}if(a.return!==l.return)a=u,l=x;else{for(var N=!1,P=u.child;P;){if(P===a){N=!0,a=u,l=x;break}if(P===l){N=!0,l=u,a=x;break}P=P.sibling}if(!N){for(P=x.child;P;){if(P===a){N=!0,a=x,l=u;break}if(P===l){N=!0,l=x,a=u;break}P=P.sibling}if(!N)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:n}function Tu(t){return t=Ov(t),t!==null?Ru(t):null}function Ru(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Ru(t);if(n!==null)return n;t=t.sibling}return null}var Pu=r.unstable_scheduleCallback,Iu=r.unstable_cancelCallback,Fv=r.unstable_shouldYield,zv=r.unstable_requestPaint,ct=r.unstable_now,$v=r.unstable_getCurrentPriorityLevel,eo=r.unstable_ImmediatePriority,Au=r.unstable_UserBlockingPriority,Ga=r.unstable_NormalPriority,Uv=r.unstable_LowPriority,Lu=r.unstable_IdlePriority,Ka=null,xn=null;function Vv(t){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Ka,t,void 0,(t.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Hv,Bv=Math.log,Wv=Math.LN2;function Hv(t){return t>>>=0,t===0?32:31-(Bv(t)/Wv|0)|0}var Qa=64,Ja=4194304;function Qr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ya(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,u=t.suspendedLanes,x=t.pingedLanes,N=a&268435455;if(N!==0){var P=N&~u;P!==0?l=Qr(P):(x&=N,x!==0&&(l=Qr(x)))}else N=a&~u,N!==0?l=Qr(N):x!==0&&(l=Qr(x));if(l===0)return 0;if(n!==0&&n!==l&&(n&u)===0&&(u=l&-l,x=n&-n,u>=x||u===16&&(x&4194240)!==0))return n;if((l&4)!==0&&(l|=a&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=l;0<n;)a=31-nn(n),u=1<<a,l|=t[a],n&=~u;return l}function qv(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gv(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,x=t.pendingLanes;0<x;){var N=31-nn(x),P=1<<N,D=u[N];D===-1?((P&a)===0||(P&l)!==0)&&(u[N]=qv(P,n)):D<=n&&(t.expiredLanes|=P),x&=~P}}function to(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Du(){var t=Qa;return Qa<<=1,(Qa&4194240)===0&&(Qa=64),t}function no(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Jr(t,n,a){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-nn(n),t[n]=a}function Kv(t,n){var a=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<a;){var u=31-nn(a),x=1<<u;n[u]=0,l[u]=-1,t[u]=-1,a&=~x}}function so(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-nn(a),u=1<<l;u&n|t[l]&n&&(t[l]|=n),a&=~u}}var Je=0;function Mu(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Ou,ro,Fu,zu,$u,ao=!1,Xa=[],$n=null,Un=null,Vn=null,Yr=new Map,Xr=new Map,Bn=[],Qv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uu(t,n){switch(t){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":Yr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xr.delete(n.pointerId)}}function Zr(t,n,a,l,u,x){return t===null||t.nativeEvent!==x?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:x,targetContainers:[u]},n!==null&&(n=fa(n),n!==null&&ro(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function Jv(t,n,a,l,u){switch(n){case"focusin":return $n=Zr($n,t,n,a,l,u),!0;case"dragenter":return Un=Zr(Un,t,n,a,l,u),!0;case"mouseover":return Vn=Zr(Vn,t,n,a,l,u),!0;case"pointerover":var x=u.pointerId;return Yr.set(x,Zr(Yr.get(x)||null,t,n,a,l,u)),!0;case"gotpointercapture":return x=u.pointerId,Xr.set(x,Zr(Xr.get(x)||null,t,n,a,l,u)),!0}return!1}function Vu(t){var n=Ss(t.target);if(n!==null){var a=bs(n);if(a!==null){if(n=a.tag,n===13){if(n=ku(a),n!==null){t.blockedOn=n,$u(t.priority,function(){Fu(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Za(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=lo(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Kl=l,a.target.dispatchEvent(l),Kl=null}else return n=fa(a),n!==null&&ro(n),t.blockedOn=a,!1;n.shift()}return!0}function Bu(t,n,a){Za(t)&&a.delete(n)}function Yv(){ao=!1,$n!==null&&Za($n)&&($n=null),Un!==null&&Za(Un)&&(Un=null),Vn!==null&&Za(Vn)&&(Vn=null),Yr.forEach(Bu),Xr.forEach(Bu)}function ea(t,n){t.blockedOn===n&&(t.blockedOn=null,ao||(ao=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Yv)))}function ta(t){function n(u){return ea(u,t)}if(0<Xa.length){ea(Xa[0],t);for(var a=1;a<Xa.length;a++){var l=Xa[a];l.blockedOn===t&&(l.blockedOn=null)}}for($n!==null&&ea($n,t),Un!==null&&ea(Un,t),Vn!==null&&ea(Vn,t),Yr.forEach(n),Xr.forEach(n),a=0;a<Bn.length;a++)l=Bn[a],l.blockedOn===t&&(l.blockedOn=null);for(;0<Bn.length&&(a=Bn[0],a.blockedOn===null);)Vu(a),a.blockedOn===null&&Bn.shift()}var er=E.ReactCurrentBatchConfig,ei=!0;function Xv(t,n,a,l){var u=Je,x=er.transition;er.transition=null;try{Je=1,io(t,n,a,l)}finally{Je=u,er.transition=x}}function Zv(t,n,a,l){var u=Je,x=er.transition;er.transition=null;try{Je=4,io(t,n,a,l)}finally{Je=u,er.transition=x}}function io(t,n,a,l){if(ei){var u=lo(t,n,a,l);if(u===null)Co(t,n,l,ti,a),Uu(t,l);else if(Jv(u,t,n,a,l))l.stopPropagation();else if(Uu(t,l),n&4&&-1<Qv.indexOf(t)){for(;u!==null;){var x=fa(u);if(x!==null&&Ou(x),x=lo(t,n,a,l),x===null&&Co(t,n,l,ti,a),x===u)break;u=x}u!==null&&l.stopPropagation()}else Co(t,n,l,null,a)}}var ti=null;function lo(t,n,a,l){if(ti=null,t=Ql(l),t=Ss(t),t!==null)if(n=bs(t),n===null)t=null;else if(a=n.tag,a===13){if(t=ku(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return ti=t,null}function Wu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($v()){case eo:return 1;case Au:return 4;case Ga:case Uv:return 16;case Lu:return 536870912;default:return 16}default:return 16}}var Wn=null,oo=null,ni=null;function Hu(){if(ni)return ni;var t,n=oo,a=n.length,l,u="value"in Wn?Wn.value:Wn.textContent,x=u.length;for(t=0;t<a&&n[t]===u[t];t++);var N=a-t;for(l=1;l<=N&&n[a-l]===u[x-l];l++);return ni=u.slice(t,1<l?1-l:void 0)}function si(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function qu(){return!1}function zt(t){function n(a,l,u,x,N){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var P in t)t.hasOwnProperty(P)&&(a=t[P],this[P]=a?a(x):x[P]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ri:qu,this.isPropagationStopped=qu,this}return ce(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),n}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=zt(tr),na=ce({},tr,{view:0,detail:0}),ey=zt(na),uo,mo,sa,ai=ce({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sa&&(sa&&t.type==="mousemove"?(uo=t.screenX-sa.screenX,mo=t.screenY-sa.screenY):mo=uo=0,sa=t),uo)},movementY:function(t){return"movementY"in t?t.movementY:mo}}),Gu=zt(ai),ty=ce({},ai,{dataTransfer:0}),ny=zt(ty),sy=ce({},na,{relatedTarget:0}),fo=zt(sy),ry=ce({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),ay=zt(ry),iy=ce({},tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ly=zt(iy),oy=ce({},tr,{data:0}),Ku=zt(oy),cy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function my(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=uy[t])?!!n[t]:!1}function ho(){return my}var fy=ce({},na,{key:function(t){if(t.key){var n=cy[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(t){return t.type==="keypress"?si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hy=zt(fy),py=ce({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qu=zt(py),xy=ce({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),gy=zt(xy),vy=ce({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yy=zt(vy),jy=ce({},ai,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wy=zt(jy),Ny=[9,13,27,32],po=p&&"CompositionEvent"in window,ra=null;p&&"documentMode"in document&&(ra=document.documentMode);var by=p&&"TextEvent"in window&&!ra,Ju=p&&(!po||ra&&8<ra&&11>=ra),Yu=" ",Xu=!1;function Zu(t,n){switch(t){case"keyup":return Ny.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function em(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nr=!1;function Sy(t,n){switch(t){case"compositionend":return em(n);case"keypress":return n.which!==32?null:(Xu=!0,Yu);case"textInput":return t=n.data,t===Yu&&Xu?null:t;default:return null}}function Cy(t,n){if(nr)return t==="compositionend"||!po&&Zu(t,n)?(t=Hu(),ni=oo=Wn=null,nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ju&&n.locale!=="ko"?null:n.data;default:return null}}var _y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!_y[t.type]:n==="textarea"}function nm(t,n,a,l){Nu(l),n=di(n,"onChange"),0<n.length&&(a=new co("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var aa=null,ia=null;function ky(t){jm(t,0)}function ii(t){var n=lr(t);if(Ie(n))return t}function Ey(t,n){if(t==="change")return n}var sm=!1;if(p){var xo;if(p){var go="oninput"in document;if(!go){var rm=document.createElement("div");rm.setAttribute("oninput","return;"),go=typeof rm.oninput=="function"}xo=go}else xo=!1;sm=xo&&(!document.documentMode||9<document.documentMode)}function am(){aa&&(aa.detachEvent("onpropertychange",im),ia=aa=null)}function im(t){if(t.propertyName==="value"&&ii(ia)){var n=[];nm(n,ia,t,Ql(t)),_u(ky,n)}}function Ty(t,n,a){t==="focusin"?(am(),aa=n,ia=a,aa.attachEvent("onpropertychange",im)):t==="focusout"&&am()}function Ry(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ii(ia)}function Py(t,n){if(t==="click")return ii(n)}function Iy(t,n){if(t==="input"||t==="change")return ii(n)}function Ay(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:Ay;function la(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!v.call(n,u)||!sn(t[u],n[u]))return!1}return!0}function lm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function om(t,n){var a=lm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lm(a)}}function cm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?cm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function dm(){for(var t=window,n=ft();n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ft(t.document)}return n}function vo(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Ly(t){var n=dm(),a=t.focusedElem,l=t.selectionRange;if(n!==a&&a&&a.ownerDocument&&cm(a.ownerDocument.documentElement,a)){if(l!==null&&vo(a)){if(n=l.start,t=l.end,t===void 0&&(t=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(t,a.value.length);else if(t=(n=a.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var u=a.textContent.length,x=Math.min(l.start,u);l=l.end===void 0?x:Math.min(l.end,u),!t.extend&&x>l&&(u=l,l=x,x=u),u=om(a,x);var N=om(a,l);u&&N&&(t.rangeCount!==1||t.anchorNode!==u.node||t.anchorOffset!==u.offset||t.focusNode!==N.node||t.focusOffset!==N.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),t.removeAllRanges(),x>l?(t.addRange(n),t.extend(N.node,N.offset)):(n.setEnd(N.node,N.offset),t.addRange(n)))}}for(n=[],t=a;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)t=n[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Dy=p&&"documentMode"in document&&11>=document.documentMode,sr=null,yo=null,oa=null,jo=!1;function um(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jo||sr==null||sr!==ft(l)||(l=sr,"selectionStart"in l&&vo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),oa&&la(oa,l)||(oa=l,l=di(yo,"onSelect"),0<l.length&&(n=new co("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=sr)))}function li(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var rr={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionend:li("Transition","TransitionEnd")},wo={},mm={};p&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function oi(t){if(wo[t])return wo[t];if(!rr[t])return t;var n=rr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in mm)return wo[t]=n[a];return t}var fm=oi("animationend"),hm=oi("animationiteration"),pm=oi("animationstart"),xm=oi("transitionend"),gm=new Map,vm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(t,n){gm.set(t,n),d(n,[t])}for(var No=0;No<vm.length;No++){var bo=vm[No],My=bo.toLowerCase(),Oy=bo[0].toUpperCase()+bo.slice(1);Hn(My,"on"+Oy)}Hn(fm,"onAnimationEnd"),Hn(hm,"onAnimationIteration"),Hn(pm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(xm,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function ym(t,n,a){var l=t.type||"unknown-event";t.currentTarget=a,Mv(l,n,void 0,t),t.currentTarget=null}function jm(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],u=l.event;l=l.listeners;e:{var x=void 0;if(n)for(var N=l.length-1;0<=N;N--){var P=l[N],D=P.instance,K=P.currentTarget;if(P=P.listener,D!==x&&u.isPropagationStopped())break e;ym(u,P,K),x=D}else for(N=0;N<l.length;N++){if(P=l[N],D=P.instance,K=P.currentTarget,P=P.listener,D!==x&&u.isPropagationStopped())break e;ym(u,P,K),x=D}}}if(qa)throw t=Zl,qa=!1,Zl=null,t}function Ze(t,n){var a=n[Po];a===void 0&&(a=n[Po]=new Set);var l=t+"__bubble";a.has(l)||(wm(n,t,2,!1),a.add(l))}function So(t,n,a){var l=0;n&&(l|=4),wm(a,t,l,n)}var ci="_reactListening"+Math.random().toString(36).slice(2);function da(t){if(!t[ci]){t[ci]=!0,o.forEach(function(a){a!=="selectionchange"&&(Fy.has(a)||So(a,!1,t),So(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ci]||(n[ci]=!0,So("selectionchange",!1,n))}}function wm(t,n,a,l){switch(Wu(n)){case 1:var u=Xv;break;case 4:u=Zv;break;default:u=io}a=u.bind(null,n,a,t),u=void 0,!Xl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,a,{capture:!0,passive:u}):t.addEventListener(n,a,!0):u!==void 0?t.addEventListener(n,a,{passive:u}):t.addEventListener(n,a,!1)}function Co(t,n,a,l,u){var x=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var N=l.tag;if(N===3||N===4){var P=l.stateNode.containerInfo;if(P===u||P.nodeType===8&&P.parentNode===u)break;if(N===4)for(N=l.return;N!==null;){var D=N.tag;if((D===3||D===4)&&(D=N.stateNode.containerInfo,D===u||D.nodeType===8&&D.parentNode===u))return;N=N.return}for(;P!==null;){if(N=Ss(P),N===null)return;if(D=N.tag,D===5||D===6){l=x=N;continue e}P=P.parentNode}}l=l.return}_u(function(){var K=x,ie=Ql(a),oe=[];e:{var re=gm.get(t);if(re!==void 0){var je=co,Se=t;switch(t){case"keypress":if(si(a)===0)break e;case"keydown":case"keyup":je=hy;break;case"focusin":Se="focus",je=fo;break;case"focusout":Se="blur",je=fo;break;case"beforeblur":case"afterblur":je=fo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=ny;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=gy;break;case fm:case hm:case pm:je=ay;break;case xm:je=yy;break;case"scroll":je=ey;break;case"wheel":je=wy;break;case"copy":case"cut":case"paste":je=ly;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Qu}var Ce=(n&4)!==0,dt=!Ce&&t==="scroll",q=Ce?re!==null?re+"Capture":null:re;Ce=[];for(var z=K,G;z!==null;){G=z;var me=G.stateNode;if(G.tag===5&&me!==null&&(G=me,q!==null&&(me=qr(z,q),me!=null&&Ce.push(ua(z,me,G)))),dt)break;z=z.return}0<Ce.length&&(re=new je(re,Se,null,a,ie),oe.push({event:re,listeners:Ce}))}}if((n&7)===0){e:{if(re=t==="mouseover"||t==="pointerover",je=t==="mouseout"||t==="pointerout",re&&a!==Kl&&(Se=a.relatedTarget||a.fromElement)&&(Ss(Se)||Se[_n]))break e;if((je||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,je?(Se=a.relatedTarget||a.toElement,je=K,Se=Se?Ss(Se):null,Se!==null&&(dt=bs(Se),Se!==dt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(je=null,Se=K),je!==Se)){if(Ce=Gu,me="onMouseLeave",q="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(Ce=Qu,me="onPointerLeave",q="onPointerEnter",z="pointer"),dt=je==null?re:lr(je),G=Se==null?re:lr(Se),re=new Ce(me,z+"leave",je,a,ie),re.target=dt,re.relatedTarget=G,me=null,Ss(ie)===K&&(Ce=new Ce(q,z+"enter",Se,a,ie),Ce.target=G,Ce.relatedTarget=dt,me=Ce),dt=me,je&&Se)t:{for(Ce=je,q=Se,z=0,G=Ce;G;G=ar(G))z++;for(G=0,me=q;me;me=ar(me))G++;for(;0<z-G;)Ce=ar(Ce),z--;for(;0<G-z;)q=ar(q),G--;for(;z--;){if(Ce===q||q!==null&&Ce===q.alternate)break t;Ce=ar(Ce),q=ar(q)}Ce=null}else Ce=null;je!==null&&Nm(oe,re,je,Ce,!1),Se!==null&&dt!==null&&Nm(oe,dt,Se,Ce,!0)}}e:{if(re=K?lr(K):window,je=re.nodeName&&re.nodeName.toLowerCase(),je==="select"||je==="input"&&re.type==="file")var _e=Ey;else if(tm(re))if(sm)_e=Iy;else{_e=Ry;var Ee=Ty}else(je=re.nodeName)&&je.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(_e=Py);if(_e&&(_e=_e(t,K))){nm(oe,_e,a,ie);break e}Ee&&Ee(t,re,K),t==="focusout"&&(Ee=re._wrapperState)&&Ee.controlled&&re.type==="number"&&Bl(re,"number",re.value)}switch(Ee=K?lr(K):window,t){case"focusin":(tm(Ee)||Ee.contentEditable==="true")&&(sr=Ee,yo=K,oa=null);break;case"focusout":oa=yo=sr=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,um(oe,a,ie);break;case"selectionchange":if(Dy)break;case"keydown":case"keyup":um(oe,a,ie)}var Te;if(po)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else nr?Zu(t,a)&&(Ae="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(Ju&&a.locale!=="ko"&&(nr||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&nr&&(Te=Hu()):(Wn=ie,oo="value"in Wn?Wn.value:Wn.textContent,nr=!0)),Ee=di(K,Ae),0<Ee.length&&(Ae=new Ku(Ae,t,null,a,ie),oe.push({event:Ae,listeners:Ee}),Te?Ae.data=Te:(Te=em(a),Te!==null&&(Ae.data=Te)))),(Te=by?Sy(t,a):Cy(t,a))&&(K=di(K,"onBeforeInput"),0<K.length&&(ie=new Ku("onBeforeInput","beforeinput",null,a,ie),oe.push({event:ie,listeners:K}),ie.data=Te))}jm(oe,n)})}function ua(t,n,a){return{instance:t,listener:n,currentTarget:a}}function di(t,n){for(var a=n+"Capture",l=[];t!==null;){var u=t,x=u.stateNode;u.tag===5&&x!==null&&(u=x,x=qr(t,a),x!=null&&l.unshift(ua(t,x,u)),x=qr(t,n),x!=null&&l.push(ua(t,x,u))),t=t.return}return l}function ar(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nm(t,n,a,l,u){for(var x=n._reactName,N=[];a!==null&&a!==l;){var P=a,D=P.alternate,K=P.stateNode;if(D!==null&&D===l)break;P.tag===5&&K!==null&&(P=K,u?(D=qr(a,x),D!=null&&N.unshift(ua(a,D,P))):u||(D=qr(a,x),D!=null&&N.push(ua(a,D,P)))),a=a.return}N.length!==0&&t.push({event:n,listeners:N})}var zy=/\r\n?/g,$y=/\u0000|\uFFFD/g;function bm(t){return(typeof t=="string"?t:""+t).replace(zy,`
`).replace($y,"")}function ui(t,n,a){if(n=bm(n),bm(t)!==n&&a)throw Error(i(425))}function mi(){}var _o=null,ko=null;function Eo(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var To=typeof setTimeout=="function"?setTimeout:void 0,Uy=typeof clearTimeout=="function"?clearTimeout:void 0,Sm=typeof Promise=="function"?Promise:void 0,Vy=typeof queueMicrotask=="function"?queueMicrotask:typeof Sm<"u"?function(t){return Sm.resolve(null).then(t).catch(By)}:To;function By(t){setTimeout(function(){throw t})}function Ro(t,n){var a=n,l=0;do{var u=a.nextSibling;if(t.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(l===0){t.removeChild(u),ta(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=u}while(a);ta(n)}function qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Cm(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}var ir=Math.random().toString(36).slice(2),gn="__reactFiber$"+ir,ma="__reactProps$"+ir,_n="__reactContainer$"+ir,Po="__reactEvents$"+ir,Wy="__reactListeners$"+ir,Hy="__reactHandles$"+ir;function Ss(t){var n=t[gn];if(n)return n;for(var a=t.parentNode;a;){if(n=a[_n]||a[gn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Cm(t);t!==null;){if(a=t[gn])return a;t=Cm(t)}return n}t=a,a=t.parentNode}return null}function fa(t){return t=t[gn]||t[_n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(i(33))}function fi(t){return t[ma]||null}var Io=[],or=-1;function Gn(t){return{current:t}}function et(t){0>or||(t.current=Io[or],Io[or]=null,or--)}function Xe(t,n){or++,Io[or]=t.current,t.current=n}var Kn={},_t=Gn(Kn),It=Gn(!1),Cs=Kn;function cr(t,n){var a=t.type.contextTypes;if(!a)return Kn;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var u={},x;for(x in a)u[x]=n[x];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=u),u}function At(t){return t=t.childContextTypes,t!=null}function hi(){et(It),et(_t)}function _m(t,n,a){if(_t.current!==Kn)throw Error(i(168));Xe(_t,n),Xe(It,a)}function km(t,n,a){var l=t.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return a;l=l.getChildContext();for(var u in l)if(!(u in n))throw Error(i(108,Q(t)||"Unknown",u));return ce({},a,l)}function pi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kn,Cs=_t.current,Xe(_t,t),Xe(It,It.current),!0}function Em(t,n,a){var l=t.stateNode;if(!l)throw Error(i(169));a?(t=km(t,n,Cs),l.__reactInternalMemoizedMergedChildContext=t,et(It),et(_t),Xe(_t,t)):et(It),Xe(It,a)}var kn=null,xi=!1,Ao=!1;function Tm(t){kn===null?kn=[t]:kn.push(t)}function qy(t){xi=!0,Tm(t)}function Qn(){if(!Ao&&kn!==null){Ao=!0;var t=0,n=Je;try{var a=kn;for(Je=1;t<a.length;t++){var l=a[t];do l=l(!0);while(l!==null)}kn=null,xi=!1}catch(u){throw kn!==null&&(kn=kn.slice(t+1)),Pu(eo,Qn),u}finally{Je=n,Ao=!1}}return null}var dr=[],ur=0,gi=null,vi=0,qt=[],Gt=0,_s=null,En=1,Tn="";function ks(t,n){dr[ur++]=vi,dr[ur++]=gi,gi=t,vi=n}function Rm(t,n,a){qt[Gt++]=En,qt[Gt++]=Tn,qt[Gt++]=_s,_s=t;var l=En;t=Tn;var u=32-nn(l)-1;l&=~(1<<u),a+=1;var x=32-nn(n)+u;if(30<x){var N=u-u%5;x=(l&(1<<N)-1).toString(32),l>>=N,u-=N,En=1<<32-nn(n)+u|a<<u|l,Tn=x+t}else En=1<<x|a<<u|l,Tn=t}function Lo(t){t.return!==null&&(ks(t,1),Rm(t,1,0))}function Do(t){for(;t===gi;)gi=dr[--ur],dr[ur]=null,vi=dr[--ur],dr[ur]=null;for(;t===_s;)_s=qt[--Gt],qt[Gt]=null,Tn=qt[--Gt],qt[Gt]=null,En=qt[--Gt],qt[Gt]=null}var $t=null,Ut=null,st=!1,rn=null;function Pm(t,n){var a=Yt(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=t,n=t.deletions,n===null?(t.deletions=[a],t.flags|=16):n.push(a)}function Im(t,n){switch(t.tag){case 5:var a=t.type;return n=n.nodeType!==1||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,$t=t,Ut=qn(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,$t=t,Ut=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(a=_s!==null?{id:En,overflow:Tn}:null,t.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=Yt(18,null,null,0),a.stateNode=n,a.return=t,t.child=a,$t=t,Ut=null,!0):!1;default:return!1}}function Mo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Oo(t){if(st){var n=Ut;if(n){var a=n;if(!Im(t,n)){if(Mo(t))throw Error(i(418));n=qn(a.nextSibling);var l=$t;n&&Im(t,n)?Pm(l,a):(t.flags=t.flags&-4097|2,st=!1,$t=t)}}else{if(Mo(t))throw Error(i(418));t.flags=t.flags&-4097|2,st=!1,$t=t}}}function Am(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function yi(t){if(t!==$t)return!1;if(!st)return Am(t),st=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Eo(t.type,t.memoizedProps)),n&&(n=Ut)){if(Mo(t))throw Lm(),Error(i(418));for(;n;)Pm(t,n),n=qn(n.nextSibling)}if(Am(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(n===0){Ut=qn(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++}t=t.nextSibling}Ut=null}}else Ut=$t?qn(t.stateNode.nextSibling):null;return!0}function Lm(){for(var t=Ut;t;)t=qn(t.nextSibling)}function mr(){Ut=$t=null,st=!1}function Fo(t){rn===null?rn=[t]:rn.push(t)}var Gy=E.ReactCurrentBatchConfig;function ha(t,n,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(i(309));var l=a.stateNode}if(!l)throw Error(i(147,t));var u=l,x=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===x?n.ref:(n=function(N){var P=u.refs;N===null?delete P[x]:P[x]=N},n._stringRef=x,n)}if(typeof t!="string")throw Error(i(284));if(!a._owner)throw Error(i(290,t))}return t}function ji(t,n){throw t=Object.prototype.toString.call(n),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Dm(t){var n=t._init;return n(t._payload)}function Mm(t){function n(q,z){if(t){var G=q.deletions;G===null?(q.deletions=[z],q.flags|=16):G.push(z)}}function a(q,z){if(!t)return null;for(;z!==null;)n(q,z),z=z.sibling;return null}function l(q,z){for(q=new Map;z!==null;)z.key!==null?q.set(z.key,z):q.set(z.index,z),z=z.sibling;return q}function u(q,z){return q=ss(q,z),q.index=0,q.sibling=null,q}function x(q,z,G){return q.index=G,t?(G=q.alternate,G!==null?(G=G.index,G<z?(q.flags|=2,z):G):(q.flags|=2,z)):(q.flags|=1048576,z)}function N(q){return t&&q.alternate===null&&(q.flags|=2),q}function P(q,z,G,me){return z===null||z.tag!==6?(z=Tc(G,q.mode,me),z.return=q,z):(z=u(z,G),z.return=q,z)}function D(q,z,G,me){var _e=G.type;return _e===A?ie(q,z,G.props.children,me,G.key):z!==null&&(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ne&&Dm(_e)===z.type)?(me=u(z,G.props),me.ref=ha(q,z,G),me.return=q,me):(me=Wi(G.type,G.key,G.props,null,q.mode,me),me.ref=ha(q,z,G),me.return=q,me)}function K(q,z,G,me){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=Rc(G,q.mode,me),z.return=q,z):(z=u(z,G.children||[]),z.return=q,z)}function ie(q,z,G,me,_e){return z===null||z.tag!==7?(z=Ds(G,q.mode,me,_e),z.return=q,z):(z=u(z,G),z.return=q,z)}function oe(q,z,G){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Tc(""+z,q.mode,G),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case B:return G=Wi(z.type,z.key,z.props,null,q.mode,G),G.ref=ha(q,null,z),G.return=q,G;case F:return z=Rc(z,q.mode,G),z.return=q,z;case ne:var me=z._init;return oe(q,me(z._payload),G)}if(Br(z)||ae(z))return z=Ds(z,q.mode,G,null),z.return=q,z;ji(q,z)}return null}function re(q,z,G,me){var _e=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return _e!==null?null:P(q,z,""+G,me);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case B:return G.key===_e?D(q,z,G,me):null;case F:return G.key===_e?K(q,z,G,me):null;case ne:return _e=G._init,re(q,z,_e(G._payload),me)}if(Br(G)||ae(G))return _e!==null?null:ie(q,z,G,me,null);ji(q,G)}return null}function je(q,z,G,me,_e){if(typeof me=="string"&&me!==""||typeof me=="number")return q=q.get(G)||null,P(z,q,""+me,_e);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case B:return q=q.get(me.key===null?G:me.key)||null,D(z,q,me,_e);case F:return q=q.get(me.key===null?G:me.key)||null,K(z,q,me,_e);case ne:var Ee=me._init;return je(q,z,G,Ee(me._payload),_e)}if(Br(me)||ae(me))return q=q.get(G)||null,ie(z,q,me,_e,null);ji(z,me)}return null}function Se(q,z,G,me){for(var _e=null,Ee=null,Te=z,Ae=z=0,yt=null;Te!==null&&Ae<G.length;Ae++){Te.index>Ae?(yt=Te,Te=null):yt=Te.sibling;var Ge=re(q,Te,G[Ae],me);if(Ge===null){Te===null&&(Te=yt);break}t&&Te&&Ge.alternate===null&&n(q,Te),z=x(Ge,z,Ae),Ee===null?_e=Ge:Ee.sibling=Ge,Ee=Ge,Te=yt}if(Ae===G.length)return a(q,Te),st&&ks(q,Ae),_e;if(Te===null){for(;Ae<G.length;Ae++)Te=oe(q,G[Ae],me),Te!==null&&(z=x(Te,z,Ae),Ee===null?_e=Te:Ee.sibling=Te,Ee=Te);return st&&ks(q,Ae),_e}for(Te=l(q,Te);Ae<G.length;Ae++)yt=je(Te,q,Ae,G[Ae],me),yt!==null&&(t&&yt.alternate!==null&&Te.delete(yt.key===null?Ae:yt.key),z=x(yt,z,Ae),Ee===null?_e=yt:Ee.sibling=yt,Ee=yt);return t&&Te.forEach(function(rs){return n(q,rs)}),st&&ks(q,Ae),_e}function Ce(q,z,G,me){var _e=ae(G);if(typeof _e!="function")throw Error(i(150));if(G=_e.call(G),G==null)throw Error(i(151));for(var Ee=_e=null,Te=z,Ae=z=0,yt=null,Ge=G.next();Te!==null&&!Ge.done;Ae++,Ge=G.next()){Te.index>Ae?(yt=Te,Te=null):yt=Te.sibling;var rs=re(q,Te,Ge.value,me);if(rs===null){Te===null&&(Te=yt);break}t&&Te&&rs.alternate===null&&n(q,Te),z=x(rs,z,Ae),Ee===null?_e=rs:Ee.sibling=rs,Ee=rs,Te=yt}if(Ge.done)return a(q,Te),st&&ks(q,Ae),_e;if(Te===null){for(;!Ge.done;Ae++,Ge=G.next())Ge=oe(q,Ge.value,me),Ge!==null&&(z=x(Ge,z,Ae),Ee===null?_e=Ge:Ee.sibling=Ge,Ee=Ge);return st&&ks(q,Ae),_e}for(Te=l(q,Te);!Ge.done;Ae++,Ge=G.next())Ge=je(Te,q,Ae,Ge.value,me),Ge!==null&&(t&&Ge.alternate!==null&&Te.delete(Ge.key===null?Ae:Ge.key),z=x(Ge,z,Ae),Ee===null?_e=Ge:Ee.sibling=Ge,Ee=Ge);return t&&Te.forEach(function(_0){return n(q,_0)}),st&&ks(q,Ae),_e}function dt(q,z,G,me){if(typeof G=="object"&&G!==null&&G.type===A&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case B:e:{for(var _e=G.key,Ee=z;Ee!==null;){if(Ee.key===_e){if(_e=G.type,_e===A){if(Ee.tag===7){a(q,Ee.sibling),z=u(Ee,G.props.children),z.return=q,q=z;break e}}else if(Ee.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ne&&Dm(_e)===Ee.type){a(q,Ee.sibling),z=u(Ee,G.props),z.ref=ha(q,Ee,G),z.return=q,q=z;break e}a(q,Ee);break}else n(q,Ee);Ee=Ee.sibling}G.type===A?(z=Ds(G.props.children,q.mode,me,G.key),z.return=q,q=z):(me=Wi(G.type,G.key,G.props,null,q.mode,me),me.ref=ha(q,z,G),me.return=q,q=me)}return N(q);case F:e:{for(Ee=G.key;z!==null;){if(z.key===Ee)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){a(q,z.sibling),z=u(z,G.children||[]),z.return=q,q=z;break e}else{a(q,z);break}else n(q,z);z=z.sibling}z=Rc(G,q.mode,me),z.return=q,q=z}return N(q);case ne:return Ee=G._init,dt(q,z,Ee(G._payload),me)}if(Br(G))return Se(q,z,G,me);if(ae(G))return Ce(q,z,G,me);ji(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,z!==null&&z.tag===6?(a(q,z.sibling),z=u(z,G),z.return=q,q=z):(a(q,z),z=Tc(G,q.mode,me),z.return=q,q=z),N(q)):a(q,z)}return dt}var fr=Mm(!0),Om=Mm(!1),wi=Gn(null),Ni=null,hr=null,zo=null;function $o(){zo=hr=Ni=null}function Uo(t){var n=wi.current;et(wi),t._currentValue=n}function Vo(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function pr(t,n){Ni=t,zo=hr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(Lt=!0),t.firstContext=null)}function Kt(t){var n=t._currentValue;if(zo!==t)if(t={context:t,memoizedValue:n,next:null},hr===null){if(Ni===null)throw Error(i(308));hr=t,Ni.dependencies={lanes:0,firstContext:t}}else hr=hr.next=t;return n}var Es=null;function Bo(t){Es===null?Es=[t]:Es.push(t)}function Fm(t,n,a,l){var u=n.interleaved;return u===null?(a.next=a,Bo(n)):(a.next=u.next,u.next=a),n.interleaved=a,Rn(t,l)}function Rn(t,n){t.lanes|=n;var a=t.alternate;for(a!==null&&(a.lanes|=n),a=t,t=t.return;t!==null;)t.childLanes|=n,a=t.alternate,a!==null&&(a.childLanes|=n),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Jn=!1;function Wo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zm(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Yn(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,Rn(t,a)}return u=l.interleaved,u===null?(n.next=n,Bo(l)):(n.next=u.next,u.next=n),l.interleaved=n,Rn(t,a)}function bi(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,so(t,a)}}function $m(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,x=null;if(a=a.firstBaseUpdate,a!==null){do{var N={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};x===null?u=x=N:x=x.next=N,a=a.next}while(a!==null);x===null?u=x=n:x=x.next=n}else u=x=n;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:x,shared:l.shared,effects:l.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}function Si(t,n,a,l){var u=t.updateQueue;Jn=!1;var x=u.firstBaseUpdate,N=u.lastBaseUpdate,P=u.shared.pending;if(P!==null){u.shared.pending=null;var D=P,K=D.next;D.next=null,N===null?x=K:N.next=K,N=D;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,P=ie.lastBaseUpdate,P!==N&&(P===null?ie.firstBaseUpdate=K:P.next=K,ie.lastBaseUpdate=D))}if(x!==null){var oe=u.baseState;N=0,ie=K=D=null,P=x;do{var re=P.lane,je=P.eventTime;if((l&re)===re){ie!==null&&(ie=ie.next={eventTime:je,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var Se=t,Ce=P;switch(re=n,je=a,Ce.tag){case 1:if(Se=Ce.payload,typeof Se=="function"){oe=Se.call(je,oe,re);break e}oe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ce.payload,re=typeof Se=="function"?Se.call(je,oe,re):Se,re==null)break e;oe=ce({},oe,re);break e;case 2:Jn=!0}}P.callback!==null&&P.lane!==0&&(t.flags|=64,re=u.effects,re===null?u.effects=[P]:re.push(P))}else je={eventTime:je,lane:re,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ie===null?(K=ie=je,D=oe):ie=ie.next=je,N|=re;if(P=P.next,P===null){if(P=u.shared.pending,P===null)break;re=P,P=re.next,re.next=null,u.lastBaseUpdate=re,u.shared.pending=null}}while(!0);if(ie===null&&(D=oe),u.baseState=D,u.firstBaseUpdate=K,u.lastBaseUpdate=ie,n=u.shared.interleaved,n!==null){u=n;do N|=u.lane,u=u.next;while(u!==n)}else x===null&&(u.shared.lanes=0);Ps|=N,t.lanes=N,t.memoizedState=oe}}function Um(t,n,a){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var l=t[n],u=l.callback;if(u!==null){if(l.callback=null,l=a,typeof u!="function")throw Error(i(191,u));u.call(l)}}}var pa={},vn=Gn(pa),xa=Gn(pa),ga=Gn(pa);function Ts(t){if(t===pa)throw Error(i(174));return t}function Ho(t,n){switch(Xe(ga,n),Xe(xa,t),Xe(vn,pa),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Hl(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=Hl(n,t)}et(vn),Xe(vn,n)}function xr(){et(vn),et(xa),et(ga)}function Vm(t){Ts(ga.current);var n=Ts(vn.current),a=Hl(n,t.type);n!==a&&(Xe(xa,t),Xe(vn,a))}function qo(t){xa.current===t&&(et(vn),et(xa))}var rt=Gn(0);function Ci(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Go=[];function Ko(){for(var t=0;t<Go.length;t++)Go[t]._workInProgressVersionPrimary=null;Go.length=0}var _i=E.ReactCurrentDispatcher,Qo=E.ReactCurrentBatchConfig,Rs=0,at=null,ht=null,gt=null,ki=!1,va=!1,ya=0,Ky=0;function kt(){throw Error(i(321))}function Jo(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!sn(t[a],n[a]))return!1;return!0}function Yo(t,n,a,l,u,x){if(Rs=x,at=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,_i.current=t===null||t.memoizedState===null?Xy:Zy,t=a(l,u),va){x=0;do{if(va=!1,ya=0,25<=x)throw Error(i(301));x+=1,gt=ht=null,n.updateQueue=null,_i.current=e0,t=a(l,u)}while(va)}if(_i.current=Ri,n=ht!==null&&ht.next!==null,Rs=0,gt=ht=at=null,ki=!1,n)throw Error(i(300));return t}function Xo(){var t=ya!==0;return ya=0,t}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?at.memoizedState=gt=t:gt=gt.next=t,gt}function Qt(){if(ht===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var n=gt===null?at.memoizedState:gt.next;if(n!==null)gt=n,ht=t;else{if(t===null)throw Error(i(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},gt===null?at.memoizedState=gt=t:gt=gt.next=t}return gt}function ja(t,n){return typeof n=="function"?n(t):n}function Zo(t){var n=Qt(),a=n.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=ht,u=l.baseQueue,x=a.pending;if(x!==null){if(u!==null){var N=u.next;u.next=x.next,x.next=N}l.baseQueue=u=x,a.pending=null}if(u!==null){x=u.next,l=l.baseState;var P=N=null,D=null,K=x;do{var ie=K.lane;if((Rs&ie)===ie)D!==null&&(D=D.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),l=K.hasEagerState?K.eagerState:t(l,K.action);else{var oe={lane:ie,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};D===null?(P=D=oe,N=l):D=D.next=oe,at.lanes|=ie,Ps|=ie}K=K.next}while(K!==null&&K!==x);D===null?N=l:D.next=P,sn(l,n.memoizedState)||(Lt=!0),n.memoizedState=l,n.baseState=N,n.baseQueue=D,a.lastRenderedState=l}if(t=a.interleaved,t!==null){u=t;do x=u.lane,at.lanes|=x,Ps|=x,u=u.next;while(u!==t)}else u===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function ec(t){var n=Qt(),a=n.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,u=a.pending,x=n.memoizedState;if(u!==null){a.pending=null;var N=u=u.next;do x=t(x,N.action),N=N.next;while(N!==u);sn(x,n.memoizedState)||(Lt=!0),n.memoizedState=x,n.baseQueue===null&&(n.baseState=x),a.lastRenderedState=x}return[x,l]}function Bm(){}function Wm(t,n){var a=at,l=Qt(),u=n(),x=!sn(l.memoizedState,u);if(x&&(l.memoizedState=u,Lt=!0),l=l.queue,tc(Gm.bind(null,a,l,t),[t]),l.getSnapshot!==n||x||gt!==null&&gt.memoizedState.tag&1){if(a.flags|=2048,wa(9,qm.bind(null,a,l,u,n),void 0,null),vt===null)throw Error(i(349));(Rs&30)!==0||Hm(a,n,u)}return u}function Hm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=at.updateQueue,n===null?(n={lastEffect:null,stores:null},at.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function qm(t,n,a,l){n.value=a,n.getSnapshot=l,Km(n)&&Qm(t)}function Gm(t,n,a){return a(function(){Km(n)&&Qm(t)})}function Km(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!sn(t,a)}catch{return!0}}function Qm(t){var n=Rn(t,1);n!==null&&cn(n,t,1,-1)}function Jm(t){var n=yn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:t},n.queue=t,t=t.dispatch=Yy.bind(null,at,t),[n.memoizedState,t]}function wa(t,n,a,l){return t={tag:t,create:n,destroy:a,deps:l,next:null},n=at.updateQueue,n===null?(n={lastEffect:null,stores:null},at.updateQueue=n,n.lastEffect=t.next=t):(a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t)),t}function Ym(){return Qt().memoizedState}function Ei(t,n,a,l){var u=yn();at.flags|=t,u.memoizedState=wa(1|n,a,void 0,l===void 0?null:l)}function Ti(t,n,a,l){var u=Qt();l=l===void 0?null:l;var x=void 0;if(ht!==null){var N=ht.memoizedState;if(x=N.destroy,l!==null&&Jo(l,N.deps)){u.memoizedState=wa(n,a,x,l);return}}at.flags|=t,u.memoizedState=wa(1|n,a,x,l)}function Xm(t,n){return Ei(8390656,8,t,n)}function tc(t,n){return Ti(2048,8,t,n)}function Zm(t,n){return Ti(4,2,t,n)}function ef(t,n){return Ti(4,4,t,n)}function tf(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function nf(t,n,a){return a=a!=null?a.concat([t]):null,Ti(4,4,tf.bind(null,n,t),a)}function nc(){}function sf(t,n){var a=Qt();n=n===void 0?null:n;var l=a.memoizedState;return l!==null&&n!==null&&Jo(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function rf(t,n){var a=Qt();n=n===void 0?null:n;var l=a.memoizedState;return l!==null&&n!==null&&Jo(n,l[1])?l[0]:(t=t(),a.memoizedState=[t,n],t)}function af(t,n,a){return(Rs&21)===0?(t.baseState&&(t.baseState=!1,Lt=!0),t.memoizedState=a):(sn(a,n)||(a=Du(),at.lanes|=a,Ps|=a,t.baseState=!0),n)}function Qy(t,n){var a=Je;Je=a!==0&&4>a?a:4,t(!0);var l=Qo.transition;Qo.transition={};try{t(!1),n()}finally{Je=a,Qo.transition=l}}function lf(){return Qt().memoizedState}function Jy(t,n,a){var l=ts(t);if(a={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null},of(t))cf(n,a);else if(a=Fm(t,n,a,l),a!==null){var u=Pt();cn(a,t,l,u),df(a,n,l)}}function Yy(t,n,a){var l=ts(t),u={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null};if(of(t))cf(n,u);else{var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=n.lastRenderedReducer,x!==null))try{var N=n.lastRenderedState,P=x(N,a);if(u.hasEagerState=!0,u.eagerState=P,sn(P,N)){var D=n.interleaved;D===null?(u.next=u,Bo(n)):(u.next=D.next,D.next=u),n.interleaved=u;return}}catch{}finally{}a=Fm(t,n,u,l),a!==null&&(u=Pt(),cn(a,t,l,u),df(a,n,l))}}function of(t){var n=t.alternate;return t===at||n!==null&&n===at}function cf(t,n){va=ki=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function df(t,n,a){if((a&4194240)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,so(t,a)}}var Ri={readContext:Kt,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},Xy={readContext:Kt,useCallback:function(t,n){return yn().memoizedState=[t,n===void 0?null:n],t},useContext:Kt,useEffect:Xm,useImperativeHandle:function(t,n,a){return a=a!=null?a.concat([t]):null,Ei(4194308,4,tf.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Ei(4194308,4,t,n)},useInsertionEffect:function(t,n){return Ei(4,2,t,n)},useMemo:function(t,n){var a=yn();return n=n===void 0?null:n,t=t(),a.memoizedState=[t,n],t},useReducer:function(t,n,a){var l=yn();return n=a!==void 0?a(n):n,l.memoizedState=l.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},l.queue=t,t=t.dispatch=Jy.bind(null,at,t),[l.memoizedState,t]},useRef:function(t){var n=yn();return t={current:t},n.memoizedState=t},useState:Jm,useDebugValue:nc,useDeferredValue:function(t){return yn().memoizedState=t},useTransition:function(){var t=Jm(!1),n=t[0];return t=Qy.bind(null,t[1]),yn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,a){var l=at,u=yn();if(st){if(a===void 0)throw Error(i(407));a=a()}else{if(a=n(),vt===null)throw Error(i(349));(Rs&30)!==0||Hm(l,n,a)}u.memoizedState=a;var x={value:a,getSnapshot:n};return u.queue=x,Xm(Gm.bind(null,l,x,t),[t]),l.flags|=2048,wa(9,qm.bind(null,l,x,a,n),void 0,null),a},useId:function(){var t=yn(),n=vt.identifierPrefix;if(st){var a=Tn,l=En;a=(l&~(1<<32-nn(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=ya++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=Ky++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Zy={readContext:Kt,useCallback:sf,useContext:Kt,useEffect:tc,useImperativeHandle:nf,useInsertionEffect:Zm,useLayoutEffect:ef,useMemo:rf,useReducer:Zo,useRef:Ym,useState:function(){return Zo(ja)},useDebugValue:nc,useDeferredValue:function(t){var n=Qt();return af(n,ht.memoizedState,t)},useTransition:function(){var t=Zo(ja)[0],n=Qt().memoizedState;return[t,n]},useMutableSource:Bm,useSyncExternalStore:Wm,useId:lf,unstable_isNewReconciler:!1},e0={readContext:Kt,useCallback:sf,useContext:Kt,useEffect:tc,useImperativeHandle:nf,useInsertionEffect:Zm,useLayoutEffect:ef,useMemo:rf,useReducer:ec,useRef:Ym,useState:function(){return ec(ja)},useDebugValue:nc,useDeferredValue:function(t){var n=Qt();return ht===null?n.memoizedState=t:af(n,ht.memoizedState,t)},useTransition:function(){var t=ec(ja)[0],n=Qt().memoizedState;return[t,n]},useMutableSource:Bm,useSyncExternalStore:Wm,useId:lf,unstable_isNewReconciler:!1};function an(t,n){if(t&&t.defaultProps){n=ce({},n),t=t.defaultProps;for(var a in t)n[a]===void 0&&(n[a]=t[a]);return n}return n}function sc(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:ce({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pi={isMounted:function(t){return(t=t._reactInternals)?bs(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Pt(),u=ts(t),x=Pn(l,u);x.payload=n,a!=null&&(x.callback=a),n=Yn(t,x,u),n!==null&&(cn(n,t,u,l),bi(n,t,u))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Pt(),u=ts(t),x=Pn(l,u);x.tag=1,x.payload=n,a!=null&&(x.callback=a),n=Yn(t,x,u),n!==null&&(cn(n,t,u,l),bi(n,t,u))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Pt(),l=ts(t),u=Pn(a,l);u.tag=2,n!=null&&(u.callback=n),n=Yn(t,u,l),n!==null&&(cn(n,t,l,a),bi(n,t,l))}};function uf(t,n,a,l,u,x,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,x,N):n.prototype&&n.prototype.isPureReactComponent?!la(a,l)||!la(u,x):!0}function mf(t,n,a){var l=!1,u=Kn,x=n.contextType;return typeof x=="object"&&x!==null?x=Kt(x):(u=At(n)?Cs:_t.current,l=n.contextTypes,x=(l=l!=null)?cr(t,u):Kn),n=new n(a,x),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Pi,t.stateNode=n,n._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=u,t.__reactInternalMemoizedMaskedChildContext=x),n}function ff(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Pi.enqueueReplaceState(n,n.state,null)}function rc(t,n,a,l){var u=t.stateNode;u.props=a,u.state=t.memoizedState,u.refs={},Wo(t);var x=n.contextType;typeof x=="object"&&x!==null?u.context=Kt(x):(x=At(n)?Cs:_t.current,u.context=cr(t,x)),u.state=t.memoizedState,x=n.getDerivedStateFromProps,typeof x=="function"&&(sc(t,n,x,a),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Pi.enqueueReplaceState(u,u.state,null),Si(t,a,u,l),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308)}function gr(t,n){try{var a="",l=n;do a+=H(l),l=l.return;while(l);var u=a}catch(x){u=`
Error generating stack: `+x.message+`
`+x.stack}return{value:t,source:n,stack:u,digest:null}}function ac(t,n,a){return{value:t,source:null,stack:a??null,digest:n??null}}function ic(t,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var t0=typeof WeakMap=="function"?WeakMap:Map;function hf(t,n,a){a=Pn(-1,a),a.tag=3,a.payload={element:null};var l=n.value;return a.callback=function(){Fi||(Fi=!0,wc=l),ic(t,n)},a}function pf(t,n,a){a=Pn(-1,a),a.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var u=n.value;a.payload=function(){return l(u)},a.callback=function(){ic(t,n)}}var x=t.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(a.callback=function(){ic(t,n),typeof l!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var N=n.stack;this.componentDidCatch(n.value,{componentStack:N!==null?N:""})}),a}function xf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new t0;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(a)||(u.add(a),t=p0.bind(null,t,n,a),n.then(t,t))}function gf(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function vf(t,n,a,l,u){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=Pn(-1,1),n.tag=2,Yn(a,n,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=u,t)}var n0=E.ReactCurrentOwner,Lt=!1;function Rt(t,n,a,l){n.child=t===null?Om(n,null,a,l):fr(n,t.child,a,l)}function yf(t,n,a,l,u){a=a.render;var x=n.ref;return pr(n,u),l=Yo(t,n,a,l,x,u),a=Xo(),t!==null&&!Lt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~u,In(t,n,u)):(st&&a&&Lo(n),n.flags|=1,Rt(t,n,l,u),n.child)}function jf(t,n,a,l,u){if(t===null){var x=a.type;return typeof x=="function"&&!Ec(x)&&x.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=x,wf(t,n,x,l,u)):(t=Wi(a.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(x=t.child,(t.lanes&u)===0){var N=x.memoizedProps;if(a=a.compare,a=a!==null?a:la,a(N,l)&&t.ref===n.ref)return In(t,n,u)}return n.flags|=1,t=ss(x,l),t.ref=n.ref,t.return=n,n.child=t}function wf(t,n,a,l,u){if(t!==null){var x=t.memoizedProps;if(la(x,l)&&t.ref===n.ref)if(Lt=!1,n.pendingProps=l=x,(t.lanes&u)!==0)(t.flags&131072)!==0&&(Lt=!0);else return n.lanes=t.lanes,In(t,n,u)}return lc(t,n,a,l,u)}function Nf(t,n,a){var l=n.pendingProps,u=l.children,x=t!==null?t.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(yr,Vt),Vt|=a;else{if((a&1073741824)===0)return t=x!==null?x.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Xe(yr,Vt),Vt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=x!==null?x.baseLanes:a,Xe(yr,Vt),Vt|=l}else x!==null?(l=x.baseLanes|a,n.memoizedState=null):l=a,Xe(yr,Vt),Vt|=l;return Rt(t,n,u,a),n.child}function bf(t,n){var a=n.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function lc(t,n,a,l,u){var x=At(a)?Cs:_t.current;return x=cr(n,x),pr(n,u),a=Yo(t,n,a,l,x,u),l=Xo(),t!==null&&!Lt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~u,In(t,n,u)):(st&&l&&Lo(n),n.flags|=1,Rt(t,n,a,u),n.child)}function Sf(t,n,a,l,u){if(At(a)){var x=!0;pi(n)}else x=!1;if(pr(n,u),n.stateNode===null)Ai(t,n),mf(n,a,l),rc(n,a,l,u),l=!0;else if(t===null){var N=n.stateNode,P=n.memoizedProps;N.props=P;var D=N.context,K=a.contextType;typeof K=="object"&&K!==null?K=Kt(K):(K=At(a)?Cs:_t.current,K=cr(n,K));var ie=a.getDerivedStateFromProps,oe=typeof ie=="function"||typeof N.getSnapshotBeforeUpdate=="function";oe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(P!==l||D!==K)&&ff(n,N,l,K),Jn=!1;var re=n.memoizedState;N.state=re,Si(n,l,N,u),D=n.memoizedState,P!==l||re!==D||It.current||Jn?(typeof ie=="function"&&(sc(n,a,ie,l),D=n.memoizedState),(P=Jn||uf(n,a,P,l,re,D,K))?(oe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(n.flags|=4194308)):(typeof N.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=D),N.props=l,N.state=D,N.context=K,l=P):(typeof N.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{N=n.stateNode,zm(t,n),P=n.memoizedProps,K=n.type===n.elementType?P:an(n.type,P),N.props=K,oe=n.pendingProps,re=N.context,D=a.contextType,typeof D=="object"&&D!==null?D=Kt(D):(D=At(a)?Cs:_t.current,D=cr(n,D));var je=a.getDerivedStateFromProps;(ie=typeof je=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(P!==oe||re!==D)&&ff(n,N,l,D),Jn=!1,re=n.memoizedState,N.state=re,Si(n,l,N,u);var Se=n.memoizedState;P!==oe||re!==Se||It.current||Jn?(typeof je=="function"&&(sc(n,a,je,l),Se=n.memoizedState),(K=Jn||uf(n,a,K,l,re,Se,D)||!1)?(ie||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(l,Se,D),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(l,Se,D)),typeof N.componentDidUpdate=="function"&&(n.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof N.componentDidUpdate!="function"||P===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Se),N.props=l,N.state=Se,N.context=D,l=K):(typeof N.componentDidUpdate!="function"||P===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),l=!1)}return oc(t,n,a,l,x,u)}function oc(t,n,a,l,u,x){bf(t,n);var N=(n.flags&128)!==0;if(!l&&!N)return u&&Em(n,a,!1),In(t,n,x);l=n.stateNode,n0.current=n;var P=N&&typeof a.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,t!==null&&N?(n.child=fr(n,t.child,null,x),n.child=fr(n,null,P,x)):Rt(t,n,P,x),n.memoizedState=l.state,u&&Em(n,a,!0),n.child}function Cf(t){var n=t.stateNode;n.pendingContext?_m(t,n.pendingContext,n.pendingContext!==n.context):n.context&&_m(t,n.context,!1),Ho(t,n.containerInfo)}function _f(t,n,a,l,u){return mr(),Fo(u),n.flags|=256,Rt(t,n,a,l),n.child}var cc={dehydrated:null,treeContext:null,retryLane:0};function dc(t){return{baseLanes:t,cachePool:null,transitions:null}}function kf(t,n,a){var l=n.pendingProps,u=rt.current,x=!1,N=(n.flags&128)!==0,P;if((P=N)||(P=t!==null&&t.memoizedState===null?!1:(u&2)!==0),P?(x=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(u|=1),Xe(rt,u&1),t===null)return Oo(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(N=l.children,t=l.fallback,x?(l=n.mode,x=n.child,N={mode:"hidden",children:N},(l&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=N):x=Hi(N,l,0,null),t=Ds(t,l,a,null),x.return=n,t.return=n,x.sibling=t,n.child=x,n.child.memoizedState=dc(a),n.memoizedState=cc,t):uc(n,N));if(u=t.memoizedState,u!==null&&(P=u.dehydrated,P!==null))return s0(t,n,N,l,P,u,a);if(x){x=l.fallback,N=n.mode,u=t.child,P=u.sibling;var D={mode:"hidden",children:l.children};return(N&1)===0&&n.child!==u?(l=n.child,l.childLanes=0,l.pendingProps=D,n.deletions=null):(l=ss(u,D),l.subtreeFlags=u.subtreeFlags&14680064),P!==null?x=ss(P,x):(x=Ds(x,N,a,null),x.flags|=2),x.return=n,l.return=n,l.sibling=x,n.child=l,l=x,x=n.child,N=t.child.memoizedState,N=N===null?dc(a):{baseLanes:N.baseLanes|a,cachePool:null,transitions:N.transitions},x.memoizedState=N,x.childLanes=t.childLanes&~a,n.memoizedState=cc,l}return x=t.child,t=x.sibling,l=ss(x,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=a),l.return=n,l.sibling=null,t!==null&&(a=n.deletions,a===null?(n.deletions=[t],n.flags|=16):a.push(t)),n.child=l,n.memoizedState=null,l}function uc(t,n){return n=Hi({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function Ii(t,n,a,l){return l!==null&&Fo(l),fr(n,t.child,null,a),t=uc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function s0(t,n,a,l,u,x,N){if(a)return n.flags&256?(n.flags&=-257,l=ac(Error(i(422))),Ii(t,n,N,l)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(x=l.fallback,u=n.mode,l=Hi({mode:"visible",children:l.children},u,0,null),x=Ds(x,u,N,null),x.flags|=2,l.return=n,x.return=n,l.sibling=x,n.child=l,(n.mode&1)!==0&&fr(n,t.child,null,N),n.child.memoizedState=dc(N),n.memoizedState=cc,x);if((n.mode&1)===0)return Ii(t,n,N,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var P=l.dgst;return l=P,x=Error(i(419)),l=ac(x,l,void 0),Ii(t,n,N,l)}if(P=(N&t.childLanes)!==0,Lt||P){if(l=vt,l!==null){switch(N&-N){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(l.suspendedLanes|N))!==0?0:u,u!==0&&u!==x.retryLane&&(x.retryLane=u,Rn(t,u),cn(l,t,u,-1))}return kc(),l=ac(Error(i(421))),Ii(t,n,N,l)}return u.data==="$?"?(n.flags|=128,n.child=t.child,n=x0.bind(null,t),u._reactRetry=n,null):(t=x.treeContext,Ut=qn(u.nextSibling),$t=n,st=!0,rn=null,t!==null&&(qt[Gt++]=En,qt[Gt++]=Tn,qt[Gt++]=_s,En=t.id,Tn=t.overflow,_s=n),n=uc(n,l.children),n.flags|=4096,n)}function Ef(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Vo(t.return,n,a)}function mc(t,n,a,l,u){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u}:(x.isBackwards=n,x.rendering=null,x.renderingStartTime=0,x.last=l,x.tail=a,x.tailMode=u)}function Tf(t,n,a){var l=n.pendingProps,u=l.revealOrder,x=l.tail;if(Rt(t,n,l.children,a),l=rt.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ef(t,a,n);else if(t.tag===19)Ef(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(Xe(rt,l),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(a=n.child,u=null;a!==null;)t=a.alternate,t!==null&&Ci(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),mc(n,!1,u,a,x);break;case"backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Ci(t)===null){n.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}mc(n,!0,a,null,x);break;case"together":mc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ai(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function In(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ps|=n.lanes,(a&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(i(153));if(n.child!==null){for(t=n.child,a=ss(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ss(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function r0(t,n,a){switch(n.tag){case 3:Cf(n),mr();break;case 5:Vm(n);break;case 1:At(n.type)&&pi(n);break;case 4:Ho(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,u=n.memoizedProps.value;Xe(wi,l._currentValue),l._currentValue=u;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(Xe(rt,rt.current&1),n.flags|=128,null):(a&n.child.childLanes)!==0?kf(t,n,a):(Xe(rt,rt.current&1),t=In(t,n,a),t!==null?t.sibling:null);Xe(rt,rt.current&1);break;case 19:if(l=(a&n.childLanes)!==0,(t.flags&128)!==0){if(l)return Tf(t,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Xe(rt,rt.current),l)break;return null;case 22:case 23:return n.lanes=0,Nf(t,n,a)}return In(t,n,a)}var Rf,fc,Pf,If;Rf=function(t,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},fc=function(){},Pf=function(t,n,a,l){var u=t.memoizedProps;if(u!==l){t=n.stateNode,Ts(vn.current);var x=null;switch(a){case"input":u=tn(t,u),l=tn(t,l),x=[];break;case"select":u=ce({},u,{value:void 0}),l=ce({},l,{value:void 0}),x=[];break;case"textarea":u=Wl(t,u),l=Wl(t,l),x=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=mi)}ql(a,l);var N;a=null;for(K in u)if(!l.hasOwnProperty(K)&&u.hasOwnProperty(K)&&u[K]!=null)if(K==="style"){var P=u[K];for(N in P)P.hasOwnProperty(N)&&(a||(a={}),a[N]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(c.hasOwnProperty(K)?x||(x=[]):(x=x||[]).push(K,null));for(K in l){var D=l[K];if(P=u?.[K],l.hasOwnProperty(K)&&D!==P&&(D!=null||P!=null))if(K==="style")if(P){for(N in P)!P.hasOwnProperty(N)||D&&D.hasOwnProperty(N)||(a||(a={}),a[N]="");for(N in D)D.hasOwnProperty(N)&&P[N]!==D[N]&&(a||(a={}),a[N]=D[N])}else a||(x||(x=[]),x.push(K,a)),a=D;else K==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,P=P?P.__html:void 0,D!=null&&P!==D&&(x=x||[]).push(K,D)):K==="children"?typeof D!="string"&&typeof D!="number"||(x=x||[]).push(K,""+D):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(c.hasOwnProperty(K)?(D!=null&&K==="onScroll"&&Ze("scroll",t),x||P===D||(x=[])):(x=x||[]).push(K,D))}a&&(x=x||[]).push("style",a);var K=x;(n.updateQueue=K)&&(n.flags|=4)}},If=function(t,n,a,l){a!==l&&(n.flags|=4)};function Na(t,n){if(!st)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Et(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function a0(t,n,a){var l=n.pendingProps;switch(Do(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(n),null;case 1:return At(n.type)&&hi(),Et(n),null;case 3:return l=n.stateNode,xr(),et(It),et(_t),Ko(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(yi(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rn!==null&&(Sc(rn),rn=null))),fc(t,n),Et(n),null;case 5:qo(n);var u=Ts(ga.current);if(a=n.type,t!==null&&n.stateNode!=null)Pf(t,n,a,l,u),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(i(166));return Et(n),null}if(t=Ts(vn.current),yi(n)){l=n.stateNode,a=n.type;var x=n.memoizedProps;switch(l[gn]=n,l[ma]=x,t=(n.mode&1)!==0,a){case"dialog":Ze("cancel",l),Ze("close",l);break;case"iframe":case"object":case"embed":Ze("load",l);break;case"video":case"audio":for(u=0;u<ca.length;u++)Ze(ca[u],l);break;case"source":Ze("error",l);break;case"img":case"image":case"link":Ze("error",l),Ze("load",l);break;case"details":Ze("toggle",l);break;case"input":Qs(l,x),Ze("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!x.multiple},Ze("invalid",l);break;case"textarea":hu(l,x),Ze("invalid",l)}ql(a,x),u=null;for(var N in x)if(x.hasOwnProperty(N)){var P=x[N];N==="children"?typeof P=="string"?l.textContent!==P&&(x.suppressHydrationWarning!==!0&&ui(l.textContent,P,t),u=["children",P]):typeof P=="number"&&l.textContent!==""+P&&(x.suppressHydrationWarning!==!0&&ui(l.textContent,P,t),u=["children",""+P]):c.hasOwnProperty(N)&&P!=null&&N==="onScroll"&&Ze("scroll",l)}switch(a){case"input":Pe(l),fu(l,x,!0);break;case"textarea":Pe(l),xu(l);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(l.onclick=mi)}l=u,n.updateQueue=l,l!==null&&(n.flags|=4)}else{N=u.nodeType===9?u:u.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gu(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=N.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=N.createElement(a,{is:l.is}):(t=N.createElement(a),a==="select"&&(N=t,l.multiple?N.multiple=!0:l.size&&(N.size=l.size))):t=N.createElementNS(t,a),t[gn]=n,t[ma]=l,Rf(t,n,!1,!1),n.stateNode=t;e:{switch(N=Gl(a,l),a){case"dialog":Ze("cancel",t),Ze("close",t),u=l;break;case"iframe":case"object":case"embed":Ze("load",t),u=l;break;case"video":case"audio":for(u=0;u<ca.length;u++)Ze(ca[u],t);u=l;break;case"source":Ze("error",t),u=l;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),u=l;break;case"details":Ze("toggle",t),u=l;break;case"input":Qs(t,l),u=tn(t,l),Ze("invalid",t);break;case"option":u=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},u=ce({},l,{value:void 0}),Ze("invalid",t);break;case"textarea":hu(t,l),u=Wl(t,l),Ze("invalid",t);break;default:u=l}ql(a,u),P=u;for(x in P)if(P.hasOwnProperty(x)){var D=P[x];x==="style"?ju(t,D):x==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&vu(t,D)):x==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&Wr(t,D):typeof D=="number"&&Wr(t,""+D):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(c.hasOwnProperty(x)?D!=null&&x==="onScroll"&&Ze("scroll",t):D!=null&&I(t,x,D,N))}switch(a){case"input":Pe(t),fu(t,l,!1);break;case"textarea":Pe(t),xu(t);break;case"option":l.value!=null&&t.setAttribute("value",""+Z(l.value));break;case"select":t.multiple=!!l.multiple,x=l.value,x!=null?Ys(t,!!l.multiple,x,!1):l.defaultValue!=null&&Ys(t,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(t.onclick=mi)}switch(a){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Et(n),null;case 6:if(t&&n.stateNode!=null)If(t,n,t.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(a=Ts(ga.current),Ts(vn.current),yi(n)){if(l=n.stateNode,a=n.memoizedProps,l[gn]=n,(x=l.nodeValue!==a)&&(t=$t,t!==null))switch(t.tag){case 3:ui(l.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ui(l.nodeValue,a,(t.mode&1)!==0)}x&&(n.flags|=4)}else l=(a.nodeType===9?a:a.ownerDocument).createTextNode(l),l[gn]=n,n.stateNode=l}return Et(n),null;case 13:if(et(rt),l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&Ut!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Lm(),mr(),n.flags|=98560,x=!1;else if(x=yi(n),l!==null&&l.dehydrated!==null){if(t===null){if(!x)throw Error(i(318));if(x=n.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(i(317));x[gn]=n}else mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Et(n),x=!1}else rn!==null&&(Sc(rn),rn=null),x=!0;if(!x)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=a,n):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(rt.current&1)!==0?pt===0&&(pt=3):kc())),n.updateQueue!==null&&(n.flags|=4),Et(n),null);case 4:return xr(),fc(t,n),t===null&&da(n.stateNode.containerInfo),Et(n),null;case 10:return Uo(n.type._context),Et(n),null;case 17:return At(n.type)&&hi(),Et(n),null;case 19:if(et(rt),x=n.memoizedState,x===null)return Et(n),null;if(l=(n.flags&128)!==0,N=x.rendering,N===null)if(l)Na(x,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(N=Ci(t),N!==null){for(n.flags|=128,Na(x,!1),l=N.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=a,a=n.child;a!==null;)x=a,t=l,x.flags&=14680066,N=x.alternate,N===null?(x.childLanes=0,x.lanes=t,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=N.childLanes,x.lanes=N.lanes,x.child=N.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=N.memoizedProps,x.memoizedState=N.memoizedState,x.updateQueue=N.updateQueue,x.type=N.type,t=N.dependencies,x.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Xe(rt,rt.current&1|2),n.child}t=t.sibling}x.tail!==null&&ct()>jr&&(n.flags|=128,l=!0,Na(x,!1),n.lanes=4194304)}else{if(!l)if(t=Ci(N),t!==null){if(n.flags|=128,l=!0,a=t.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),Na(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!st)return Et(n),null}else 2*ct()-x.renderingStartTime>jr&&a!==1073741824&&(n.flags|=128,l=!0,Na(x,!1),n.lanes=4194304);x.isBackwards?(N.sibling=n.child,n.child=N):(a=x.last,a!==null?a.sibling=N:n.child=N,x.last=N)}return x.tail!==null?(n=x.tail,x.rendering=n,x.tail=n.sibling,x.renderingStartTime=ct(),n.sibling=null,a=rt.current,Xe(rt,l?a&1|2:a&1),n):(Et(n),null);case 22:case 23:return _c(),l=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(Vt&1073741824)!==0&&(Et(n),n.subtreeFlags&6&&(n.flags|=8192)):Et(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function i0(t,n){switch(Do(n),n.tag){case 1:return At(n.type)&&hi(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return xr(),et(It),et(_t),Ko(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return qo(n),null;case 13:if(et(rt),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(i(340));mr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(rt),null;case 4:return xr(),null;case 10:return Uo(n.type._context),null;case 22:case 23:return _c(),null;case 24:return null;default:return null}}var Li=!1,Tt=!1,l0=typeof WeakSet=="function"?WeakSet:Set,we=null;function vr(t,n){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(l){lt(t,n,l)}else a.current=null}function hc(t,n,a){try{a()}catch(l){lt(t,n,l)}}var Af=!1;function o0(t,n){if(_o=ei,t=dm(),vo(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{a.nodeType,x.nodeType}catch{a=null;break e}var N=0,P=-1,D=-1,K=0,ie=0,oe=t,re=null;t:for(;;){for(var je;oe!==a||u!==0&&oe.nodeType!==3||(P=N+u),oe!==x||l!==0&&oe.nodeType!==3||(D=N+l),oe.nodeType===3&&(N+=oe.nodeValue.length),(je=oe.firstChild)!==null;)re=oe,oe=je;for(;;){if(oe===t)break t;if(re===a&&++K===u&&(P=N),re===x&&++ie===l&&(D=N),(je=oe.nextSibling)!==null)break;oe=re,re=oe.parentNode}oe=je}a=P===-1||D===-1?null:{start:P,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(ko={focusedElem:t,selectionRange:a},ei=!1,we=n;we!==null;)if(n=we,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,we=t;else for(;we!==null;){n=we;try{var Se=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ce=Se.memoizedProps,dt=Se.memoizedState,q=n.stateNode,z=q.getSnapshotBeforeUpdate(n.elementType===n.type?Ce:an(n.type,Ce),dt);q.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var G=n.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(me){lt(n,n.return,me)}if(t=n.sibling,t!==null){t.return=n.return,we=t;break}we=n.return}return Se=Af,Af=!1,Se}function ba(t,n,a){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&t)===t){var x=u.destroy;u.destroy=void 0,x!==void 0&&hc(n,a,x)}u=u.next}while(u!==l)}}function Di(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var l=a.create;a.destroy=l()}a=a.next}while(a!==n)}}function pc(t){var n=t.ref;if(n!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof n=="function"?n(t):n.current=t}}function Lf(t){var n=t.alternate;n!==null&&(t.alternate=null,Lf(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[gn],delete n[ma],delete n[Po],delete n[Wy],delete n[Hy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Df(t){return t.tag===5||t.tag===3||t.tag===4}function Mf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Df(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=mi));else if(l!==4&&(t=t.child,t!==null))for(xc(t,n,a),t=t.sibling;t!==null;)xc(t,n,a),t=t.sibling}function gc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(gc(t,n,a),t=t.sibling;t!==null;)gc(t,n,a),t=t.sibling}var wt=null,ln=!1;function Xn(t,n,a){for(a=a.child;a!==null;)Of(t,n,a),a=a.sibling}function Of(t,n,a){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Ka,a)}catch{}switch(a.tag){case 5:Tt||vr(a,n);case 6:var l=wt,u=ln;wt=null,Xn(t,n,a),wt=l,ln=u,wt!==null&&(ln?(t=wt,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):wt.removeChild(a.stateNode));break;case 18:wt!==null&&(ln?(t=wt,a=a.stateNode,t.nodeType===8?Ro(t.parentNode,a):t.nodeType===1&&Ro(t,a),ta(t)):Ro(wt,a.stateNode));break;case 4:l=wt,u=ln,wt=a.stateNode.containerInfo,ln=!0,Xn(t,n,a),wt=l,ln=u;break;case 0:case 11:case 14:case 15:if(!Tt&&(l=a.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var x=u,N=x.destroy;x=x.tag,N!==void 0&&((x&2)!==0||(x&4)!==0)&&hc(a,n,N),u=u.next}while(u!==l)}Xn(t,n,a);break;case 1:if(!Tt&&(vr(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=a.memoizedProps,l.state=a.memoizedState,l.componentWillUnmount()}catch(P){lt(a,n,P)}Xn(t,n,a);break;case 21:Xn(t,n,a);break;case 22:a.mode&1?(Tt=(l=Tt)||a.memoizedState!==null,Xn(t,n,a),Tt=l):Xn(t,n,a);break;default:Xn(t,n,a)}}function Ff(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new l0),n.forEach(function(l){var u=g0.bind(null,t,l);a.has(l)||(a.add(l),l.then(u,u))})}}function on(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];try{var x=t,N=n,P=N;e:for(;P!==null;){switch(P.tag){case 5:wt=P.stateNode,ln=!1;break e;case 3:wt=P.stateNode.containerInfo,ln=!0;break e;case 4:wt=P.stateNode.containerInfo,ln=!0;break e}P=P.return}if(wt===null)throw Error(i(160));Of(x,N,u),wt=null,ln=!1;var D=u.alternate;D!==null&&(D.return=null),u.return=null}catch(K){lt(u,n,K)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)zf(n,t),n=n.sibling}function zf(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(on(n,t),jn(t),l&4){try{ba(3,t,t.return),Di(3,t)}catch(Ce){lt(t,t.return,Ce)}try{ba(5,t,t.return)}catch(Ce){lt(t,t.return,Ce)}}break;case 1:on(n,t),jn(t),l&512&&a!==null&&vr(a,a.return);break;case 5:if(on(n,t),jn(t),l&512&&a!==null&&vr(a,a.return),t.flags&32){var u=t.stateNode;try{Wr(u,"")}catch(Ce){lt(t,t.return,Ce)}}if(l&4&&(u=t.stateNode,u!=null)){var x=t.memoizedProps,N=a!==null?a.memoizedProps:x,P=t.type,D=t.updateQueue;if(t.updateQueue=null,D!==null)try{P==="input"&&x.type==="radio"&&x.name!=null&&Js(u,x),Gl(P,N);var K=Gl(P,x);for(N=0;N<D.length;N+=2){var ie=D[N],oe=D[N+1];ie==="style"?ju(u,oe):ie==="dangerouslySetInnerHTML"?vu(u,oe):ie==="children"?Wr(u,oe):I(u,ie,oe,K)}switch(P){case"input":Ns(u,x);break;case"textarea":pu(u,x);break;case"select":var re=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!x.multiple;var je=x.value;je!=null?Ys(u,!!x.multiple,je,!1):re!==!!x.multiple&&(x.defaultValue!=null?Ys(u,!!x.multiple,x.defaultValue,!0):Ys(u,!!x.multiple,x.multiple?[]:"",!1))}u[ma]=x}catch(Ce){lt(t,t.return,Ce)}}break;case 6:if(on(n,t),jn(t),l&4){if(t.stateNode===null)throw Error(i(162));u=t.stateNode,x=t.memoizedProps;try{u.nodeValue=x}catch(Ce){lt(t,t.return,Ce)}}break;case 3:if(on(n,t),jn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ta(n.containerInfo)}catch(Ce){lt(t,t.return,Ce)}break;case 4:on(n,t),jn(t);break;case 13:on(n,t),jn(t),u=t.child,u.flags&8192&&(x=u.memoizedState!==null,u.stateNode.isHidden=x,!x||u.alternate!==null&&u.alternate.memoizedState!==null||(jc=ct())),l&4&&Ff(t);break;case 22:if(ie=a!==null&&a.memoizedState!==null,t.mode&1?(Tt=(K=Tt)||ie,on(n,t),Tt=K):on(n,t),jn(t),l&8192){if(K=t.memoizedState!==null,(t.stateNode.isHidden=K)&&!ie&&(t.mode&1)!==0)for(we=t,ie=t.child;ie!==null;){for(oe=we=ie;we!==null;){switch(re=we,je=re.child,re.tag){case 0:case 11:case 14:case 15:ba(4,re,re.return);break;case 1:vr(re,re.return);var Se=re.stateNode;if(typeof Se.componentWillUnmount=="function"){l=re,a=re.return;try{n=l,Se.props=n.memoizedProps,Se.state=n.memoizedState,Se.componentWillUnmount()}catch(Ce){lt(l,a,Ce)}}break;case 5:vr(re,re.return);break;case 22:if(re.memoizedState!==null){Vf(oe);continue}}je!==null?(je.return=re,we=je):Vf(oe)}ie=ie.sibling}e:for(ie=null,oe=t;;){if(oe.tag===5){if(ie===null){ie=oe;try{u=oe.stateNode,K?(x=u.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(P=oe.stateNode,D=oe.memoizedProps.style,N=D!=null&&D.hasOwnProperty("display")?D.display:null,P.style.display=yu("display",N))}catch(Ce){lt(t,t.return,Ce)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=K?"":oe.memoizedProps}catch(Ce){lt(t,t.return,Ce)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===t)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===t)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===t)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:on(n,t),jn(t),l&4&&Ff(t);break;case 21:break;default:on(n,t),jn(t)}}function jn(t){var n=t.flags;if(n&2){try{e:{for(var a=t.return;a!==null;){if(Df(a)){var l=a;break e}a=a.return}throw Error(i(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(Wr(u,""),l.flags&=-33);var x=Mf(t);gc(t,x,u);break;case 3:case 4:var N=l.stateNode.containerInfo,P=Mf(t);xc(t,P,N);break;default:throw Error(i(161))}}catch(D){lt(t,t.return,D)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function c0(t,n,a){we=t,$f(t)}function $f(t,n,a){for(var l=(t.mode&1)!==0;we!==null;){var u=we,x=u.child;if(u.tag===22&&l){var N=u.memoizedState!==null||Li;if(!N){var P=u.alternate,D=P!==null&&P.memoizedState!==null||Tt;P=Li;var K=Tt;if(Li=N,(Tt=D)&&!K)for(we=u;we!==null;)N=we,D=N.child,N.tag===22&&N.memoizedState!==null?Bf(u):D!==null?(D.return=N,we=D):Bf(u);for(;x!==null;)we=x,$f(x),x=x.sibling;we=u,Li=P,Tt=K}Uf(t)}else(u.subtreeFlags&8772)!==0&&x!==null?(x.return=u,we=x):Uf(t)}}function Uf(t){for(;we!==null;){var n=we;if((n.flags&8772)!==0){var a=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Tt||Di(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Tt)if(a===null)l.componentDidMount();else{var u=n.elementType===n.type?a.memoizedProps:an(n.type,a.memoizedProps);l.componentDidUpdate(u,a.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var x=n.updateQueue;x!==null&&Um(n,x,l);break;case 3:var N=n.updateQueue;if(N!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}Um(n,N,a)}break;case 5:var P=n.stateNode;if(a===null&&n.flags&4){a=P;var D=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var K=n.alternate;if(K!==null){var ie=K.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&ta(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Tt||n.flags&512&&pc(n)}catch(re){lt(n,n.return,re)}}if(n===t){we=null;break}if(a=n.sibling,a!==null){a.return=n.return,we=a;break}we=n.return}}function Vf(t){for(;we!==null;){var n=we;if(n===t){we=null;break}var a=n.sibling;if(a!==null){a.return=n.return,we=a;break}we=n.return}}function Bf(t){for(;we!==null;){var n=we;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{Di(4,n)}catch(D){lt(n,a,D)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var u=n.return;try{l.componentDidMount()}catch(D){lt(n,u,D)}}var x=n.return;try{pc(n)}catch(D){lt(n,x,D)}break;case 5:var N=n.return;try{pc(n)}catch(D){lt(n,N,D)}}}catch(D){lt(n,n.return,D)}if(n===t){we=null;break}var P=n.sibling;if(P!==null){P.return=n.return,we=P;break}we=n.return}}var d0=Math.ceil,Mi=E.ReactCurrentDispatcher,vc=E.ReactCurrentOwner,Jt=E.ReactCurrentBatchConfig,He=0,vt=null,mt=null,Nt=0,Vt=0,yr=Gn(0),pt=0,Sa=null,Ps=0,Oi=0,yc=0,Ca=null,Dt=null,jc=0,jr=1/0,An=null,Fi=!1,wc=null,Zn=null,zi=!1,es=null,$i=0,_a=0,Nc=null,Ui=-1,Vi=0;function Pt(){return(He&6)!==0?ct():Ui!==-1?Ui:Ui=ct()}function ts(t){return(t.mode&1)===0?1:(He&2)!==0&&Nt!==0?Nt&-Nt:Gy.transition!==null?(Vi===0&&(Vi=Du()),Vi):(t=Je,t!==0||(t=window.event,t=t===void 0?16:Wu(t.type)),t)}function cn(t,n,a,l){if(50<_a)throw _a=0,Nc=null,Error(i(185));Jr(t,a,l),((He&2)===0||t!==vt)&&(t===vt&&((He&2)===0&&(Oi|=a),pt===4&&ns(t,Nt)),Mt(t,l),a===1&&He===0&&(n.mode&1)===0&&(jr=ct()+500,xi&&Qn()))}function Mt(t,n){var a=t.callbackNode;Gv(t,n);var l=Ya(t,t===vt?Nt:0);if(l===0)a!==null&&Iu(a),t.callbackNode=null,t.callbackPriority=0;else if(n=l&-l,t.callbackPriority!==n){if(a!=null&&Iu(a),n===1)t.tag===0?qy(Hf.bind(null,t)):Tm(Hf.bind(null,t)),Vy(function(){(He&6)===0&&Qn()}),a=null;else{switch(Mu(l)){case 1:a=eo;break;case 4:a=Au;break;case 16:a=Ga;break;case 536870912:a=Lu;break;default:a=Ga}a=Zf(a,Wf.bind(null,t))}t.callbackPriority=n,t.callbackNode=a}}function Wf(t,n){if(Ui=-1,Vi=0,(He&6)!==0)throw Error(i(327));var a=t.callbackNode;if(wr()&&t.callbackNode!==a)return null;var l=Ya(t,t===vt?Nt:0);if(l===0)return null;if((l&30)!==0||(l&t.expiredLanes)!==0||n)n=Bi(t,l);else{n=l;var u=He;He|=2;var x=Gf();(vt!==t||Nt!==n)&&(An=null,jr=ct()+500,As(t,n));do try{f0();break}catch(P){qf(t,P)}while(!0);$o(),Mi.current=x,He=u,mt!==null?n=0:(vt=null,Nt=0,n=pt)}if(n!==0){if(n===2&&(u=to(t),u!==0&&(l=u,n=bc(t,u))),n===1)throw a=Sa,As(t,0),ns(t,l),Mt(t,ct()),a;if(n===6)ns(t,l);else{if(u=t.current.alternate,(l&30)===0&&!u0(u)&&(n=Bi(t,l),n===2&&(x=to(t),x!==0&&(l=x,n=bc(t,x))),n===1))throw a=Sa,As(t,0),ns(t,l),Mt(t,ct()),a;switch(t.finishedWork=u,t.finishedLanes=l,n){case 0:case 1:throw Error(i(345));case 2:Ls(t,Dt,An);break;case 3:if(ns(t,l),(l&130023424)===l&&(n=jc+500-ct(),10<n)){if(Ya(t,0)!==0)break;if(u=t.suspendedLanes,(u&l)!==l){Pt(),t.pingedLanes|=t.suspendedLanes&u;break}t.timeoutHandle=To(Ls.bind(null,t,Dt,An),n);break}Ls(t,Dt,An);break;case 4:if(ns(t,l),(l&4194240)===l)break;for(n=t.eventTimes,u=-1;0<l;){var N=31-nn(l);x=1<<N,N=n[N],N>u&&(u=N),l&=~x}if(l=u,l=ct()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*d0(l/1960))-l,10<l){t.timeoutHandle=To(Ls.bind(null,t,Dt,An),l);break}Ls(t,Dt,An);break;case 5:Ls(t,Dt,An);break;default:throw Error(i(329))}}}return Mt(t,ct()),t.callbackNode===a?Wf.bind(null,t):null}function bc(t,n){var a=Ca;return t.current.memoizedState.isDehydrated&&(As(t,n).flags|=256),t=Bi(t,n),t!==2&&(n=Dt,Dt=a,n!==null&&Sc(n)),t}function Sc(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function u0(t){for(var n=t;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var l=0;l<a.length;l++){var u=a[l],x=u.getSnapshot;u=u.value;try{if(!sn(x(),u))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ns(t,n){for(n&=~yc,n&=~Oi,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var a=31-nn(n),l=1<<a;t[a]=-1,n&=~l}}function Hf(t){if((He&6)!==0)throw Error(i(327));wr();var n=Ya(t,0);if((n&1)===0)return Mt(t,ct()),null;var a=Bi(t,n);if(t.tag!==0&&a===2){var l=to(t);l!==0&&(n=l,a=bc(t,l))}if(a===1)throw a=Sa,As(t,0),ns(t,n),Mt(t,ct()),a;if(a===6)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Ls(t,Dt,An),Mt(t,ct()),null}function Cc(t,n){var a=He;He|=1;try{return t(n)}finally{He=a,He===0&&(jr=ct()+500,xi&&Qn())}}function Is(t){es!==null&&es.tag===0&&(He&6)===0&&wr();var n=He;He|=1;var a=Jt.transition,l=Je;try{if(Jt.transition=null,Je=1,t)return t()}finally{Je=l,Jt.transition=a,He=n,(He&6)===0&&Qn()}}function _c(){Vt=yr.current,et(yr)}function As(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,Uy(a)),mt!==null)for(a=mt.return;a!==null;){var l=a;switch(Do(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&hi();break;case 3:xr(),et(It),et(_t),Ko();break;case 5:qo(l);break;case 4:xr();break;case 13:et(rt);break;case 19:et(rt);break;case 10:Uo(l.type._context);break;case 22:case 23:_c()}a=a.return}if(vt=t,mt=t=ss(t.current,null),Nt=Vt=n,pt=0,Sa=null,yc=Oi=Ps=0,Dt=Ca=null,Es!==null){for(n=0;n<Es.length;n++)if(a=Es[n],l=a.interleaved,l!==null){a.interleaved=null;var u=l.next,x=a.pending;if(x!==null){var N=x.next;x.next=u,l.next=N}a.pending=l}Es=null}return t}function qf(t,n){do{var a=mt;try{if($o(),_i.current=Ri,ki){for(var l=at.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}ki=!1}if(Rs=0,gt=ht=at=null,va=!1,ya=0,vc.current=null,a===null||a.return===null){pt=1,Sa=n,mt=null;break}e:{var x=t,N=a.return,P=a,D=n;if(n=Nt,P.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=D,ie=P,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var je=gf(N);if(je!==null){je.flags&=-257,vf(je,N,P,x,n),je.mode&1&&xf(x,K,n),n=je,D=K;var Se=n.updateQueue;if(Se===null){var Ce=new Set;Ce.add(D),n.updateQueue=Ce}else Se.add(D);break e}else{if((n&1)===0){xf(x,K,n),kc();break e}D=Error(i(426))}}else if(st&&P.mode&1){var dt=gf(N);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),vf(dt,N,P,x,n),Fo(gr(D,P));break e}}x=D=gr(D,P),pt!==4&&(pt=2),Ca===null?Ca=[x]:Ca.push(x),x=N;do{switch(x.tag){case 3:x.flags|=65536,n&=-n,x.lanes|=n;var q=hf(x,D,n);$m(x,q);break e;case 1:P=D;var z=x.type,G=x.stateNode;if((x.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Zn===null||!Zn.has(G)))){x.flags|=65536,n&=-n,x.lanes|=n;var me=pf(x,P,n);$m(x,me);break e}}x=x.return}while(x!==null)}Qf(a)}catch(_e){n=_e,mt===a&&a!==null&&(mt=a=a.return);continue}break}while(!0)}function Gf(){var t=Mi.current;return Mi.current=Ri,t===null?Ri:t}function kc(){(pt===0||pt===3||pt===2)&&(pt=4),vt===null||(Ps&268435455)===0&&(Oi&268435455)===0||ns(vt,Nt)}function Bi(t,n){var a=He;He|=2;var l=Gf();(vt!==t||Nt!==n)&&(An=null,As(t,n));do try{m0();break}catch(u){qf(t,u)}while(!0);if($o(),He=a,Mi.current=l,mt!==null)throw Error(i(261));return vt=null,Nt=0,pt}function m0(){for(;mt!==null;)Kf(mt)}function f0(){for(;mt!==null&&!Fv();)Kf(mt)}function Kf(t){var n=Xf(t.alternate,t,Vt);t.memoizedProps=t.pendingProps,n===null?Qf(t):mt=n,vc.current=null}function Qf(t){var n=t;do{var a=n.alternate;if(t=n.return,(n.flags&32768)===0){if(a=a0(a,n,Vt),a!==null){mt=a;return}}else{if(a=i0(a,n),a!==null){a.flags&=32767,mt=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,mt=null;return}}if(n=n.sibling,n!==null){mt=n;return}mt=n=t}while(n!==null);pt===0&&(pt=5)}function Ls(t,n,a){var l=Je,u=Jt.transition;try{Jt.transition=null,Je=1,h0(t,n,a,l)}finally{Jt.transition=u,Je=l}return null}function h0(t,n,a,l){do wr();while(es!==null);if((He&6)!==0)throw Error(i(327));a=t.finishedWork;var u=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var x=a.lanes|a.childLanes;if(Kv(t,x),t===vt&&(mt=vt=null,Nt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||zi||(zi=!0,Zf(Ga,function(){return wr(),null})),x=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||x){x=Jt.transition,Jt.transition=null;var N=Je;Je=1;var P=He;He|=4,vc.current=null,o0(t,a),zf(a,t),Ly(ko),ei=!!_o,ko=_o=null,t.current=a,c0(a),zv(),He=P,Je=N,Jt.transition=x}else t.current=a;if(zi&&(zi=!1,es=t,$i=u),x=t.pendingLanes,x===0&&(Zn=null),Vv(a.stateNode),Mt(t,ct()),n!==null)for(l=t.onRecoverableError,a=0;a<n.length;a++)u=n[a],l(u.value,{componentStack:u.stack,digest:u.digest});if(Fi)throw Fi=!1,t=wc,wc=null,t;return($i&1)!==0&&t.tag!==0&&wr(),x=t.pendingLanes,(x&1)!==0?t===Nc?_a++:(_a=0,Nc=t):_a=0,Qn(),null}function wr(){if(es!==null){var t=Mu($i),n=Jt.transition,a=Je;try{if(Jt.transition=null,Je=16>t?16:t,es===null)var l=!1;else{if(t=es,es=null,$i=0,(He&6)!==0)throw Error(i(331));var u=He;for(He|=4,we=t.current;we!==null;){var x=we,N=x.child;if((we.flags&16)!==0){var P=x.deletions;if(P!==null){for(var D=0;D<P.length;D++){var K=P[D];for(we=K;we!==null;){var ie=we;switch(ie.tag){case 0:case 11:case 15:ba(8,ie,x)}var oe=ie.child;if(oe!==null)oe.return=ie,we=oe;else for(;we!==null;){ie=we;var re=ie.sibling,je=ie.return;if(Lf(ie),ie===K){we=null;break}if(re!==null){re.return=je,we=re;break}we=je}}}var Se=x.alternate;if(Se!==null){var Ce=Se.child;if(Ce!==null){Se.child=null;do{var dt=Ce.sibling;Ce.sibling=null,Ce=dt}while(Ce!==null)}}we=x}}if((x.subtreeFlags&2064)!==0&&N!==null)N.return=x,we=N;else e:for(;we!==null;){if(x=we,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:ba(9,x,x.return)}var q=x.sibling;if(q!==null){q.return=x.return,we=q;break e}we=x.return}}var z=t.current;for(we=z;we!==null;){N=we;var G=N.child;if((N.subtreeFlags&2064)!==0&&G!==null)G.return=N,we=G;else e:for(N=z;we!==null;){if(P=we,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Di(9,P)}}catch(_e){lt(P,P.return,_e)}if(P===N){we=null;break e}var me=P.sibling;if(me!==null){me.return=P.return,we=me;break e}we=P.return}}if(He=u,Qn(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Ka,t)}catch{}l=!0}return l}finally{Je=a,Jt.transition=n}}return!1}function Jf(t,n,a){n=gr(a,n),n=hf(t,n,1),t=Yn(t,n,1),n=Pt(),t!==null&&(Jr(t,1,n),Mt(t,n))}function lt(t,n,a){if(t.tag===3)Jf(t,t,a);else for(;n!==null;){if(n.tag===3){Jf(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zn===null||!Zn.has(l))){t=gr(a,t),t=pf(n,t,1),n=Yn(n,t,1),t=Pt(),n!==null&&(Jr(n,1,t),Mt(n,t));break}}n=n.return}}function p0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),n=Pt(),t.pingedLanes|=t.suspendedLanes&a,vt===t&&(Nt&a)===a&&(pt===4||pt===3&&(Nt&130023424)===Nt&&500>ct()-jc?As(t,0):yc|=a),Mt(t,n)}function Yf(t,n){n===0&&((t.mode&1)===0?n=1:(n=Ja,Ja<<=1,(Ja&130023424)===0&&(Ja=4194304)));var a=Pt();t=Rn(t,n),t!==null&&(Jr(t,n,a),Mt(t,a))}function x0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Yf(t,a)}function g0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(i(314))}l!==null&&l.delete(n),Yf(t,a)}var Xf;Xf=function(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps||It.current)Lt=!0;else{if((t.lanes&a)===0&&(n.flags&128)===0)return Lt=!1,r0(t,n,a);Lt=(t.flags&131072)!==0}else Lt=!1,st&&(n.flags&1048576)!==0&&Rm(n,vi,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Ai(t,n),t=n.pendingProps;var u=cr(n,_t.current);pr(n,a),u=Yo(null,n,l,t,u,a);var x=Xo();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,At(l)?(x=!0,pi(n)):x=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Wo(n),u.updater=Pi,n.stateNode=u,u._reactInternals=n,rc(n,l,t,a),n=oc(null,n,l,!0,x,a)):(n.tag=0,st&&x&&Lo(n),Rt(null,n,u,a),n=n.child),n;case 16:l=n.elementType;e:{switch(Ai(t,n),t=n.pendingProps,u=l._init,l=u(l._payload),n.type=l,u=n.tag=y0(l),t=an(l,t),u){case 0:n=lc(null,n,l,t,a);break e;case 1:n=Sf(null,n,l,t,a);break e;case 11:n=yf(null,n,l,t,a);break e;case 14:n=jf(null,n,l,an(l.type,t),a);break e}throw Error(i(306,l,""))}return n;case 0:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:an(l,u),lc(t,n,l,u,a);case 1:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:an(l,u),Sf(t,n,l,u,a);case 3:e:{if(Cf(n),t===null)throw Error(i(387));l=n.pendingProps,x=n.memoizedState,u=x.element,zm(t,n),Si(n,l,null,a);var N=n.memoizedState;if(l=N.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},n.updateQueue.baseState=x,n.memoizedState=x,n.flags&256){u=gr(Error(i(423)),n),n=_f(t,n,l,a,u);break e}else if(l!==u){u=gr(Error(i(424)),n),n=_f(t,n,l,a,u);break e}else for(Ut=qn(n.stateNode.containerInfo.firstChild),$t=n,st=!0,rn=null,a=Om(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(mr(),l===u){n=In(t,n,a);break e}Rt(t,n,l,a)}n=n.child}return n;case 5:return Vm(n),t===null&&Oo(n),l=n.type,u=n.pendingProps,x=t!==null?t.memoizedProps:null,N=u.children,Eo(l,u)?N=null:x!==null&&Eo(l,x)&&(n.flags|=32),bf(t,n),Rt(t,n,N,a),n.child;case 6:return t===null&&Oo(n),null;case 13:return kf(t,n,a);case 4:return Ho(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=fr(n,null,l,a):Rt(t,n,l,a),n.child;case 11:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:an(l,u),yf(t,n,l,u,a);case 7:return Rt(t,n,n.pendingProps,a),n.child;case 8:return Rt(t,n,n.pendingProps.children,a),n.child;case 12:return Rt(t,n,n.pendingProps.children,a),n.child;case 10:e:{if(l=n.type._context,u=n.pendingProps,x=n.memoizedProps,N=u.value,Xe(wi,l._currentValue),l._currentValue=N,x!==null)if(sn(x.value,N)){if(x.children===u.children&&!It.current){n=In(t,n,a);break e}}else for(x=n.child,x!==null&&(x.return=n);x!==null;){var P=x.dependencies;if(P!==null){N=x.child;for(var D=P.firstContext;D!==null;){if(D.context===l){if(x.tag===1){D=Pn(-1,a&-a),D.tag=2;var K=x.updateQueue;if(K!==null){K=K.shared;var ie=K.pending;ie===null?D.next=D:(D.next=ie.next,ie.next=D),K.pending=D}}x.lanes|=a,D=x.alternate,D!==null&&(D.lanes|=a),Vo(x.return,a,n),P.lanes|=a;break}D=D.next}}else if(x.tag===10)N=x.type===n.type?null:x.child;else if(x.tag===18){if(N=x.return,N===null)throw Error(i(341));N.lanes|=a,P=N.alternate,P!==null&&(P.lanes|=a),Vo(N,a,n),N=x.sibling}else N=x.child;if(N!==null)N.return=x;else for(N=x;N!==null;){if(N===n){N=null;break}if(x=N.sibling,x!==null){x.return=N.return,N=x;break}N=N.return}x=N}Rt(t,n,u.children,a),n=n.child}return n;case 9:return u=n.type,l=n.pendingProps.children,pr(n,a),u=Kt(u),l=l(u),n.flags|=1,Rt(t,n,l,a),n.child;case 14:return l=n.type,u=an(l,n.pendingProps),u=an(l.type,u),jf(t,n,l,u,a);case 15:return wf(t,n,n.type,n.pendingProps,a);case 17:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:an(l,u),Ai(t,n),n.tag=1,At(l)?(t=!0,pi(n)):t=!1,pr(n,a),mf(n,l,u),rc(n,l,u,a),oc(null,n,l,!0,t,a);case 19:return Tf(t,n,a);case 22:return Nf(t,n,a)}throw Error(i(156,n.tag))};function Zf(t,n){return Pu(t,n)}function v0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(t,n,a,l){return new v0(t,n,a,l)}function Ec(t){return t=t.prototype,!(!t||!t.isReactComponent)}function y0(t){if(typeof t=="function")return Ec(t)?1:0;if(t!=null){if(t=t.$$typeof,t===W)return 11;if(t===te)return 14}return 2}function ss(t,n){var a=t.alternate;return a===null?(a=Yt(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function Wi(t,n,a,l,u,x){var N=2;if(l=t,typeof t=="function")Ec(t)&&(N=1);else if(typeof t=="string")N=5;else e:switch(t){case A:return Ds(a.children,u,x,n);case L:N=8,u|=8;break;case M:return t=Yt(12,a,n,u|2),t.elementType=M,t.lanes=x,t;case k:return t=Yt(13,a,n,u),t.elementType=k,t.lanes=x,t;case U:return t=Yt(19,a,n,u),t.elementType=U,t.lanes=x,t;case fe:return Hi(a,u,x,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:N=10;break e;case $:N=9;break e;case W:N=11;break e;case te:N=14;break e;case ne:N=16,l=null;break e}throw Error(i(130,t==null?t:typeof t,""))}return n=Yt(N,a,n,u),n.elementType=t,n.type=l,n.lanes=x,n}function Ds(t,n,a,l){return t=Yt(7,t,l,n),t.lanes=a,t}function Hi(t,n,a,l){return t=Yt(22,t,l,n),t.elementType=fe,t.lanes=a,t.stateNode={isHidden:!1},t}function Tc(t,n,a){return t=Yt(6,t,null,n),t.lanes=a,t}function Rc(t,n,a){return n=Yt(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function j0(t,n,a,l,u){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Pc(t,n,a,l,u,x,N,P,D){return t=new j0(t,n,a,P,D),n===1?(n=1,x===!0&&(n|=8)):n=0,x=Yt(3,null,null,n),t.current=x,x.stateNode=t,x.memoizedState={element:l,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wo(x),t}function w0(t,n,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:l==null?null:""+l,children:t,containerInfo:n,implementation:a}}function eh(t){if(!t)return Kn;t=t._reactInternals;e:{if(bs(t)!==t||t.tag!==1)throw Error(i(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(At(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(t.tag===1){var a=t.type;if(At(a))return km(t,a,n)}return n}function th(t,n,a,l,u,x,N,P,D){return t=Pc(a,l,!0,t,u,x,N,P,D),t.context=eh(null),a=t.current,l=Pt(),u=ts(a),x=Pn(l,u),x.callback=n??null,Yn(a,x,u),t.current.lanes=u,Jr(t,u,l),Mt(t,l),t}function qi(t,n,a,l){var u=n.current,x=Pt(),N=ts(u);return a=eh(a),n.context===null?n.context=a:n.pendingContext=a,n=Pn(x,N),n.payload={element:t},l=l===void 0?null:l,l!==null&&(n.callback=l),t=Yn(u,n,N),t!==null&&(cn(t,u,N,x),bi(t,u,N)),N}function Gi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nh(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ic(t,n){nh(t,n),(t=t.alternate)&&nh(t,n)}function N0(){return null}var sh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ac(t){this._internalRoot=t}Ki.prototype.render=Ac.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(i(409));qi(t,n,null,null)},Ki.prototype.unmount=Ac.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Is(function(){qi(null,t,null,null)}),n[_n]=null}};function Ki(t){this._internalRoot=t}Ki.prototype.unstable_scheduleHydration=function(t){if(t){var n=zu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Bn.length&&n!==0&&n<Bn[a].priority;a++);Bn.splice(a,0,t),a===0&&Vu(t)}};function Lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rh(){}function b0(t,n,a,l,u){if(u){if(typeof l=="function"){var x=l;l=function(){var K=Gi(N);x.call(K)}}var N=th(n,l,t,0,null,!1,!1,"",rh);return t._reactRootContainer=N,t[_n]=N.current,da(t.nodeType===8?t.parentNode:t),Is(),N}for(;u=t.lastChild;)t.removeChild(u);if(typeof l=="function"){var P=l;l=function(){var K=Gi(D);P.call(K)}}var D=Pc(t,0,!1,null,null,!1,!1,"",rh);return t._reactRootContainer=D,t[_n]=D.current,da(t.nodeType===8?t.parentNode:t),Is(function(){qi(n,D,a,l)}),D}function Ji(t,n,a,l,u){var x=a._reactRootContainer;if(x){var N=x;if(typeof u=="function"){var P=u;u=function(){var D=Gi(N);P.call(D)}}qi(n,N,t,u)}else N=b0(a,n,t,u,l);return Gi(N)}Ou=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var a=Qr(n.pendingLanes);a!==0&&(so(n,a|1),Mt(n,ct()),(He&6)===0&&(jr=ct()+500,Qn()))}break;case 13:Is(function(){var l=Rn(t,1);if(l!==null){var u=Pt();cn(l,t,1,u)}}),Ic(t,1)}},ro=function(t){if(t.tag===13){var n=Rn(t,134217728);if(n!==null){var a=Pt();cn(n,t,134217728,a)}Ic(t,134217728)}},Fu=function(t){if(t.tag===13){var n=ts(t),a=Rn(t,n);if(a!==null){var l=Pt();cn(a,t,n,l)}Ic(t,n)}},zu=function(){return Je},$u=function(t,n){var a=Je;try{return Je=t,n()}finally{Je=a}},Jl=function(t,n,a){switch(n){case"input":if(Ns(t,a),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var u=fi(l);if(!u)throw Error(i(90));Ie(l),Ns(l,u)}}}break;case"textarea":pu(t,a);break;case"select":n=a.value,n!=null&&Ys(t,!!a.multiple,n,!1)}},Su=Cc,Cu=Is;var S0={usingClientEntryPoint:!1,Events:[fa,lr,fi,Nu,bu,Cc]},ka={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C0={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Tu(t),t===null?null:t.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||N0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yi.isDisabled&&Yi.supportsFiber)try{Ka=Yi.inject(C0),xn=Yi}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S0,Ot.createPortal=function(t,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lc(n))throw Error(i(200));return w0(t,n,null,a)},Ot.createRoot=function(t,n){if(!Lc(t))throw Error(i(299));var a=!1,l="",u=sh;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Pc(t,1,!1,null,null,a,!1,l,u),t[_n]=n.current,da(t.nodeType===8?t.parentNode:t),new Ac(n)},Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=Tu(n),t=t===null?null:t.stateNode,t},Ot.flushSync=function(t){return Is(t)},Ot.hydrate=function(t,n,a){if(!Qi(n))throw Error(i(200));return Ji(null,t,n,!0,a)},Ot.hydrateRoot=function(t,n,a){if(!Lc(t))throw Error(i(405));var l=a!=null&&a.hydratedSources||null,u=!1,x="",N=sh;if(a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(x=a.identifierPrefix),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),n=th(n,null,t,1,a??null,u,!1,x,N),t[_n]=n.current,da(t),l)for(t=0;t<l.length;t++)a=l[t],u=a._getVersion,u=u(a._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,u]:n.mutableSourceEagerHydrationData.push(a,u);return new Ki(n)},Ot.render=function(t,n,a){if(!Qi(n))throw Error(i(200));return Ji(null,t,n,!1,a)},Ot.unmountComponentAtNode=function(t){if(!Qi(t))throw Error(i(40));return t._reactRootContainer?(Is(function(){Ji(null,null,t,!1,function(){t._reactRootContainer=null,t[_n]=null})}),!0):!1},Ot.unstable_batchedUpdates=Cc,Ot.unstable_renderSubtreeIntoContainer=function(t,n,a,l){if(!Qi(a))throw Error(i(200));if(t==null||t._reactInternals===void 0)throw Error(i(38));return Ji(t,n,a,!1,l)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var mh;function sp(){if(mh)return Oc.exports;mh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Oc.exports=A0(),Oc.exports}var fh;function L0(){if(fh)return Xi;fh=1;var s=sp();return Xi.createRoot=s.createRoot,Xi.hydrateRoot=s.hydrateRoot,Xi}var D0=L0();const M0=_d(D0);var Lr=sp();const O0=_d(Lr);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(){return La=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])}return s},La.apply(this,arguments)}var cs;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(cs||(cs={}));const hh="popstate";function F0(s){s===void 0&&(s={});function r(o,c){let{pathname:d,search:m,hash:p}=o.location;return td("",{pathname:d,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){return typeof c=="string"?c:fl(c)}return $0(r,i,null,s)}function it(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function rp(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function z0(){return Math.random().toString(36).substr(2,8)}function ph(s,r){return{usr:s.state,key:s.key,idx:r}}function td(s,r,i,o){return i===void 0&&(i=null),La({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?Dr(r):r,{state:i,key:r&&r.key||o||z0()})}function fl(s){let{pathname:r="/",search:i="",hash:o=""}=s;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function Dr(s){let r={};if(s){let i=s.indexOf("#");i>=0&&(r.hash=s.substr(i),s=s.substr(0,i));let o=s.indexOf("?");o>=0&&(r.search=s.substr(o),s=s.substr(0,o)),s&&(r.pathname=s)}return r}function $0(s,r,i,o){o===void 0&&(o={});let{window:c=document.defaultView,v5Compat:d=!1}=o,m=c.history,p=cs.Pop,v=null,y=g();y==null&&(y=0,m.replaceState(La({},m.state,{idx:y}),""));function g(){return(m.state||{idx:null}).idx}function f(){p=cs.Pop;let b=g(),_=b==null?null:b-y;y=b,v&&v({action:p,location:j.location,delta:_})}function w(b,_){p=cs.Push;let C=td(j.location,b,_);y=g()+1;let I=ph(C,y),E=j.createHref(C);try{m.pushState(I,"",E)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;c.location.assign(E)}d&&v&&v({action:p,location:j.location,delta:1})}function T(b,_){p=cs.Replace;let C=td(j.location,b,_);y=g();let I=ph(C,y),E=j.createHref(C);m.replaceState(I,"",E),d&&v&&v({action:p,location:j.location,delta:0})}function R(b){let _=c.location.origin!=="null"?c.location.origin:c.location.href,C=typeof b=="string"?b:fl(b);return C=C.replace(/ $/,"%20"),it(_,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,_)}let j={get action(){return p},get location(){return s(c,m)},listen(b){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener(hh,f),v=b,()=>{c.removeEventListener(hh,f),v=null}},createHref(b){return r(c,b)},createURL:R,encodeLocation(b){let _=R(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:w,replace:T,go(b){return m.go(b)}};return j}var xh;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(xh||(xh={}));function U0(s,r,i){return i===void 0&&(i="/"),V0(s,r,i)}function V0(s,r,i,o){let c=typeof r=="string"?Dr(r):r,d=Rr(c.pathname||"/",i);if(d==null)return null;let m=ap(s);B0(m);let p=null;for(let v=0;p==null&&v<m.length;++v){let y=ej(d);p=X0(m[v],y)}return p}function ap(s,r,i,o){r===void 0&&(r=[]),i===void 0&&(i=[]),o===void 0&&(o="");let c=(d,m,p)=>{let v={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};v.relativePath.startsWith("/")&&(it(v.relativePath.startsWith(o),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(o.length));let y=ds([o,v.relativePath]),g=i.concat(v);d.children&&d.children.length>0&&(it(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),ap(d.children,r,g,y)),!(d.path==null&&!d.index)&&r.push({path:y,score:J0(y,d.index),routesMeta:g})};return s.forEach((d,m)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))c(d,m);else for(let v of ip(d.path))c(d,m,v)}),r}function ip(s){let r=s.split("/");if(r.length===0)return[];let[i,...o]=r,c=i.endsWith("?"),d=i.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let m=ip(o.join("/")),p=[];return p.push(...m.map(v=>v===""?d:[d,v].join("/"))),c&&p.push(...m),p.map(v=>s.startsWith("/")&&v===""?"/":v)}function B0(s){s.sort((r,i)=>r.score!==i.score?i.score-r.score:Y0(r.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}const W0=/^:[\w-]+$/,H0=3,q0=2,G0=1,K0=10,Q0=-2,gh=s=>s==="*";function J0(s,r){let i=s.split("/"),o=i.length;return i.some(gh)&&(o+=Q0),r&&(o+=q0),i.filter(c=>!gh(c)).reduce((c,d)=>c+(W0.test(d)?H0:d===""?G0:K0),o)}function Y0(s,r){return s.length===r.length&&s.slice(0,-1).every((o,c)=>o===r[c])?s[s.length-1]-r[r.length-1]:0}function X0(s,r,i){let{routesMeta:o}=s,c={},d="/",m=[];for(let p=0;p<o.length;++p){let v=o[p],y=p===o.length-1,g=d==="/"?r:r.slice(d.length)||"/",f=nd({path:v.relativePath,caseSensitive:v.caseSensitive,end:y},g),w=v.route;if(!f)return null;Object.assign(c,f.params),m.push({params:c,pathname:ds([d,f.pathname]),pathnameBase:rj(ds([d,f.pathnameBase])),route:w}),f.pathnameBase!=="/"&&(d=ds([d,f.pathnameBase]))}return m}function nd(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,o]=Z0(s.path,s.caseSensitive,s.end),c=r.match(i);if(!c)return null;let d=c[0],m=d.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:o.reduce((y,g,f)=>{let{paramName:w,isOptional:T}=g;if(w==="*"){let j=p[f]||"";m=d.slice(0,d.length-j.length).replace(/(.)\/+$/,"$1")}const R=p[f];return T&&!R?y[w]=void 0:y[w]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:d,pathnameBase:m,pattern:s}}function Z0(s,r,i){r===void 0&&(r=!1),i===void 0&&(i=!0),rp(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let o=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,p,v)=>(o.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(o.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),o]}function ej(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return rp(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function Rr(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,o=s.charAt(i);return o&&o!=="/"?null:s.slice(i)||"/"}function tj(s,r){r===void 0&&(r="/");let{pathname:i,search:o="",hash:c=""}=typeof s=="string"?Dr(s):s;return{pathname:i?i.startsWith("/")?i:nj(i,r):r,search:aj(o),hash:ij(c)}}function nj(s,r){let i=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function $c(s,r,i,o){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sj(s){return s.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function Td(s,r){let i=sj(s);return r?i.map((o,c)=>c===i.length-1?o.pathname:o.pathnameBase):i.map(o=>o.pathnameBase)}function Rd(s,r,i,o){o===void 0&&(o=!1);let c;typeof s=="string"?c=Dr(s):(c=La({},s),it(!c.pathname||!c.pathname.includes("?"),$c("?","pathname","search",c)),it(!c.pathname||!c.pathname.includes("#"),$c("#","pathname","hash",c)),it(!c.search||!c.search.includes("#"),$c("#","search","hash",c)));let d=s===""||c.pathname==="",m=d?"/":c.pathname,p;if(m==null)p=i;else{let f=r.length-1;if(!o&&m.startsWith("..")){let w=m.split("/");for(;w[0]==="..";)w.shift(),f-=1;c.pathname=w.join("/")}p=f>=0?r[f]:"/"}let v=tj(c,p),y=m&&m!=="/"&&m.endsWith("/"),g=(d||m===".")&&i.endsWith("/");return!v.pathname.endsWith("/")&&(y||g)&&(v.pathname+="/"),v}const ds=s=>s.join("/").replace(/\/\/+/g,"/"),rj=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),aj=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,ij=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function lj(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const lp=["post","put","patch","delete"];new Set(lp);const oj=["get",...lp];new Set(oj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Da(){return Da=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])}return s},Da.apply(this,arguments)}const Sl=h.createContext(null),op=h.createContext(null),On=h.createContext(null),Cl=h.createContext(null),Fn=h.createContext({outlet:null,matches:[],isDataRoute:!1}),cp=h.createContext(null);function cj(s,r){let{relative:i}=r===void 0?{}:r;Mr()||it(!1);let{basename:o,navigator:c}=h.useContext(On),{hash:d,pathname:m,search:p}=_l(s,{relative:i}),v=m;return o!=="/"&&(v=m==="/"?o:ds([o,m])),c.createHref({pathname:v,search:p,hash:d})}function Mr(){return h.useContext(Cl)!=null}function Hs(){return Mr()||it(!1),h.useContext(Cl).location}function dp(s){h.useContext(On).static||h.useLayoutEffect(s)}function Ft(){let{isDataRoute:s}=h.useContext(Fn);return s?Nj():dj()}function dj(){Mr()||it(!1);let s=h.useContext(Sl),{basename:r,future:i,navigator:o}=h.useContext(On),{matches:c}=h.useContext(Fn),{pathname:d}=Hs(),m=JSON.stringify(Td(c,i.v7_relativeSplatPath)),p=h.useRef(!1);return dp(()=>{p.current=!0}),h.useCallback(function(y,g){if(g===void 0&&(g={}),!p.current)return;if(typeof y=="number"){o.go(y);return}let f=Rd(y,JSON.parse(m),d,g.relative==="path");s==null&&r!=="/"&&(f.pathname=f.pathname==="/"?r:ds([r,f.pathname])),(g.replace?o.replace:o.push)(f,g.state,g)},[r,o,m,d,s])}function up(){let{matches:s}=h.useContext(Fn),r=s[s.length-1];return r?r.params:{}}function _l(s,r){let{relative:i}=r===void 0?{}:r,{future:o}=h.useContext(On),{matches:c}=h.useContext(Fn),{pathname:d}=Hs(),m=JSON.stringify(Td(c,o.v7_relativeSplatPath));return h.useMemo(()=>Rd(s,JSON.parse(m),d,i==="path"),[s,m,d,i])}function uj(s,r){return mj(s,r)}function mj(s,r,i,o){Mr()||it(!1);let{navigator:c}=h.useContext(On),{matches:d}=h.useContext(Fn),m=d[d.length-1],p=m?m.params:{};m&&m.pathname;let v=m?m.pathnameBase:"/";m&&m.route;let y=Hs(),g;if(r){var f;let b=typeof r=="string"?Dr(r):r;v==="/"||(f=b.pathname)!=null&&f.startsWith(v)||it(!1),g=b}else g=y;let w=g.pathname||"/",T=w;if(v!=="/"){let b=v.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(b.length).join("/")}let R=U0(s,{pathname:T}),j=gj(R&&R.map(b=>Object.assign({},b,{params:Object.assign({},p,b.params),pathname:ds([v,c.encodeLocation?c.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?v:ds([v,c.encodeLocation?c.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),d,i,o);return r&&j?h.createElement(Cl.Provider,{value:{location:Da({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:cs.Pop}},j):j}function fj(){let s=wj(),r=lj(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},r),i?h.createElement("pre",{style:c},i):null,null)}const hj=h.createElement(fj,null);class pj extends h.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){console.error("React Router caught the following error during render",r,i)}render(){return this.state.error!==void 0?h.createElement(Fn.Provider,{value:this.props.routeContext},h.createElement(cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xj(s){let{routeContext:r,match:i,children:o}=s,c=h.useContext(Sl);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),h.createElement(Fn.Provider,{value:r},o)}function gj(s,r,i,o){var c;if(r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s==null){var d;if(!i)return null;if(i.errors)s=i.matches;else if((d=o)!=null&&d.v7_partialHydration&&r.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let m=s,p=(c=i)==null?void 0:c.errors;if(p!=null){let g=m.findIndex(f=>f.route.id&&p?.[f.route.id]!==void 0);g>=0||it(!1),m=m.slice(0,Math.min(m.length,g+1))}let v=!1,y=-1;if(i&&o&&o.v7_partialHydration)for(let g=0;g<m.length;g++){let f=m[g];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(y=g),f.route.id){let{loaderData:w,errors:T}=i,R=f.route.loader&&w[f.route.id]===void 0&&(!T||T[f.route.id]===void 0);if(f.route.lazy||R){v=!0,y>=0?m=m.slice(0,y+1):m=[m[0]];break}}}return m.reduceRight((g,f,w)=>{let T,R=!1,j=null,b=null;i&&(T=p&&f.route.id?p[f.route.id]:void 0,j=f.route.errorElement||hj,v&&(y<0&&w===0?(bj("route-fallback"),R=!0,b=null):y===w&&(R=!0,b=f.route.hydrateFallbackElement||null)));let _=r.concat(m.slice(0,w+1)),C=()=>{let I;return T?I=j:R?I=b:f.route.Component?I=h.createElement(f.route.Component,null):f.route.element?I=f.route.element:I=g,h.createElement(xj,{match:f,routeContext:{outlet:g,matches:_,isDataRoute:i!=null},children:I})};return i&&(f.route.ErrorBoundary||f.route.errorElement||w===0)?h.createElement(pj,{location:i.location,revalidation:i.revalidation,component:j,error:T,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}var mp=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(mp||{}),fp=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(fp||{});function vj(s){let r=h.useContext(Sl);return r||it(!1),r}function yj(s){let r=h.useContext(op);return r||it(!1),r}function jj(s){let r=h.useContext(Fn);return r||it(!1),r}function hp(s){let r=jj(),i=r.matches[r.matches.length-1];return i.route.id||it(!1),i.route.id}function wj(){var s;let r=h.useContext(cp),i=yj(),o=hp();return r!==void 0?r:(s=i.errors)==null?void 0:s[o]}function Nj(){let{router:s}=vj(mp.UseNavigateStable),r=hp(fp.UseNavigateStable),i=h.useRef(!1);return dp(()=>{i.current=!0}),h.useCallback(function(c,d){d===void 0&&(d={}),i.current&&(typeof c=="number"?s.navigate(c):s.navigate(c,Da({fromRouteId:r},d)))},[s,r])}const vh={};function bj(s,r,i){vh[s]||(vh[s]=!0)}function Sj(s,r){s?.v7_startTransition,s?.v7_relativeSplatPath}function Ia(s){let{to:r,replace:i,state:o,relative:c}=s;Mr()||it(!1);let{future:d,static:m}=h.useContext(On),{matches:p}=h.useContext(Fn),{pathname:v}=Hs(),y=Ft(),g=Rd(r,Td(p,d.v7_relativeSplatPath),v,c==="path"),f=JSON.stringify(g);return h.useEffect(()=>y(JSON.parse(f),{replace:i,state:o,relative:c}),[y,f,c,i,o]),null}function $e(s){it(!1)}function Cj(s){let{basename:r="/",children:i=null,location:o,navigationType:c=cs.Pop,navigator:d,static:m=!1,future:p}=s;Mr()&&it(!1);let v=r.replace(/^\/*/,"/"),y=h.useMemo(()=>({basename:v,navigator:d,static:m,future:Da({v7_relativeSplatPath:!1},p)}),[v,p,d,m]);typeof o=="string"&&(o=Dr(o));let{pathname:g="/",search:f="",hash:w="",state:T=null,key:R="default"}=o,j=h.useMemo(()=>{let b=Rr(g,v);return b==null?null:{location:{pathname:b,search:f,hash:w,state:T,key:R},navigationType:c}},[v,g,f,w,T,R,c]);return j==null?null:h.createElement(On.Provider,{value:y},h.createElement(Cl.Provider,{children:i,value:j}))}function hl(s){let{children:r,location:i}=s;return uj(sd(r),i)}new Promise(()=>{});function sd(s,r){r===void 0&&(r=[]);let i=[];return h.Children.forEach(s,(o,c)=>{if(!h.isValidElement(o))return;let d=[...r,c];if(o.type===h.Fragment){i.push.apply(i,sd(o.props.children,d));return}o.type!==$e&&it(!1),!o.props.index||!o.props.children||it(!1);let m={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=sd(o.props.children,d)),i.push(m)}),i}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pl(){return pl=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])}return s},pl.apply(this,arguments)}function pp(s,r){if(s==null)return{};var i={},o=Object.keys(s),c,d;for(d=0;d<o.length;d++)c=o[d],!(r.indexOf(c)>=0)&&(i[c]=s[c]);return i}function _j(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function kj(s,r){return s.button===0&&(!r||r==="_self")&&!_j(s)}const Ej=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tj=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Rj="6";try{window.__reactRouterVersion=Rj}catch{}const Pj=h.createContext({isTransitioning:!1}),Ij="startTransition",yh=Ed[Ij];function Aj(s){let{basename:r,children:i,future:o,window:c}=s,d=h.useRef();d.current==null&&(d.current=F0({window:c,v5Compat:!0}));let m=d.current,[p,v]=h.useState({action:m.action,location:m.location}),{v7_startTransition:y}=o||{},g=h.useCallback(f=>{y&&yh?yh(()=>v(f)):v(f)},[v,y]);return h.useLayoutEffect(()=>m.listen(g),[m,g]),h.useEffect(()=>Sj(o),[o]),h.createElement(Cj,{basename:r,children:i,location:p.location,navigationType:p.action,navigator:m,future:o})}const Lj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mj=h.forwardRef(function(r,i){let{onClick:o,relative:c,reloadDocument:d,replace:m,state:p,target:v,to:y,preventScrollReset:g,viewTransition:f}=r,w=pp(r,Ej),{basename:T}=h.useContext(On),R,j=!1;if(typeof y=="string"&&Dj.test(y)&&(R=y,Lj))try{let I=new URL(window.location.href),E=y.startsWith("//")?new URL(I.protocol+y):new URL(y),B=Rr(E.pathname,T);E.origin===I.origin&&B!=null?y=B+E.search+E.hash:j=!0}catch{}let b=cj(y,{relative:c}),_=Fj(y,{replace:m,state:p,target:v,preventScrollReset:g,relative:c,viewTransition:f});function C(I){o&&o(I),I.defaultPrevented||_(I)}return h.createElement("a",pl({},w,{href:R||b,onClick:j||d?o:C,ref:i,target:v}))}),xl=h.forwardRef(function(r,i){let{"aria-current":o="page",caseSensitive:c=!1,className:d="",end:m=!1,style:p,to:v,viewTransition:y,children:g}=r,f=pp(r,Tj),w=_l(v,{relative:f.relative}),T=Hs(),R=h.useContext(op),{navigator:j,basename:b}=h.useContext(On),_=R!=null&&zj(w)&&y===!0,C=j.encodeLocation?j.encodeLocation(w).pathname:w.pathname,I=T.pathname,E=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;c||(I=I.toLowerCase(),E=E?E.toLowerCase():null,C=C.toLowerCase()),E&&b&&(E=Rr(E,b)||E);const B=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let F=I===C||!m&&I.startsWith(C)&&I.charAt(B)==="/",A=E!=null&&(E===C||!m&&E.startsWith(C)&&E.charAt(C.length)==="/"),L={isActive:F,isPending:A,isTransitioning:_},M=F?o:void 0,Y;typeof d=="function"?Y=d(L):Y=[d,F?"active":null,A?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let $=typeof p=="function"?p(L):p;return h.createElement(Mj,pl({},f,{"aria-current":M,className:Y,ref:i,style:$,to:v,viewTransition:y}),typeof g=="function"?g(L):g)});var rd;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(rd||(rd={}));var jh;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(jh||(jh={}));function Oj(s){let r=h.useContext(Sl);return r||it(!1),r}function Fj(s,r){let{target:i,replace:o,state:c,preventScrollReset:d,relative:m,viewTransition:p}=r===void 0?{}:r,v=Ft(),y=Hs(),g=_l(s,{relative:m});return h.useCallback(f=>{if(kj(f,i)){f.preventDefault();let w=o!==void 0?o:fl(y)===fl(g);v(s,{replace:w,state:c,preventScrollReset:d,relative:m,viewTransition:p})}},[y,v,g,o,c,i,s,d,m,p])}function zj(s,r){r===void 0&&(r={});let i=h.useContext(Pj);i==null&&it(!1);let{basename:o}=Oj(rd.useViewTransitionState),c=_l(s,{relative:r.relative});if(!i.isTransitioning)return!1;let d=Rr(i.currentLocation.pathname,o)||i.currentLocation.pathname,m=Rr(i.nextLocation.pathname,o)||i.nextLocation.pathname;return nd(c.pathname,m)!=null||nd(c.pathname,d)!=null}const $j={},Uj=$j?.VITE_API_BASE_URL||"/api";class Vj{baseURL;token=null;constructor(r){this.baseURL=r}setToken(r){this.token=r}clearToken(){this.token=null}async get(r){return this.request(r,{method:"GET"})}async post(r,i){return this.request(r,{method:"POST",body:i?JSON.stringify(i):void 0})}async put(r,i){return this.request(r,{method:"PUT",body:i?JSON.stringify(i):void 0})}async delete(r){return this.request(r,{method:"DELETE"})}async login(r,i){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:r,password:i})})}async request(r,i={}){const o=`${this.baseURL}${r}`,c={"Content-Type":"application/json",...i.headers};try{const m=((typeof window<"u"?window.location.pathname:"")||"").split("/").filter(Boolean)[0],p=m&&m!=="edgvoip"&&m!=="superadmin"?m:void 0;p&&(c["X-Tenant-Slug"]=p)}catch{}this.token&&(c.Authorization=`Bearer ${this.token}`);try{const d=await fetch(o,{...i,headers:c}),m=await d.json();if(!d.ok){if(d.status===401){this.clearToken(),localStorage.removeItem("token"),localStorage.removeItem("user");try{const y=((typeof window<"u"?window.location.pathname:"")||"").split("/").filter(Boolean)[0],g=y&&y!=="edgvoip"&&y!=="superadmin"?y:void 0;window.location.href=g?`/${g}/login`:"/login"}catch{window.location.href="/login"}}const p=typeof m.error=="string"?m.error:m.error?.message||m.error?.code||JSON.stringify(m.error)||`HTTP ${d.status}`;throw new Error(p)}return m}catch(d){throw console.error("API request failed:",d),d}}async health(){return this.request("/health")}async getTenants(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.search&&i.append("search",r.search),this.request(`/tenants?${i.toString()}`)}async getTenant(r){return this.request(`/tenants/${r}`)}async createTenant(r){return this.request("/tenants",{method:"POST",body:JSON.stringify(r)})}async updateTenant(r,i){return this.request(`/tenants/${r}`,{method:"PUT",body:JSON.stringify(i)})}async deleteTenant(r){return this.request(`/tenants/${r}`,{method:"DELETE"})}async getStores(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.search&&i.append("search",r.search),this.request(`/stores?${i.toString()}`)}async getStore(r){return this.request(`/stores/${r}`)}async createStore(r){return this.request("/stores",{method:"POST",body:JSON.stringify(r)})}async updateStore(r,i){return this.request(`/stores/${r}`,{method:"PUT",body:JSON.stringify(i)})}async deleteStore(r){return this.request(`/stores/${r}`,{method:"DELETE"})}async getExtensions(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/sip-extensions?${i.toString()}`)}async createW3Extension(r){return this.request("/w3-voip/extensions",{method:"POST",body:JSON.stringify(r)})}async getSipTrunks(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/sip-trunks?${i.toString()}`)}async createW3Trunk(r){return this.request("/w3-voip/trunks",{method:"POST",body:JSON.stringify(r)})}async getTimeConditions(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/time-conditions?${i.toString()}`)}async createTimeCondition(r){return this.request("/voip/time-conditions",{method:"POST",body:JSON.stringify(r)})}async getIvrMenus(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/ivr-menus?${i.toString()}`)}async createIvrMenu(r){return this.request("/voip/ivr-menus",{method:"POST",body:JSON.stringify(r)})}async getRingGroups(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/ring-groups?${i.toString()}`)}async createRingGroup(r){return this.request("/voip/ring-groups",{method:"POST",body:JSON.stringify(r)})}async getQueues(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/queues?${i.toString()}`)}async createQueue(r){return this.request("/voip/queues",{method:"POST",body:JSON.stringify(r)})}async getConferenceRooms(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/conference-rooms?${i.toString()}`)}async createConferenceRoom(r){return this.request("/voip/conference-rooms",{method:"POST",body:JSON.stringify(r)})}async getVoicemailBoxes(r){const i=new URLSearchParams;return r?.page&&i.append("page",r.page.toString()),r?.limit&&i.append("limit",r.limit.toString()),r?.store_id&&i.append("store_id",r.store_id),r?.search&&i.append("search",r.search),this.request(`/voip/voicemail-boxes?${i.toString()}`)}async createVoicemailBox(r){return this.request("/voip/voicemail-boxes",{method:"POST",body:JSON.stringify(r)})}async getW3Trunks(r){const i=new URLSearchParams;return r?.store_id&&i.append("store_id",r.store_id),this.request(`/w3-voip/trunks?${i.toString()}`)}async getW3Trunk(r){return this.request(`/w3-voip/trunks/${r}`)}async updateW3Trunk(r,i){return this.request(`/w3-voip/trunks/${r}`,{method:"PUT",body:JSON.stringify(i)})}async deleteW3Trunk(r){return this.request(`/w3-voip/trunks/${r}`,{method:"DELETE"})}async getW3Extensions(r){const i=new URLSearchParams;return r?.store_id&&i.append("store_id",r.store_id),this.request(`/w3-voip/extensions?${i.toString()}`)}async getW3Extension(r){return this.request(`/w3-voip/extensions/${r}`)}async updateW3Extension(r,i){return this.request(`/w3-voip/extensions/${r}`,{method:"PUT",body:JSON.stringify(i)})}async deleteW3Extension(r){return this.request(`/w3-voip/extensions/${r}`,{method:"DELETE"})}async getW3Dids(r){const i=new URLSearchParams;return r?.store_id&&i.append("store_id",r.store_id),this.request(`/w3-voip/dids?${i.toString()}`)}async createW3Did(r){return this.request("/w3-voip/dids",{method:"POST",body:JSON.stringify(r)})}async getW3Routes(){return this.request("/w3-voip/routes")}async createW3Route(r){return this.request("/w3-voip/routes",{method:"POST",body:JSON.stringify(r)})}async getW3ContactPolicies(){return this.request("/w3-voip/contact-policies")}async createW3ContactPolicy(r){return this.request("/w3-voip/contact-policies",{method:"POST",body:JSON.stringify(r)})}async getCdrs(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!==void 0&&i.append(o,c.toString())}),this.request(`/cdr-activity/cdr?${i.toString()}`)}async getCdrStats(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!==void 0&&i.append(o,c.toString())}),this.request(`/cdr-activity/cdr/stats?${i.toString()}`)}async getActivityLogs(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!==void 0&&i.append(o,c.toString())}),this.request(`/cdr-activity/activity-log?${i.toString()}`)}async getActivityStats(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!==void 0&&i.append(o,c.toString())}),this.request(`/cdr-activity/activity-log/stats?${i.toString()}`)}async getExtension(r){return this.request(`/extensions/${r}`)}async createExtension(r){return this.request("/extensions",{method:"POST",body:JSON.stringify(r)})}async updateExtension(r,i){return this.request(`/extensions/${r}`,{method:"PUT",body:JSON.stringify(i)})}async deleteExtension(r){return this.request(`/extensions/${r}`,{method:"DELETE"})}async getCDR(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!=null&&i.append(o,c.toString())}),this.request(`/cdr-activity/cdr?${i.toString()}`)}async getCDRStats(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!=null&&i.append(o,c.toString())}),this.request(`/cdr-activity/cdr/stats?${i.toString()}`)}async exportCDR(r,i){const o=new URLSearchParams;return Object.entries(i||{}).forEach(([c,d])=>{d!=null&&o.append(c,d.toString())}),this.request(`/cdr/export/${r}?${o.toString()}`)}async getCallStatus(){return this.request("/calls/status")}async originateCall(r){return this.request("/calls/originate",{method:"POST",body:JSON.stringify(r)})}async transferCall(r){return this.request("/calls/transfer",{method:"POST",body:JSON.stringify(r)})}async hangupCall(r){return this.request("/calls/hangup",{method:"POST",body:JSON.stringify(r)})}async holdCall(r){return this.request("/calls/hold",{method:"POST",body:JSON.stringify(r)})}async muteCall(r){return this.request("/calls/mute",{method:"POST",body:JSON.stringify(r)})}async recordCall(r){return this.request("/calls/record",{method:"POST",body:JSON.stringify(r)})}async getCallInfo(r){return this.request(`/calls/info/${r}`)}async getCrossTenantStats(){return this.request("/tenants/stats")}async getTenantStatsList(){return this.request("/tenants/stats-list")}async createTenantWithCompanies(r){return this.request("/tenants",{method:"POST",body:JSON.stringify(r)})}async getTenantWithDetails(r){return this.request(`/tenants/${r}`)}async updateTenantWithDetails(r,i){return this.request(`/tenants/${r}`,{method:"PUT",body:JSON.stringify(i)})}async activateTenant(r){return this.request(`/tenants/${r}/activate`,{method:"POST"})}async suspendTenant(r){return this.request(`/tenants/${r}/suspend`,{method:"POST"})}async impersonateUser(r,i){return this.request(`/tenants/${r}/impersonate`,{method:"POST",body:JSON.stringify({userId:i})})}async getCrossTenantCalls(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!==void 0&&i.append(o,c.toString())}),this.request(`/analytics/cross-tenant/calls?${i.toString()}`)}async getCrossTenantExtensions(){return this.request("/analytics/cross-tenant/extensions")}async getCrossTenantLiveCalls(){return this.request("/analytics/cross-tenant/live-calls")}async getCrossTenantUsers(){return this.request("/analytics/cross-tenant/users")}async getCrossTenantCompanies(){return this.request("/analytics/cross-tenant/companies")}async getCrossTenantSummary(r){const i=new URLSearchParams;return Object.entries(r||{}).forEach(([o,c])=>{c!==void 0&&i.append(o,c.toString())}),this.request(`/analytics/cross-tenant/summary?${i.toString()}`)}originalToken=null;startImpersonation(r){this.originalToken=this.token,this.token=r}exitImpersonation(){this.originalToken&&(this.token=this.originalToken,this.originalToken=null)}isImpersonating(){return this.originalToken!==null}}const ve=new Vj(Uj);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(s,r)=>{const i=h.forwardRef(({color:o="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:m,className:p="",children:v,...y},g)=>h.createElement("svg",{ref:g,...Bj,width:c,height:c,stroke:o,strokeWidth:m?Number(d)*24/Number(c):d,className:["lucide",`lucide-${Wj(s)}`,p].join(" "),...y},[...r.map(([f,w])=>h.createElement(f,w)),...Array.isArray(v)?v:[v]]));return i.displayName=`${s}`,i};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ye("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=ye("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=ye("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=ye("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=ye("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=ye("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=ye("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=ye("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=ye("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=ye("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=ye("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=ye("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=ye("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=ye("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ye("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ye("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ye("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=ye("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=ye("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ye("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ye("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=ye("PhoneOutgoing",[["polyline",{points:"22 8 22 2 16 2",key:"1g204g"}],["line",{x1:"16",x2:"22",y1:"8",y2:"2",key:"1ggias"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=ye("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ye("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=ye("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ye("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=ye("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ye("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ye("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ye("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ye("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function mw({expiresAt:s,onLogout:r}){const[i,o]=h.useState(0),[c,d]=h.useState(!1);h.useEffect(()=>{const p=()=>{const y=Date.now(),g=Math.max(0,s-y);o(g),g<=12e4&&g>0?d(!0):g===0&&r()};p();const v=setInterval(p,1e3);return()=>clearInterval(v)},[s,r]);const m=p=>{const v=Math.floor(p/6e4),y=Math.floor(p%(1e3*60)/1e3);return`${v}:${y.toString().padStart(2,"0")}`};return!c||i===0?null:e.jsx("div",{className:"fixed top-4 right-4 z-50 bg-yellow-50 border border-yellow-200 rounded-lg p-4 shadow-lg max-w-sm",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(xp,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Sessione in scadenza"}),e.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["La tua sessione scadr tra"," ",e.jsx("span",{className:"font-mono font-semibold",children:m(i)})]}),e.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[e.jsx(Ht,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"text-xs text-yellow-600",children:"Fai login per continuare"})]})]}),e.jsx("button",{onClick:r,className:"text-yellow-600 hover:text-yellow-800 text-sm font-medium",children:"Esci"})]})})}const Tp=h.createContext(void 0);function fw({children:s}){const[r,i]=h.useState({user:null,token:null,isAuthenticated:!1,isLoading:!0}),o=Ft();Hs(),h.useEffect(()=>{const v=localStorage.getItem("token"),y=localStorage.getItem("user");if(v&&y)try{if(v.split(".").length!==3)throw new Error("Invalid token format");const g=JSON.parse(y),f=JSON.parse(atob(v.split(".")[1]));f.exp&&f.exp*1e3<Date.now()?(localStorage.removeItem("token"),localStorage.removeItem("user"),ve.clearToken(),i({user:null,token:null,isAuthenticated:!1,isLoading:!1})):(ve.setToken(v),i({user:g,token:v,isAuthenticated:!0,isLoading:!1}))}catch(g){console.error("Invalid token:",g),localStorage.removeItem("token"),localStorage.removeItem("user"),ve.clearToken(),i({user:null,token:null,isAuthenticated:!1,isLoading:!1})}else ve.clearToken(),i({user:null,token:null,isAuthenticated:!1,isLoading:!1})},[]),h.useEffect(()=>{r.token?ve.setToken(r.token):ve.clearToken()},[r.token]),h.useEffect(()=>{if(!r.isAuthenticated||!r.token)return;const v=()=>{try{const g=JSON.parse(atob(r.token.split(".")[1])),f=Date.now(),w=g.exp*1e3,T=900*1e3;(w<f||g.iat*1e3+T<f)&&(console.log("Session expired - logging out"),d(),o("/login"))}catch(g){console.error("Error checking token expiry:",g),d(),o("/login")}};v();const y=setInterval(v,60*1e3);return()=>clearInterval(y)},[r.isAuthenticated,r.token,o]);const c=async v=>{try{if(!v||typeof v!="string"||v.split(".").length!==3)throw new Error("Invalid token format");const y=JSON.parse(atob(v.split(".")[1])),g={id:y.id||y.userId,email:y.email,firstName:y.firstName||"",lastName:y.lastName||"",tenantId:y.tenant_id||y.tenantId,tenantSlug:y.role==="super_admin"?"edgvoip":y.tenant_slug||y.tenantSlug,role:y.role,iat:y.iat,exp:y.exp};localStorage.setItem("token",v),localStorage.setItem("user",JSON.stringify(g)),ve.setToken(v),i({user:g,token:v,isAuthenticated:!0,isLoading:!1})}catch(y){throw console.error("Invalid token:",y),localStorage.removeItem("token"),localStorage.removeItem("user"),ve.clearToken(),new Error("Invalid token")}},d=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),ve.clearToken(),i({user:null,token:null,isAuthenticated:!1,isLoading:!1})},m=async()=>{if(!r.token)return!1;try{if(r.token.split(".").length!==3)return d(),!1;const v=JSON.parse(atob(r.token.split(".")[1]));return v.exp&&v.exp*1e3<Date.now()?(d(),!1):!0}catch(v){return console.error("Token refresh failed:",v),d(),!1}},p=()=>{if(!r.token)return 0;try{return JSON.parse(atob(r.token.split(".")[1])).iat*1e3+900*1e3}catch{return 0}};return e.jsxs(Tp.Provider,{value:{...r,login:c,logout:d,refreshToken:m},children:[s,r.isAuthenticated&&e.jsx(mw,{expiresAt:p(),onLogout:()=>{d(),o("/login")}})]})}function Ct(){const s=h.useContext(Tp);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}function Le(s,r,{checkForDefaultPrevented:i=!0}={}){return function(c){if(s?.(c),i===!1||!c.defaultPrevented)return r?.(c)}}function bh(s,r){if(typeof s=="function")return s(r);s!=null&&(s.current=r)}function Rp(...s){return r=>{let i=!1;const o=s.map(c=>{const d=bh(c,r);return!i&&typeof d=="function"&&(i=!0),d});if(i)return()=>{for(let c=0;c<o.length;c++){const d=o[c];typeof d=="function"?d():bh(s[c],null)}}}}function Ye(...s){return h.useCallback(Rp(...s),s)}function hw(s,r){const i=h.createContext(r),o=d=>{const{children:m,...p}=d,v=h.useMemo(()=>p,Object.values(p));return e.jsx(i.Provider,{value:v,children:m})};o.displayName=s+"Provider";function c(d){const m=h.useContext(i);if(m)return m;if(r!==void 0)return r;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[o,c]}function zn(s,r=[]){let i=[];function o(d,m){const p=h.createContext(m),v=i.length;i=[...i,m];const y=f=>{const{scope:w,children:T,...R}=f,j=w?.[s]?.[v]||p,b=h.useMemo(()=>R,Object.values(R));return e.jsx(j.Provider,{value:b,children:T})};y.displayName=d+"Provider";function g(f,w){const T=w?.[s]?.[v]||p,R=h.useContext(T);if(R)return R;if(m!==void 0)return m;throw new Error(`\`${f}\` must be used within \`${d}\``)}return[y,g]}const c=()=>{const d=i.map(m=>h.createContext(m));return function(p){const v=p?.[s]||d;return h.useMemo(()=>({[`__scope${s}`]:{...p,[s]:v}}),[p,v])}};return c.scopeName=s,[o,pw(c,...r)]}function pw(...s){const r=s[0];if(s.length===1)return r;const i=()=>{const o=s.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const m=o.reduce((p,{useScope:v,scopeName:y})=>{const f=v(d)[`__scope${y}`];return{...p,...f}},{});return h.useMemo(()=>({[`__scope${r.scopeName}`]:m}),[m])}};return i.scopeName=r.scopeName,i}function Ir(s){const r=gw(s),i=h.forwardRef((o,c)=>{const{children:d,...m}=o,p=h.Children.toArray(d),v=p.find(yw);if(v){const y=v.props.children,g=p.map(f=>f===v?h.Children.count(y)>1?h.Children.only(null):h.isValidElement(y)?y.props.children:null:f);return e.jsx(r,{...m,ref:c,children:h.isValidElement(y)?h.cloneElement(y,void 0,g):null})}return e.jsx(r,{...m,ref:c,children:d})});return i.displayName=`${s}.Slot`,i}var xw=Ir("Slot");function gw(s){const r=h.forwardRef((i,o)=>{const{children:c,...d}=i;if(h.isValidElement(c)){const m=ww(c),p=jw(d,c.props);return c.type!==h.Fragment&&(p.ref=o?Rp(o,m):m),h.cloneElement(c,p)}return h.Children.count(c)>1?h.Children.only(null):null});return r.displayName=`${s}.SlotClone`,r}var vw=Symbol("radix.slottable");function yw(s){return h.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===vw}function jw(s,r){const i={...r};for(const o in r){const c=s[o],d=r[o];/^on[A-Z]/.test(o)?c&&d?i[o]=(...p)=>{const v=d(...p);return c(...p),v}:c&&(i[o]=c):o==="style"?i[o]={...c,...d}:o==="className"&&(i[o]=[c,d].filter(Boolean).join(" "))}return{...s,...i}}function ww(s){let r=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=Object.getOwnPropertyDescriptor(s,"ref")?.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}function Md(s){const r=s+"CollectionProvider",[i,o]=zn(r),[c,d]=i(r,{collectionRef:{current:null},itemMap:new Map}),m=j=>{const{scope:b,children:_}=j,C=un.useRef(null),I=un.useRef(new Map).current;return e.jsx(c,{scope:b,itemMap:I,collectionRef:C,children:_})};m.displayName=r;const p=s+"CollectionSlot",v=Ir(p),y=un.forwardRef((j,b)=>{const{scope:_,children:C}=j,I=d(p,_),E=Ye(b,I.collectionRef);return e.jsx(v,{ref:E,children:C})});y.displayName=p;const g=s+"CollectionItemSlot",f="data-radix-collection-item",w=Ir(g),T=un.forwardRef((j,b)=>{const{scope:_,children:C,...I}=j,E=un.useRef(null),B=Ye(b,E),F=d(g,_);return un.useEffect(()=>(F.itemMap.set(E,{ref:E,...I}),()=>void F.itemMap.delete(E))),e.jsx(w,{[f]:"",ref:B,children:C})});T.displayName=g;function R(j){const b=d(s+"CollectionConsumer",j);return un.useCallback(()=>{const C=b.collectionRef.current;if(!C)return[];const I=Array.from(C.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((F,A)=>I.indexOf(F.ref.current)-I.indexOf(A.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:m,Slot:y,ItemSlot:T},R,o]}var Nw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],De=Nw.reduce((s,r)=>{const i=Ir(`Primitive.${r}`),o=h.forwardRef((c,d)=>{const{asChild:m,...p}=c,v=m?i:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(v,{...p,ref:d})});return o.displayName=`Primitive.${r}`,{...s,[r]:o}},{});function Pp(s,r){s&&Lr.flushSync(()=>s.dispatchEvent(r))}function Zt(s){const r=h.useRef(s);return h.useEffect(()=>{r.current=s}),h.useMemo(()=>(...i)=>r.current?.(...i),[])}function bw(s,r=globalThis?.document){const i=Zt(s);h.useEffect(()=>{const o=c=>{c.key==="Escape"&&i(c)};return r.addEventListener("keydown",o,{capture:!0}),()=>r.removeEventListener("keydown",o,{capture:!0})},[i,r])}var Sw="DismissableLayer",dd="dismissableLayer.update",Cw="dismissableLayer.pointerDownOutside",_w="dismissableLayer.focusOutside",Sh,Ip=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),El=h.forwardRef((s,r)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:m,onDismiss:p,...v}=s,y=h.useContext(Ip),[g,f]=h.useState(null),w=g?.ownerDocument??globalThis?.document,[,T]=h.useState({}),R=Ye(r,A=>f(A)),j=Array.from(y.layers),[b]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),_=j.indexOf(b),C=g?j.indexOf(g):-1,I=y.layersWithOutsidePointerEventsDisabled.size>0,E=C>=_,B=Ew(A=>{const L=A.target,M=[...y.branches].some(Y=>Y.contains(L));!E||M||(c?.(A),m?.(A),A.defaultPrevented||p?.())},w),F=Tw(A=>{const L=A.target;[...y.branches].some(Y=>Y.contains(L))||(d?.(A),m?.(A),A.defaultPrevented||p?.())},w);return bw(A=>{C===y.layers.size-1&&(o?.(A),!A.defaultPrevented&&p&&(A.preventDefault(),p()))},w),h.useEffect(()=>{if(g)return i&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(Sh=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(g)),y.layers.add(g),Ch(),()=>{i&&y.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Sh)}},[g,w,i,y]),h.useEffect(()=>()=>{g&&(y.layers.delete(g),y.layersWithOutsidePointerEventsDisabled.delete(g),Ch())},[g,y]),h.useEffect(()=>{const A=()=>T({});return document.addEventListener(dd,A),()=>document.removeEventListener(dd,A)},[]),e.jsx(De.div,{...v,ref:R,style:{pointerEvents:I?E?"auto":"none":void 0,...s.style},onFocusCapture:Le(s.onFocusCapture,F.onFocusCapture),onBlurCapture:Le(s.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Le(s.onPointerDownCapture,B.onPointerDownCapture)})});El.displayName=Sw;var kw="DismissableLayerBranch",Ap=h.forwardRef((s,r)=>{const i=h.useContext(Ip),o=h.useRef(null),c=Ye(r,o);return h.useEffect(()=>{const d=o.current;if(d)return i.branches.add(d),()=>{i.branches.delete(d)}},[i.branches]),e.jsx(De.div,{...s,ref:c})});Ap.displayName=kw;function Ew(s,r=globalThis?.document){const i=Zt(s),o=h.useRef(!1),c=h.useRef(()=>{});return h.useEffect(()=>{const d=p=>{if(p.target&&!o.current){let v=function(){Lp(Cw,i,y,{discrete:!0})};const y={originalEvent:p};p.pointerType==="touch"?(r.removeEventListener("click",c.current),c.current=v,r.addEventListener("click",c.current,{once:!0})):v()}else r.removeEventListener("click",c.current);o.current=!1},m=window.setTimeout(()=>{r.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(m),r.removeEventListener("pointerdown",d),r.removeEventListener("click",c.current)}},[r,i]),{onPointerDownCapture:()=>o.current=!0}}function Tw(s,r=globalThis?.document){const i=Zt(s),o=h.useRef(!1);return h.useEffect(()=>{const c=d=>{d.target&&!o.current&&Lp(_w,i,{originalEvent:d},{discrete:!1})};return r.addEventListener("focusin",c),()=>r.removeEventListener("focusin",c)},[r,i]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Ch(){const s=new CustomEvent(dd);document.dispatchEvent(s)}function Lp(s,r,i,{discrete:o}){const c=i.originalEvent.target,d=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:i});r&&c.addEventListener(s,r,{once:!0}),o?Pp(c,d):c.dispatchEvent(d)}var Rw=El,Pw=Ap,bt=globalThis?.document?h.useLayoutEffect:()=>{},Iw="Portal",Tl=h.forwardRef((s,r)=>{const{container:i,...o}=s,[c,d]=h.useState(!1);bt(()=>d(!0),[]);const m=i||c&&globalThis?.document?.body;return m?O0.createPortal(e.jsx(De.div,{...o,ref:r}),m):null});Tl.displayName=Iw;function Aw(s,r){return h.useReducer((i,o)=>r[i][o]??i,s)}var Gs=s=>{const{present:r,children:i}=s,o=Lw(r),c=typeof i=="function"?i({present:o.isPresent}):h.Children.only(i),d=Ye(o.ref,Dw(c));return typeof i=="function"||o.isPresent?h.cloneElement(c,{ref:d}):null};Gs.displayName="Presence";function Lw(s){const[r,i]=h.useState(),o=h.useRef(null),c=h.useRef(s),d=h.useRef("none"),m=s?"mounted":"unmounted",[p,v]=Aw(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const y=Zi(o.current);d.current=p==="mounted"?y:"none"},[p]),bt(()=>{const y=o.current,g=c.current;if(g!==s){const w=d.current,T=Zi(y);s?v("MOUNT"):T==="none"||y?.display==="none"?v("UNMOUNT"):v(g&&w!==T?"ANIMATION_OUT":"UNMOUNT"),c.current=s}},[s,v]),bt(()=>{if(r){let y;const g=r.ownerDocument.defaultView??window,f=T=>{const j=Zi(o.current).includes(CSS.escape(T.animationName));if(T.target===r&&j&&(v("ANIMATION_END"),!c.current)){const b=r.style.animationFillMode;r.style.animationFillMode="forwards",y=g.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=b)})}},w=T=>{T.target===r&&(d.current=Zi(o.current))};return r.addEventListener("animationstart",w),r.addEventListener("animationcancel",f),r.addEventListener("animationend",f),()=>{g.clearTimeout(y),r.removeEventListener("animationstart",w),r.removeEventListener("animationcancel",f),r.removeEventListener("animationend",f)}}else v("ANIMATION_END")},[r,v]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:h.useCallback(y=>{o.current=y?getComputedStyle(y):null,i(y)},[])}}function Zi(s){return s?.animationName||"none"}function Dw(s){let r=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?s.ref:(r=Object.getOwnPropertyDescriptor(s,"ref")?.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}var Mw=Ed[" useInsertionEffect ".trim().toString()]||bt;function ps({prop:s,defaultProp:r,onChange:i=()=>{},caller:o}){const[c,d,m]=Ow({defaultProp:r,onChange:i}),p=s!==void 0,v=p?s:c;{const g=h.useRef(s!==void 0);h.useEffect(()=>{const f=g.current;f!==p&&console.warn(`${o} is changing from ${f?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=p},[p,o])}const y=h.useCallback(g=>{if(p){const f=Fw(g)?g(s):g;f!==s&&m.current?.(f)}else d(g)},[p,s,d,m]);return[v,y]}function Ow({defaultProp:s,onChange:r}){const[i,o]=h.useState(s),c=h.useRef(i),d=h.useRef(r);return Mw(()=>{d.current=r},[r]),h.useEffect(()=>{c.current!==i&&(d.current?.(i),c.current=i)},[i,c]),[i,o,d]}function Fw(s){return typeof s=="function"}var Dp=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zw="VisuallyHidden",Od=h.forwardRef((s,r)=>e.jsx(De.span,{...s,ref:r,style:{...Dp,...s.style}}));Od.displayName=zw;var Fd="ToastProvider",[zd,$w,Uw]=Md("Toast"),[Mp]=zn("Toast",[Uw]),[Vw,Rl]=Mp(Fd),Op=s=>{const{__scopeToast:r,label:i="Notification",duration:o=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:m}=s,[p,v]=h.useState(null),[y,g]=h.useState(0),f=h.useRef(!1),w=h.useRef(!1);return i.trim()||console.error(`Invalid prop \`label\` supplied to \`${Fd}\`. Expected non-empty \`string\`.`),e.jsx(zd.Provider,{scope:r,children:e.jsx(Vw,{scope:r,label:i,duration:o,swipeDirection:c,swipeThreshold:d,toastCount:y,viewport:p,onViewportChange:v,onToastAdd:h.useCallback(()=>g(T=>T+1),[]),onToastRemove:h.useCallback(()=>g(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:w,children:m})})};Op.displayName=Fd;var Fp="ToastViewport",Bw=["F8"],ud="toast.viewportPause",md="toast.viewportResume",zp=h.forwardRef((s,r)=>{const{__scopeToast:i,hotkey:o=Bw,label:c="Notifications ({hotkey})",...d}=s,m=Rl(Fp,i),p=$w(i),v=h.useRef(null),y=h.useRef(null),g=h.useRef(null),f=h.useRef(null),w=Ye(r,f,m.onViewportChange),T=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=m.toastCount>0;h.useEffect(()=>{const b=_=>{o.length!==0&&o.every(I=>_[I]||_.code===I)&&f.current?.focus()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[o]),h.useEffect(()=>{const b=v.current,_=f.current;if(R&&b&&_){const C=()=>{if(!m.isClosePausedRef.current){const F=new CustomEvent(ud);_.dispatchEvent(F),m.isClosePausedRef.current=!0}},I=()=>{if(m.isClosePausedRef.current){const F=new CustomEvent(md);_.dispatchEvent(F),m.isClosePausedRef.current=!1}},E=F=>{!b.contains(F.relatedTarget)&&I()},B=()=>{b.contains(document.activeElement)||I()};return b.addEventListener("focusin",C),b.addEventListener("focusout",E),b.addEventListener("pointermove",C),b.addEventListener("pointerleave",B),window.addEventListener("blur",C),window.addEventListener("focus",I),()=>{b.removeEventListener("focusin",C),b.removeEventListener("focusout",E),b.removeEventListener("pointermove",C),b.removeEventListener("pointerleave",B),window.removeEventListener("blur",C),window.removeEventListener("focus",I)}}},[R,m.isClosePausedRef]);const j=h.useCallback(({tabbingDirection:b})=>{const C=p().map(I=>{const E=I.ref.current,B=[E,...nN(E)];return b==="forwards"?B:B.reverse()});return(b==="forwards"?C.reverse():C).flat()},[p]);return h.useEffect(()=>{const b=f.current;if(b){const _=C=>{const I=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!I){const B=document.activeElement,F=C.shiftKey;if(C.target===b&&F){y.current?.focus();return}const M=j({tabbingDirection:F?"backwards":"forwards"}),Y=M.findIndex($=>$===B);Uc(M.slice(Y+1))?C.preventDefault():F?y.current?.focus():g.current?.focus()}};return b.addEventListener("keydown",_),()=>b.removeEventListener("keydown",_)}},[p,j]),e.jsxs(Pw,{ref:v,role:"region","aria-label":c.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&e.jsx(fd,{ref:y,onFocusFromOutsideViewport:()=>{const b=j({tabbingDirection:"forwards"});Uc(b)}}),e.jsx(zd.Slot,{scope:i,children:e.jsx(De.ol,{tabIndex:-1,...d,ref:w})}),R&&e.jsx(fd,{ref:g,onFocusFromOutsideViewport:()=>{const b=j({tabbingDirection:"backwards"});Uc(b)}})]})});zp.displayName=Fp;var $p="ToastFocusProxy",fd=h.forwardRef((s,r)=>{const{__scopeToast:i,onFocusFromOutsideViewport:o,...c}=s,d=Rl($p,i);return e.jsx(Od,{tabIndex:0,...c,ref:r,style:{position:"fixed"},onFocus:m=>{const p=m.relatedTarget;!d.viewport?.contains(p)&&o()}})});fd.displayName=$p;var $a="Toast",Ww="toast.swipeStart",Hw="toast.swipeMove",qw="toast.swipeCancel",Gw="toast.swipeEnd",Up=h.forwardRef((s,r)=>{const{forceMount:i,open:o,defaultOpen:c,onOpenChange:d,...m}=s,[p,v]=ps({prop:o,defaultProp:c??!0,onChange:d,caller:$a});return e.jsx(Gs,{present:i||p,children:e.jsx(Jw,{open:p,...m,ref:r,onClose:()=>v(!1),onPause:Zt(s.onPause),onResume:Zt(s.onResume),onSwipeStart:Le(s.onSwipeStart,y=>{y.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(s.onSwipeMove,y=>{const{x:g,y:f}=y.detail.delta;y.currentTarget.setAttribute("data-swipe","move"),y.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),y.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Le(s.onSwipeCancel,y=>{y.currentTarget.setAttribute("data-swipe","cancel"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),y.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),y.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(s.onSwipeEnd,y=>{const{x:g,y:f}=y.detail.delta;y.currentTarget.setAttribute("data-swipe","end"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),y.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),y.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),v(!1)})})})});Up.displayName=$a;var[Kw,Qw]=Mp($a,{onClose(){}}),Jw=h.forwardRef((s,r)=>{const{__scopeToast:i,type:o="foreground",duration:c,open:d,onClose:m,onEscapeKeyDown:p,onPause:v,onResume:y,onSwipeStart:g,onSwipeMove:f,onSwipeCancel:w,onSwipeEnd:T,...R}=s,j=Rl($a,i),[b,_]=h.useState(null),C=Ye(r,U=>_(U)),I=h.useRef(null),E=h.useRef(null),B=c||j.duration,F=h.useRef(0),A=h.useRef(B),L=h.useRef(0),{onToastAdd:M,onToastRemove:Y}=j,$=Zt(()=>{b?.contains(document.activeElement)&&j.viewport?.focus(),m()}),W=h.useCallback(U=>{!U||U===1/0||(window.clearTimeout(L.current),F.current=new Date().getTime(),L.current=window.setTimeout($,U))},[$]);h.useEffect(()=>{const U=j.viewport;if(U){const te=()=>{W(A.current),y?.()},ne=()=>{const fe=new Date().getTime()-F.current;A.current=A.current-fe,window.clearTimeout(L.current),v?.()};return U.addEventListener(ud,ne),U.addEventListener(md,te),()=>{U.removeEventListener(ud,ne),U.removeEventListener(md,te)}}},[j.viewport,B,v,y,W]),h.useEffect(()=>{d&&!j.isClosePausedRef.current&&W(B)},[d,B,j.isClosePausedRef,W]),h.useEffect(()=>(M(),()=>Y()),[M,Y]);const k=h.useMemo(()=>b?Kp(b):null,[b]);return j.viewport?e.jsxs(e.Fragment,{children:[k&&e.jsx(Yw,{__scopeToast:i,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:k}),e.jsx(Kw,{scope:i,onClose:$,children:Lr.createPortal(e.jsx(zd.ItemSlot,{scope:i,children:e.jsx(Rw,{asChild:!0,onEscapeKeyDown:Le(p,()=>{j.isFocusedToastEscapeKeyDownRef.current||$(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(De.li,{tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":j.swipeDirection,...R,ref:C,style:{userSelect:"none",touchAction:"none",...s.style},onKeyDown:Le(s.onKeyDown,U=>{U.key==="Escape"&&(p?.(U.nativeEvent),U.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:Le(s.onPointerDown,U=>{U.button===0&&(I.current={x:U.clientX,y:U.clientY})}),onPointerMove:Le(s.onPointerMove,U=>{if(!I.current)return;const te=U.clientX-I.current.x,ne=U.clientY-I.current.y,fe=!!E.current,J=["left","right"].includes(j.swipeDirection),ae=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,ce=J?ae(0,te):0,O=J?0:ae(0,ne),S=U.pointerType==="touch"?10:2,le={x:ce,y:O},ge={originalEvent:U,delta:le};fe?(E.current=le,el(Hw,f,ge,{discrete:!1})):_h(le,j.swipeDirection,S)?(E.current=le,el(Ww,g,ge,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(te)>S||Math.abs(ne)>S)&&(I.current=null)}),onPointerUp:Le(s.onPointerUp,U=>{const te=E.current,ne=U.target;if(ne.hasPointerCapture(U.pointerId)&&ne.releasePointerCapture(U.pointerId),E.current=null,I.current=null,te){const fe=U.currentTarget,J={originalEvent:U,delta:te};_h(te,j.swipeDirection,j.swipeThreshold)?el(Gw,T,J,{discrete:!0}):el(qw,w,J,{discrete:!0}),fe.addEventListener("click",ae=>ae.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),Yw=s=>{const{__scopeToast:r,children:i,...o}=s,c=Rl($a,r),[d,m]=h.useState(!1),[p,v]=h.useState(!1);return eN(()=>m(!0)),h.useEffect(()=>{const y=window.setTimeout(()=>v(!0),1e3);return()=>window.clearTimeout(y)},[]),p?null:e.jsx(Tl,{asChild:!0,children:e.jsx(Od,{...o,children:d&&e.jsxs(e.Fragment,{children:[c.label," ",i]})})})},Xw="ToastTitle",Vp=h.forwardRef((s,r)=>{const{__scopeToast:i,...o}=s;return e.jsx(De.div,{...o,ref:r})});Vp.displayName=Xw;var Zw="ToastDescription",Bp=h.forwardRef((s,r)=>{const{__scopeToast:i,...o}=s;return e.jsx(De.div,{...o,ref:r})});Bp.displayName=Zw;var Wp="ToastAction",Hp=h.forwardRef((s,r)=>{const{altText:i,...o}=s;return i.trim()?e.jsx(Gp,{altText:i,asChild:!0,children:e.jsx($d,{...o,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${Wp}\`. Expected non-empty \`string\`.`),null)});Hp.displayName=Wp;var qp="ToastClose",$d=h.forwardRef((s,r)=>{const{__scopeToast:i,...o}=s,c=Qw(qp,i);return e.jsx(Gp,{asChild:!0,children:e.jsx(De.button,{type:"button",...o,ref:r,onClick:Le(s.onClick,c.onClose)})})});$d.displayName=qp;var Gp=h.forwardRef((s,r)=>{const{__scopeToast:i,altText:o,...c}=s;return e.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...c,ref:r})});function Kp(s){const r=[];return Array.from(s.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&r.push(o.textContent),tN(o)){const c=o.ariaHidden||o.hidden||o.style.display==="none",d=o.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const m=o.dataset.radixToastAnnounceAlt;m&&r.push(m)}else r.push(...Kp(o))}}),r}function el(s,r,i,{discrete:o}){const c=i.originalEvent.currentTarget,d=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:i});r&&c.addEventListener(s,r,{once:!0}),o?Pp(c,d):c.dispatchEvent(d)}var _h=(s,r,i=0)=>{const o=Math.abs(s.x),c=Math.abs(s.y),d=o>c;return r==="left"||r==="right"?d&&o>i:!d&&c>i};function eN(s=()=>{}){const r=Zt(s);bt(()=>{let i=0,o=0;return i=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(i),window.cancelAnimationFrame(o)}},[r])}function tN(s){return s.nodeType===s.ELEMENT_NODE}function nN(s){const r=[],i=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const c=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||c?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)r.push(i.currentNode);return r}function Uc(s){const r=document.activeElement;return s.some(i=>i===r?!0:(i.focus(),document.activeElement!==r))}var sN=Op,Qp=zp,Jp=Up,Yp=Vp,Xp=Bp,Zp=Hp,ex=$d;function tx(s){var r,i,o="";if(typeof s=="string"||typeof s=="number")o+=s;else if(typeof s=="object")if(Array.isArray(s)){var c=s.length;for(r=0;r<c;r++)s[r]&&(i=tx(s[r]))&&(o&&(o+=" "),o+=i)}else for(i in s)s[i]&&(o&&(o+=" "),o+=i);return o}function nx(){for(var s,r,i=0,o="",c=arguments.length;i<c;i++)(s=arguments[i])&&(r=tx(s))&&(o&&(o+=" "),o+=r);return o}const kh=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Eh=nx,Ua=(s,r)=>i=>{var o;if(r?.variants==null)return Eh(s,i?.class,i?.className);const{variants:c,defaultVariants:d}=r,m=Object.keys(c).map(y=>{const g=i?.[y],f=d?.[y];if(g===null)return null;const w=kh(g)||kh(f);return c[y][w]}),p=i&&Object.entries(i).reduce((y,g)=>{let[f,w]=g;return w===void 0||(y[f]=w),y},{}),v=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((y,g)=>{let{class:f,className:w,...T}=g;return Object.entries(T).every(R=>{let[j,b]=R;return Array.isArray(b)?b.includes({...d,...p}[j]):{...d,...p}[j]===b})?[...y,f,w]:y},[]);return Eh(s,m,v,i?.class,i?.className)},Ud="-",rN=s=>{const r=iN(s),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=s;return{getClassGroupId:m=>{const p=m.split(Ud);return p[0]===""&&p.length!==1&&p.shift(),sx(p,r)||aN(m)},getConflictingClassGroupIds:(m,p)=>{const v=i[m]||[];return p&&o[m]?[...v,...o[m]]:v}}},sx=(s,r)=>{if(s.length===0)return r.classGroupId;const i=s[0],o=r.nextPart.get(i),c=o?sx(s.slice(1),o):void 0;if(c)return c;if(r.validators.length===0)return;const d=s.join(Ud);return r.validators.find(({validator:m})=>m(d))?.classGroupId},Th=/^\[(.+)\]$/,aN=s=>{if(Th.test(s)){const r=Th.exec(s)[1],i=r?.substring(0,r.indexOf(":"));if(i)return"arbitrary.."+i}},iN=s=>{const{theme:r,prefix:i}=s,o={nextPart:new Map,validators:[]};return oN(Object.entries(s.classGroups),i).forEach(([d,m])=>{hd(m,o,d,r)}),o},hd=(s,r,i,o)=>{s.forEach(c=>{if(typeof c=="string"){const d=c===""?r:Rh(r,c);d.classGroupId=i;return}if(typeof c=="function"){if(lN(c)){hd(c(o),r,i,o);return}r.validators.push({validator:c,classGroupId:i});return}Object.entries(c).forEach(([d,m])=>{hd(m,Rh(r,d),i,o)})})},Rh=(s,r)=>{let i=s;return r.split(Ud).forEach(o=>{i.nextPart.has(o)||i.nextPart.set(o,{nextPart:new Map,validators:[]}),i=i.nextPart.get(o)}),i},lN=s=>s.isThemeGetter,oN=(s,r)=>r?s.map(([i,o])=>{const c=o.map(d=>typeof d=="string"?r+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([m,p])=>[r+m,p])):d);return[i,c]}):s,cN=s=>{if(s<1)return{get:()=>{},set:()=>{}};let r=0,i=new Map,o=new Map;const c=(d,m)=>{i.set(d,m),r++,r>s&&(r=0,o=i,i=new Map)};return{get(d){let m=i.get(d);if(m!==void 0)return m;if((m=o.get(d))!==void 0)return c(d,m),m},set(d,m){i.has(d)?i.set(d,m):c(d,m)}}},rx="!",dN=s=>{const{separator:r,experimentalParseClassName:i}=s,o=r.length===1,c=r[0],d=r.length,m=p=>{const v=[];let y=0,g=0,f;for(let b=0;b<p.length;b++){let _=p[b];if(y===0){if(_===c&&(o||p.slice(b,b+d)===r)){v.push(p.slice(g,b)),g=b+d;continue}if(_==="/"){f=b;continue}}_==="["?y++:_==="]"&&y--}const w=v.length===0?p:p.substring(g),T=w.startsWith(rx),R=T?w.substring(1):w,j=f&&f>g?f-g:void 0;return{modifiers:v,hasImportantModifier:T,baseClassName:R,maybePostfixModifierPosition:j}};return i?p=>i({className:p,parseClassName:m}):m},uN=s=>{if(s.length<=1)return s;const r=[];let i=[];return s.forEach(o=>{o[0]==="["?(r.push(...i.sort(),o),i=[]):i.push(o)}),r.push(...i.sort()),r},mN=s=>({cache:cN(s.cacheSize),parseClassName:dN(s),...rN(s)}),fN=/\s+/,hN=(s,r)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:c}=r,d=[],m=s.trim().split(fN);let p="";for(let v=m.length-1;v>=0;v-=1){const y=m[v],{modifiers:g,hasImportantModifier:f,baseClassName:w,maybePostfixModifierPosition:T}=i(y);let R=!!T,j=o(R?w.substring(0,T):w);if(!j){if(!R){p=y+(p.length>0?" "+p:p);continue}if(j=o(w),!j){p=y+(p.length>0?" "+p:p);continue}R=!1}const b=uN(g).join(":"),_=f?b+rx:b,C=_+j;if(d.includes(C))continue;d.push(C);const I=c(j,R);for(let E=0;E<I.length;++E){const B=I[E];d.push(_+B)}p=y+(p.length>0?" "+p:p)}return p};function pN(){let s=0,r,i,o="";for(;s<arguments.length;)(r=arguments[s++])&&(i=ax(r))&&(o&&(o+=" "),o+=i);return o}const ax=s=>{if(typeof s=="string")return s;let r,i="";for(let o=0;o<s.length;o++)s[o]&&(r=ax(s[o]))&&(i&&(i+=" "),i+=r);return i};function xN(s,...r){let i,o,c,d=m;function m(v){const y=r.reduce((g,f)=>f(g),s());return i=mN(y),o=i.cache.get,c=i.cache.set,d=p,p(v)}function p(v){const y=o(v);if(y)return y;const g=hN(v,i);return c(v,g),g}return function(){return d(pN.apply(null,arguments))}}const tt=s=>{const r=i=>i[s]||[];return r.isThemeGetter=!0,r},ix=/^\[(?:([a-z-]+):)?(.+)\]$/i,gN=/^\d+\/\d+$/,vN=new Set(["px","full","screen"]),yN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,NN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ln=s=>kr(s)||vN.has(s)||gN.test(s),as=s=>zr(s,"length",PN),kr=s=>!!s&&!Number.isNaN(Number(s)),Vc=s=>zr(s,"number",kr),Ta=s=>!!s&&Number.isInteger(Number(s)),SN=s=>s.endsWith("%")&&kr(s.slice(0,-1)),Me=s=>ix.test(s),is=s=>yN.test(s),CN=new Set(["length","size","percentage"]),_N=s=>zr(s,CN,lx),kN=s=>zr(s,"position",lx),EN=new Set(["image","url"]),TN=s=>zr(s,EN,AN),RN=s=>zr(s,"",IN),Ra=()=>!0,zr=(s,r,i)=>{const o=ix.exec(s);return o?o[1]?typeof r=="string"?o[1]===r:r.has(o[1]):i(o[2]):!1},PN=s=>jN.test(s)&&!wN.test(s),lx=()=>!1,IN=s=>NN.test(s),AN=s=>bN.test(s),LN=()=>{const s=tt("colors"),r=tt("spacing"),i=tt("blur"),o=tt("brightness"),c=tt("borderColor"),d=tt("borderRadius"),m=tt("borderSpacing"),p=tt("borderWidth"),v=tt("contrast"),y=tt("grayscale"),g=tt("hueRotate"),f=tt("invert"),w=tt("gap"),T=tt("gradientColorStops"),R=tt("gradientColorStopPositions"),j=tt("inset"),b=tt("margin"),_=tt("opacity"),C=tt("padding"),I=tt("saturate"),E=tt("scale"),B=tt("sepia"),F=tt("skew"),A=tt("space"),L=tt("translate"),M=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",Me,r],W=()=>[Me,r],k=()=>["",Ln,as],U=()=>["auto",kr,Me],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Me],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[kr,Me];return{cacheSize:500,separator:":",theme:{colors:[Ra],spacing:[Ln,as],blur:["none","",is,Me],brightness:O(),borderColor:[s],borderRadius:["none","","full",is,Me],borderSpacing:W(),borderWidth:k(),contrast:O(),grayscale:ae(),hueRotate:O(),invert:ae(),gap:W(),gradientColorStops:[s],gradientColorStopPositions:[SN,as],inset:$(),margin:$(),opacity:O(),padding:W(),saturate:O(),scale:O(),sepia:ae(),skew:O(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[is]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),Me]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ta,Me]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",Ta,Me]}],"grid-cols":[{"grid-cols":[Ra]}],"col-start-end":[{col:["auto",{span:["full",Ta,Me]},Me]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Ra]}],"row-start-end":[{row:["auto",{span:[Ta,Me]},Me]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,r]}],"min-w":[{"min-w":[Me,r,"min","max","fit"]}],"max-w":[{"max-w":[Me,r,"none","full","min","max","fit","prose",{screen:[is]},is]}],h:[{h:[Me,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,r,"auto","min","max","fit"]}],"font-size":[{text:["base",is,as]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vc]}],"font-family":[{font:[Ra]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",kr,Vc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ln,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ln,as]}],"underline-offset":[{"underline-offset":["auto",Ln,Me]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),kN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_N]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TN]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ne()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-s":[{"border-s":[c]}],"border-color-e":[{"border-e":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[Ln,Me]}],"outline-w":[{outline:[Ln,as]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Ln,as]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",is,RN]}],"shadow-color":[{shadow:[Ra]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[o]}],contrast:[{contrast:[v]}],"drop-shadow":[{"drop-shadow":["","none",is,Me]}],grayscale:[{grayscale:[y]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[f]}],saturate:[{saturate:[I]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[v]}],"backdrop-grayscale":[{"backdrop-grayscale":[y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[m]}],"border-spacing-x":[{"border-spacing-x":[m]}],"border-spacing-y":[{"border-spacing-y":[m]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Ta,Me]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[Ln,as,Vc]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},DN=xN(LN);function ke(...s){return DN(nx(s))}const MN=sN,ox=h.forwardRef(({className:s,...r},i)=>e.jsx(Qp,{ref:i,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...r}));ox.displayName=Qp.displayName;const ON=Ua("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cx=h.forwardRef(({className:s,variant:r,...i},o)=>e.jsx(Jp,{ref:o,className:ke(ON({variant:r}),s),...i}));cx.displayName=Jp.displayName;const FN=h.forwardRef(({className:s,...r},i)=>e.jsx(Zp,{ref:i,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...r}));FN.displayName=Zp.displayName;const dx=h.forwardRef(({className:s,...r},i)=>e.jsx(ex,{ref:i,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...r,children:e.jsx(mn,{className:"h-4 w-4"})}));dx.displayName=ex.displayName;const ux=h.forwardRef(({className:s,...r},i)=>e.jsx(Yp,{ref:i,className:ke("text-sm font-semibold",s),...r}));ux.displayName=Yp.displayName;const mx=h.forwardRef(({className:s,...r},i)=>e.jsx(Xp,{ref:i,className:ke("text-sm opacity-90",s),...r}));mx.displayName=Xp.displayName;const zN=1,$N=1e6;let Bc=0;function UN(){return Bc=(Bc+1)%Number.MAX_SAFE_INTEGER,Bc.toString()}const Wc=new Map,Ph=s=>{if(Wc.has(s))return;const r=setTimeout(()=>{Wc.delete(s),Aa({type:"REMOVE_TOAST",toastId:s})},$N);Wc.set(s,r)},VN=(s,r)=>{switch(r.type){case"ADD_TOAST":return{...s,toasts:[r.toast,...s.toasts].slice(0,zN)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(i=>i.id===r.toast.id?{...i,...r.toast}:i)};case"DISMISS_TOAST":{const{toastId:i}=r;return i?Ph(i):s.toasts.forEach(o=>{Ph(o.id)}),{...s,toasts:s.toasts.map(o=>o.id===i||i===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return r.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(i=>i.id!==r.toastId)}}},ol=[];let cl={toasts:[]};function Aa(s){cl=VN(cl,s),ol.forEach(r=>{r(cl)})}function BN({...s}){const r=UN(),i=c=>Aa({type:"UPDATE_TOAST",toast:{...c,id:r}}),o=()=>Aa({type:"DISMISS_TOAST",toastId:r});return Aa({type:"ADD_TOAST",toast:{...s,id:r,open:!0,onOpenChange:c=>{c||o()}}}),{id:r,dismiss:o,update:i}}function ys(){const[s,r]=h.useState(cl);return h.useEffect(()=>(ol.push(r),()=>{const i=ol.indexOf(r);i>-1&&ol.splice(i,1)}),[s]),{...s,toast:BN,dismiss:i=>Aa({type:"DISMISS_TOAST",toastId:i})}}function WN(){const{toasts:s}=ys();return e.jsxs(MN,{children:[s.map(function({id:r,title:i,description:o,action:c,...d}){return e.jsxs(cx,{...d,children:[e.jsxs("div",{className:"grid gap-1",children:[i&&e.jsx(ux,{children:i}),o&&e.jsx(mx,{children:o})]}),c,e.jsx(dx,{})]},r)}),e.jsx(ox,{})]})}const HN=Ua("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 ease-smooth focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:scale-[1.02] active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 hover:scale-[1.02] active:scale-[0.98]",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:scale-[1.02] active:scale-[0.98]",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 hover:scale-[1.02] active:scale-[0.98]",ghost:"hover:bg-accent hover:text-accent-foreground hover:scale-105 active:scale-95",link:"text-primary underline-offset-4 hover:underline hover:scale-105",glass:"glass-light hover:bg-white/70 hover:scale-105 hover:shadow-lg transition-all duration-200 active:scale-95",gradient:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 hover:scale-[1.02] active:scale-[0.98] text-white shadow-lg hover:shadow-xl",glassDark:"backdrop-blur-sm bg-slate-900/60 dark:bg-slate-800/60 border-white/10 hover:bg-slate-800/80 hover:scale-105 hover:shadow-glass-lg transition-all duration-200 active:scale-95"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=h.forwardRef(({className:s,variant:r,size:i,asChild:o=!1,...c},d)=>{const m=o?xw:"button";return e.jsx(m,{className:ke(HN({variant:r,size:i,className:s})),ref:d,...c})});V.displayName="Button";const qN=(s,r)=>{const i=[{name:"Dashboard",href:`/${r}/dashboard`,icon:ld,level:0}];return s==="super_admin"?[{name:"Dashboard",href:"/edgvoip/dashboard",icon:ld,level:0},{name:"Tenants",href:"/edgvoip/tenants",icon:ot,level:0},{name:"Users",href:"/edgvoip/users",icon:ot,level:0},{name:"Analytics",href:"/edgvoip/analytics",icon:gl,level:0},{name:"System Settings",href:"/edgvoip/system-settings",icon:hs,level:0},{name:"Logs",href:"/edgvoip/logs",icon:Oa,level:0}]:s==="tenant_admin"?[...i,{name:"Tenant Management",icon:ot,level:0,children:[{name:"Stores",href:`/${r}/stores`,icon:id,level:1},{name:"Users",href:`/${r}/users`,icon:ot,level:1}]},{name:"VoIP Management",icon:qe,level:0,children:[{name:"Extensions",href:`/${r}/extensions`,icon:qe,level:1},{name:"SIP Trunks",href:`/${r}/sip-trunks`,icon:Sp,level:1},{name:"Ring Groups",href:`/${r}/ring-groups`,icon:dw,level:1},{name:"Call Queues",href:`/${r}/queues`,icon:jp,level:1},{name:"IVR Menus",href:`/${r}/ivr-menus`,icon:bp,level:1},{name:"Conference Rooms",href:`/${r}/conference-rooms`,icon:Cr,level:1},{name:"Voicemail",href:`/${r}/voicemail`,icon:fs,level:1},{name:"Time Conditions",href:`/${r}/time-conditions`,icon:Ht,level:1}]},{name:"Live Calls",href:`/${r}/live-calls`,icon:qs,level:0},{name:"CDR & Analytics",href:`/${r}/cdr`,icon:gl,level:0},{name:"Logs & Verbose",href:`/${r}/logs`,icon:Oa,level:0}]:[...i,{name:"My Extensions",href:"/my-extensions",icon:qe,level:0},{name:"Make Call",href:"/make-call",icon:qe,level:0},{name:"My CDR",href:"/my-cdr",icon:Ld,level:0}]};function GN(){const{logout:s,user:r}=Ct(),[i,o]=h.useState([]),[c,d]=h.useState(!1),[m,p]=h.useState(!1),[v,y]=h.useState(!1),g=h.useRef(null),f=r?qN(r.role,r.tenantSlug):[];h.useEffect(()=>{const _=()=>{y(window.innerWidth<768),window.innerWidth<768&&d(!0)};return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]),h.useEffect(()=>v?void 0:(c||(()=>{g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{if(!m){d(!0);const C=new CustomEvent("sidebar-state-change",{detail:{collapsed:!0}});window.dispatchEvent(C)}},3e3)})(),()=>{g.current&&clearTimeout(g.current)}),[c,m,v]),un.useEffect(()=>{r&&(r.role==="super_admin"?o(["System Management","VoIP Management"]):r.role==="tenant_admin"&&o(["Tenant Management","VoIP Management"]))},[r]);const w=_=>{o(C=>C.includes(_)?C.filter(I=>I!==_):[...C,_])},T=()=>{v||(p(!0),g.current&&clearTimeout(g.current),setTimeout(()=>{if(c){d(!1);const _=new CustomEvent("sidebar-state-change",{detail:{collapsed:!1}});window.dispatchEvent(_)}},200))},R=()=>{v||p(!1)},j=()=>{const _=!c;d(_);const C=new CustomEvent("sidebar-state-change",{detail:{collapsed:_}});window.dispatchEvent(C)},b=_=>{if(_.children){const C=i.includes(_.name);return e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>w(_.name),className:ke("group flex items-center w-full px-2 py-2 text-sm font-medium rounded-md","text-gray-600 hover:bg-blue-50/50 hover:text-blue-700","hover:translate-x-1 transition-all duration-200 ease-smooth",c&&"justify-center"),title:c?_.name:void 0,children:[e.jsx(_.icon,{className:ke("h-5 w-5 flex-shrink-0",c?"":"mr-3")}),!c&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"truncate",children:_.name}),C?e.jsx(Ad,{className:"ml-auto h-4 w-4"}):e.jsx(wh,{className:"ml-auto h-4 w-4"})]})]}),C&&!c&&e.jsx("div",{className:"ml-4 space-y-1 animate-fadeIn",children:_.children.map(I=>e.jsxs(xl,{to:I.href,className:({isActive:E})=>ke("group flex items-center px-2 py-2 text-sm font-medium rounded-md","transition-all duration-200 ease-smooth","hover:translate-x-1 hover:bg-blue-50/50",E?"bg-blue-100/80 text-blue-900 shadow-sm":"text-gray-500 hover:text-blue-700"),children:[e.jsx(I.icon,{className:"mr-3 h-4 w-4 flex-shrink-0"}),I.name]},I.name))})]},_.name)}return e.jsxs(xl,{to:_.href,className:({isActive:C})=>ke("group flex items-center px-2 py-2 text-sm font-medium rounded-md","transition-all duration-200 ease-smooth","hover:translate-x-1 hover:bg-blue-50/50",c&&"justify-center",C?"bg-blue-100/80 text-blue-900 shadow-sm":"text-gray-600 hover:text-blue-700"),title:c?_.name:void 0,children:[e.jsx(_.icon,{className:ke("h-5 w-5 flex-shrink-0",c?"":"mr-3")}),!c&&e.jsx("span",{className:"truncate",children:_.name})]},_.name)};return e.jsx("div",{className:ke("hidden md:flex md:flex-col fixed left-0 top-0 h-full z-40","glass-nav transition-all duration-300 ease-smooth",c?"w-16":"w-64"),onMouseEnter:T,onMouseLeave:R,children:e.jsxs("div",{className:"flex flex-col flex-grow pt-5 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between flex-shrink-0 px-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(qe,{className:"h-8 w-8 text-blue-600"}),!c&&e.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900 animate-fadeIn",children:"EDG VoIP"})]}),!v&&e.jsx(V,{variant:"ghost",size:"sm",onClick:j,className:"p-1 hover:bg-white/50 hover:scale-105 transition-all duration-200",children:c?e.jsx(wh,{className:"h-4 w-4"}):e.jsx(Kj,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"mt-5 flex-grow flex flex-col",children:e.jsx("nav",{className:"flex-1 px-2 pb-4 space-y-1",children:f.map(b)})}),e.jsx("div",{className:"flex-shrink-0 flex border-t border-white/20 p-4",children:e.jsxs("div",{className:"flex items-center w-full",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-sm",children:e.jsx("span",{className:"text-sm font-medium text-white",children:r?.firstName?.charAt(0)?.toUpperCase()||"U"})})}),!c&&e.jsxs("div",{className:"ml-3 flex-1 animate-fadeIn",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 truncate",children:r?.firstName&&r?.lastName?`${r.firstName} ${r.lastName}`:"User"}),e.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[r?.role==="super_admin"&&"Super Administrator",r?.role==="tenant_admin"&&`Tenant Admin  ${r?.tenantId?.slice(0,8)}...`,r?.role==="user"&&`User  ${r?.tenantId?.slice(0,8)}...`]})]}),e.jsx(V,{variant:"ghost",size:"sm",onClick:s,className:ke("hover:bg-white/50 hover:scale-105 transition-all duration-200",c?"ml-0":"ml-2"),title:c?"Logout":void 0,children:e.jsx(Np,{className:"h-4 w-4"})})]})})]})})}const ee=h.forwardRef(({className:s,type:r,...i},o)=>e.jsx("input",{type:r,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 ease-smooth hover:border-ring/50 focus:scale-[1.01]",s),ref:o,...i}));ee.displayName="Input";const KN=Ua("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function he({className:s,variant:r,...i}){return e.jsx("div",{className:ke(KN({variant:r}),s),...i})}function QN(){const[s,r]=h.useState("light");h.useEffect(()=>{const o=localStorage.getItem("theme"),c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",d=o||c;r(d),document.documentElement.classList.toggle("dark",d==="dark")},[]);const i=()=>{const o=s==="light"?"dark":"light";r(o),localStorage.setItem("theme",o),document.documentElement.classList.toggle("dark",o==="dark")};return e.jsxs(V,{variant:"ghost",size:"sm",onClick:i,className:ke("h-9 w-9 p-0 hover:bg-white/50 hover:scale-105 transition-all duration-200","relative overflow-hidden"),title:`Switch to ${s==="light"?"dark":"light"} mode`,children:[e.jsx(lw,{className:ke("h-4 w-4 transition-all duration-300",s==="light"?"rotate-0 scale-100":"rotate-90 scale-0")}),e.jsx(rw,{className:ke("absolute h-4 w-4 transition-all duration-300",s==="dark"?"rotate-0 scale-100":"-rotate-90 scale-0")})]})}function JN(){const{user:s}=Ct(),[r,i]=h.useState(!1),[o,c]=h.useState(!1),[d,m]=h.useState(!1),p=async()=>{try{c(!0);const g=await(await fetch("/api/freeswitch/status")).json(),f=!!((g?.data&&g.data.connected)??g.connected);i(f)}catch(y){console.error("Error checking FreeSWITCH status:",y),i(!1)}finally{c(!1)}},v=async()=>{await p()};return h.useEffect(()=>{p();const y=setInterval(p,3e4);return()=>clearInterval(y)},[]),h.useEffect(()=>{const y=g=>{m(g.detail.collapsed)};return window.addEventListener("sidebar-state-change",y),()=>{window.removeEventListener("sidebar-state-change",y)}},[]),e.jsx("header",{className:"glass-light sticky top-0 z-30 px-6 py-4 border-b border-white/20",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:["EDG VoIP System",e.jsx("span",{className:ke("ml-2 text-xs px-2 py-1 rounded-full transition-all duration-200",d?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"),children:d?"Compact":"Full"})]}),s&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.role==="super_admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Os,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"font-medium",children:"Super Admin"})]}),s.role==="tenant_admin"&&e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"Tenant Admin"}),s.tenant_id&&e.jsxs("span",{className:"text-gray-500",children:[" Tenant: ",s.tenant_id.slice(0,8),"..."]})]}),s.role==="tenant_user"&&e.jsxs(e.Fragment,{children:[e.jsx(kl,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"font-medium",children:"User"}),s.tenant_id&&e.jsxs("span",{className:"text-gray-500",children:[" Tenant: ",s.tenant_id.slice(0,8),"..."]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ee,{type:"text",placeholder:"Search...",className:"glass-input pl-10 w-64 focus:ring-2 focus:ring-blue-500/50 transition-all duration-200"})]}),e.jsx(QN,{}),e.jsxs(V,{variant:"ghost",size:"sm",className:"relative hover:bg-white/50 hover:scale-105 transition-all duration-200",children:[e.jsx(Hj,{className:"h-5 w-5"}),e.jsx(he,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs animate-bounce-smooth",children:"3"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-gray-600",children:"System Online"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:ke("h-2 w-2 rounded-full transition-colors duration-200",r?"bg-green-500 animate-pulse":"bg-red-500")}),e.jsxs("span",{className:ke("text-sm transition-colors duration-200",r?"text-gray-600":"text-red-600"),children:["FreeSWITCH ",r?"":"(ESL Disabled)"]}),e.jsx("button",{onClick:v,disabled:o,className:"p-1 hover:bg-white/50 hover:scale-105 rounded transition-all duration-200",title:r?"Refresh FreeSWITCH Status":"FreeSWITCH ESL not configured",children:e.jsx(ut,{className:ke("h-3 w-3 text-gray-500 transition-transform duration-200",o?"animate-spin":"hover:rotate-180")})})]})]})]})]})})})}const Ih=[{name:"Dashboard",href:"/edgvoip/dashboard",icon:ld},{name:"Tenants",href:"/edgvoip/tenants",icon:Pr},{name:"Users",href:"/edgvoip/users",icon:ot},{name:"Analytics",href:"/edgvoip/analytics",icon:gl},{name:"System Settings",href:"/edgvoip/system-settings",icon:hs},{name:"Logs",href:"/edgvoip/logs",icon:Oa}];function YN(){const{logout:s,user:r}=Ct();return e.jsxs("header",{className:"bg-white border-b border-gray-200",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(qe,{className:"h-8 w-8 text-blue-600"}),e.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"EDG VoIP"}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Super Admin"})]})}),e.jsx("nav",{className:"hidden md:flex space-x-8",children:Ih.map(i=>e.jsxs(xl,{to:i.href,className:({isActive:o})=>`inline-flex items-center px-1 pt-1 text-sm font-medium transition-colors ${o?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300"}`,children:[e.jsx(i.icon,{className:"mr-2 h-4 w-4"}),i.name]},i.name))}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-white",children:r?.firstName?.charAt(0)?.toUpperCase()||"S"})})}),e.jsxs("div",{className:"ml-3 hidden sm:block",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:r?.firstName&&r?.lastName?`${r.firstName} ${r.lastName}`:"Super Admin"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Super Administrator"})]})]}),e.jsx(V,{variant:"ghost",size:"sm",onClick:s,className:"ml-2",children:e.jsx(Np,{className:"h-4 w-4"})})]})]})}),e.jsx("div",{className:"md:hidden",children:e.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-50",children:Ih.map(i=>e.jsxs(xl,{to:i.href,className:({isActive:o})=>`flex items-center px-3 py-2 text-base font-medium rounded-md transition-colors ${o?"text-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(i.icon,{className:"mr-3 h-5 w-5"}),i.name]},i.name))})})]})}function fx({children:s,variant:r="tenant"}){const[i,o]=h.useState(!1);return h.useEffect(()=>{const c=d=>{o(d.detail.collapsed)};return window.addEventListener("sidebar-state-change",c),()=>{window.removeEventListener("sidebar-state-change",c)}},[]),r==="superadmin"?e.jsx("div",{className:"h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-slate-100 dark:from-slate-950 dark:via-blue-950/30 dark:to-slate-900 overflow-hidden",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx(YN,{}),e.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:s})]})}):e.jsx("div",{className:"h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-slate-100 dark:from-slate-950 dark:via-blue-950/30 dark:to-slate-900 overflow-hidden",children:e.jsxs("div",{className:"flex h-full",children:[e.jsx(GN,{}),e.jsxs("div",{className:ke("flex-1 flex flex-col h-full overflow-hidden transition-all duration-300 ease-smooth","min-w-0",i?"ml-16":"ml-64"),style:{width:i?"calc(100% - 4rem)":"calc(100% - 16rem)",maxWidth:i?"calc(100vw - 4rem)":"calc(100vw - 16rem)"},children:[e.jsx(JN,{}),e.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:s})]})]})})}const XN={default:"border border-gray-200 bg-white text-gray-900 dark:border-gray-800 dark:bg-gray-900 dark:text-gray-100",destructive:"border border-red-200 bg-red-50 text-red-800 dark:border-red-900/50 dark:bg-red-950 dark:text-red-300",success:"border border-emerald-200 bg-emerald-50 text-emerald-800 dark:border-emerald-900/50 dark:bg-emerald-950 dark:text-emerald-300",warning:"border border-amber-200 bg-amber-50 text-amber-900 dark:border-amber-900/50 dark:bg-amber-950 dark:text-amber-300",info:"border border-sky-200 bg-sky-50 text-sky-900 dark:border-sky-900/50 dark:bg-sky-950 dark:text-sky-300"},Fs=h.forwardRef(({className:s="",variant:r="default",children:i,...o},c)=>{const d=`w-full rounded-md px-4 py-3 text-sm ${XN[r]} ${s}`.trim();return e.jsx("div",{ref:c,role:"alert",className:d,...o,children:i})});Fs.displayName="Alert";const zs=h.forwardRef(({className:s="",children:r,...i},o)=>{const c=`mt-1 leading-relaxed ${s}`.trim();return e.jsx("p",{ref:o,className:c,...i,children:r})});zs.displayName="AlertDescription";function ZN(){const[s,r]=h.useState(null),[i,o]=h.useState(!1),c=Ft();h.useEffect(()=>{const m=ve.isImpersonating();if(o(m),m){const p=localStorage.getItem("impersonation_info");if(p)try{r(JSON.parse(p))}catch(v){console.error("Failed to parse impersonation info:",v)}}},[]);const d=()=>{ve.exitImpersonation(),localStorage.removeItem("impersonation_info"),o(!1),r(null),c("/edgvoip/dashboard")};return!i||!s?null:e.jsx("div",{className:"fixed top-0 left-0 right-0 z-50",children:e.jsxs(Fs,{className:"border-orange-200 bg-orange-50 text-orange-800 rounded-none",children:[e.jsx(Os,{className:"h-4 w-4"}),e.jsxs(zs,{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(kl,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:["Impersonating: ",s.originalUser.first_name," ",s.originalUser.last_name]}),e.jsxs("span",{className:"text-sm text-orange-600",children:["(",s.originalUser.email,")"]})]}),e.jsxs("div",{className:"text-sm text-orange-600",children:["Started: ",new Date(s.impersonatedAt).toLocaleTimeString()]})]}),e.jsxs(V,{size:"sm",variant:"outline",onClick:d,className:"border-orange-300 text-orange-800 hover:bg-orange-100",children:[e.jsx(mn,{className:"h-4 w-4 mr-2"}),"Exit Impersonation"]})]})]})})}var e1="Label",hx=h.forwardRef((s,r)=>e.jsx(De.label,{...s,ref:r,onMouseDown:i=>{i.target.closest("button, input, select, textarea")||(s.onMouseDown?.(i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));hx.displayName=e1;var px=hx;const t1=Ua("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Re=h.forwardRef(({className:s,...r},i)=>e.jsx(px,{ref:i,className:ke(t1(),s),...r}));Re.displayName=px.displayName;const n1=Ua("rounded-xl border transition-all duration-200",{variants:{variant:{default:"bg-card text-card-foreground shadow-sm",glass:"glass-card",glassDark:"backdrop-blur-sm bg-slate-900/60 dark:bg-slate-800/60 border-white/10 shadow-glass hover:shadow-glass-lg hover:-translate-y-0.5",elevated:"bg-card text-card-foreground shadow-lg hover:shadow-xl hover:-translate-y-1"}},defaultVariants:{variant:"default"}}),de=h.forwardRef(({className:s,variant:r,...i},o)=>e.jsx("div",{ref:o,className:ke(n1({variant:r}),s),...i}));de.displayName="Card";const Ne=h.forwardRef(({className:s,...r},i)=>e.jsx("div",{ref:i,className:ke("flex flex-col space-y-1.5 p-6",s),...r}));Ne.displayName="CardHeader";const be=h.forwardRef(({className:s,...r},i)=>e.jsx("h3",{ref:i,className:ke("text-2xl font-semibold leading-none tracking-tight",s),...r}));be.displayName="CardTitle";const Be=h.forwardRef(({className:s,...r},i)=>e.jsx("p",{ref:i,className:ke("text-sm text-muted-foreground",s),...r}));Be.displayName="CardDescription";const ue=h.forwardRef(({className:s,...r},i)=>e.jsx("div",{ref:i,className:ke("p-6 pt-0",s),...r}));ue.displayName="CardContent";const s1=h.forwardRef(({className:s,...r},i)=>e.jsx("div",{ref:i,className:ke("flex items-center p-6 pt-0",s),...r}));s1.displayName="CardFooter";function r1({tenantSlug:s}){const[r,i]=h.useState({username:"",password:""}),[o,c]=h.useState(!1),{login:d}=Ct(),{toast:m}=ys(),p=Ft(),v=async g=>{g.preventDefault(),c(!0);try{const w=await(await fetch(`/api/${s}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.username,password:r.password})})).json();if(w.success&&w.data?.token)await d(w.data.token),m({title:"Login successful",description:`Welcome to ${w.data.user.tenantSlug}`}),p(`/${s}/dashboard`);else throw new Error(w.error||"Login failed")}catch(f){m({title:"Login failed",description:f.message||"Invalid credentials. Please try again.",variant:"destructive"})}finally{c(!1)}},y=g=>{i(f=>({...f,[g.target.name]:g.target.value}))};return e.jsx("div",{className:`min-h-screen flex items-center justify-center 
                bg-gradient-to-br from-blue-600 via-blue-500 to-indigo-600
                bg-[length:400%_400%] animate-gradient py-12 px-4 sm:px-6 lg:px-8`,children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`mx-auto h-16 w-16 flex items-center justify-center rounded-full 
                        bg-white/20 backdrop-blur-sm border border-white/30 shadow-glass`,children:e.jsx(qe,{className:"h-8 w-8 text-white"})}),e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-white",children:"EDG VoIP System"}),e.jsx("p",{className:"mt-2 text-sm text-white/80",children:"Enterprise Multi-tenant VoIP Platform"})]}),e.jsxs(de,{variant:"glass",className:"p-8",children:[e.jsxs(Ne,{children:[e.jsx(be,{className:"text-center text-2xl font-bold",children:"Sign in to your account"}),e.jsx(Be,{className:"text-center",children:"Enter your credentials to access the VoIP management system"})]}),e.jsxs(ue,{children:[e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"username",className:"text-sm font-medium",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(kl,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(ee,{id:"username",name:"username",type:"text",required:!0,className:`glass-input pl-10 focus:ring-2 focus:ring-blue-500/50 
                              transition-all duration-200`,placeholder:"Enter your email",value:r.username,onChange:y,disabled:o})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(wp,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(ee,{id:"password",name:"password",type:"password",required:!0,className:`glass-input pl-10 focus:ring-2 focus:ring-blue-500/50 
                              transition-all duration-200`,placeholder:"Enter your password",value:r.password,onChange:y,disabled:o})]})]}),e.jsx(V,{type:"submit",variant:"gradient",className:"w-full hover:scale-[1.02] transition-all duration-200",disabled:o,children:o?"Signing in...":"Sign in"})]}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Demo credentials:"}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[s==="demo"&&e.jsx("div",{children:" Demo Tenant Admin: admin@demo.local / tenantadmin123"}),s==="edgvoip"&&e.jsx("div",{children:" Super Admin: admin@edgvoip.local / admin123"}),s!=="demo"&&s!=="edgvoip"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:" Tenant Admin: tenantadmin@edgvoip.local / tenantadmin123"}),e.jsx("div",{children:" Regular User: user@edgvoip.local / user123"})]})]})]})]})]})]})})}function a1(){const[s,r]=h.useState(""),[i,o]=h.useState(""),[c,d]=h.useState(!1),[m,p]=h.useState(""),v=Ft(),y=async g=>{g.preventDefault(),d(!0),p("");try{const f=await ve.post("/edgvoip/login",{email:s,password:i});if(f.success&&f.data?.token){if(localStorage.setItem("token",f.data.token),ve.setToken(f.data.token),f.data.user?.role!=="super_admin")throw new Error("Access denied. Super admin privileges required.");v("/edgvoip/dashboard")}else throw new Error(f.error||"Login failed")}catch(f){p(f.message||"Login failed")}finally{d(!1)}};return e.jsx("div",{className:`min-h-screen flex items-center justify-center 
                bg-gradient-to-br from-purple-600 via-purple-500 to-indigo-600
                bg-[length:400%_400%] animate-gradient p-4`,children:e.jsxs(de,{variant:"glass",className:"w-full max-w-md p-8",children:[e.jsxs(Ne,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-4 bg-white/20 backdrop-blur-sm rounded-full border border-white/30 shadow-glass",children:e.jsx(Os,{className:"h-10 w-10 text-white"})})}),e.jsx(be,{className:"text-2xl font-bold text-white",children:"Super Admin Login"}),e.jsx(Be,{className:"text-white/80",children:"Access the EDG VoIP Master Dashboard"})]}),e.jsxs(ue,{children:[e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[m&&e.jsx(Fs,{variant:"destructive",className:"glass-light",children:e.jsx(zs,{children:m})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"email",className:"text-sm font-medium text-white",children:"Email"}),e.jsx(ee,{id:"email",type:"email",placeholder:"admin@edgvoip.local",value:s,onChange:g=>r(g.target.value),required:!0,disabled:c,className:`glass-input focus:ring-2 focus:ring-purple-500/50 
                          transition-all duration-200`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"password",className:"text-sm font-medium text-white",children:"Password"}),e.jsx(ee,{id:"password",type:"password",placeholder:"Enter your password",value:i,onChange:g=>o(g.target.value),required:!0,disabled:c,className:`glass-input focus:ring-2 focus:ring-purple-500/50 
                          transition-all duration-200`})]}),e.jsx(V,{type:"submit",variant:"gradient",className:"w-full hover:scale-[1.02] transition-all duration-200",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(tw,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Os,{className:"mr-2 h-4 w-4"}),"Access Master Dashboard"]})})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-white/20",children:e.jsxs("div",{className:"text-center text-sm text-white/80",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(Pr,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"EDG VoIP Master Tenant"})]}),e.jsx("p",{children:"Cross-tenant management and analytics"})]})})]})]})})}function i1(){const[s,r]=h.useState(null),[i,o]=h.useState([]),[c,d]=h.useState(!0),[m,p]=h.useState(""),v=Ft();h.useEffect(()=>{y()},[]);const y=async()=>{try{d(!0);const[f,w]=await Promise.all([ve.getCrossTenantStats(),ve.getTenantStatsList()]);f.success&&r(f.data),w.success&&o(w.data)}catch(f){p(f.message||"Failed to load dashboard data")}finally{d(!1)}},g=f=>{switch(f){case"active":return e.jsx(he,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"});case"suspended":return e.jsx(he,{variant:"destructive",children:"Suspended"});case"pending":return e.jsx(he,{variant:"secondary",children:"Pending"});default:return e.jsx(he,{variant:"outline",children:f})}};return c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):m?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(de,{className:"w-full max-w-md",children:e.jsx(ue,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Xt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:m}),e.jsx(V,{onClick:y,variant:"outline",children:"Retry"})]})})})}):e.jsx("div",{children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cross-tenant Management Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Overview of all tenants and system statistics"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(de,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Total Tenants"}),e.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.total_tenants||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s?.active_tenants||0," active, ",s?.inactive_tenants||0," inactive"]})]})]}),e.jsxs(de,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(ot,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.total_users||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all tenants"})]})]}),e.jsxs(de,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Total Extensions"}),e.jsx(qe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.total_extensions||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"VoIP extensions configured"})]})]}),e.jsxs(de,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Calls (24h)"}),e.jsx(qs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.total_calls_24h||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx(Dd,{className:"h-3 w-3 inline mr-1"}),"Last 24 hours"]})]})]})]}),e.jsx("div",{className:"mb-8",children:e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsx(be,{children:"Quick Actions"}),e.jsx(Be,{children:"Common administrative tasks"})]}),e.jsx(ue,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(V,{className:"h-20 flex flex-col items-center justify-center",onClick:()=>v("/edgvoip/tenants?action=create"),children:[e.jsx(Ke,{className:"h-6 w-6 mb-2"}),e.jsx("span",{children:"Create New Tenant"})]}),e.jsxs(V,{variant:"outline",className:"h-20 flex flex-col items-center justify-center",onClick:()=>v("/edgvoip/tenants"),children:[e.jsx(xt,{className:"h-6 w-6 mb-2"}),e.jsx("span",{children:"View All Tenants"})]}),e.jsxs(V,{variant:"outline",className:"h-20 flex flex-col items-center justify-center",onClick:()=>v("/edgvoip/analytics"),children:[e.jsx(gl,{className:"h-6 w-6 mb-2"}),e.jsx("span",{children:"View Analytics"})]})]})})]})}),e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsx(be,{children:"Tenant Overview"}),e.jsx(Be,{children:"Summary of all tenants in the system"})]}),e.jsx(ue,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Tenant"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Users"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Extensions"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Companies"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Calls (24h)"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:i.map(f=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:f.tenant_name}),e.jsx("div",{className:"text-sm text-gray-500",children:f.tenant_slug})]})}),e.jsx("td",{className:"py-3 px-4",children:g(f.status)}),e.jsx("td",{className:"py-3 px-4",children:f.users_count}),e.jsx("td",{className:"py-3 px-4",children:f.extensions_count}),e.jsx("td",{className:"py-3 px-4",children:f.companies_count}),e.jsx("td",{className:"py-3 px-4",children:f.calls_24h}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>v(`/edgvoip/tenants/${f.tenant_id}`),children:[e.jsx(xt,{className:"h-3 w-3 mr-1"}),"View"]}),e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>v(`/edgvoip/tenants/${f.tenant_id}/users`),children:[e.jsx(ot,{className:"h-3 w-3 mr-1"}),"Users"]})]})})]},f.tenant_id))})]})})})]})]})})}var l1=Ed[" useId ".trim().toString()]||(()=>{}),o1=0;function us(s){const[r,i]=h.useState(l1());return bt(()=>{i(o=>o??String(o1++))},[s]),r?`radix-${r}`:""}var Hc="focusScope.autoFocusOnMount",qc="focusScope.autoFocusOnUnmount",Ah={bubbles:!1,cancelable:!0},c1="FocusScope",Vd=h.forwardRef((s,r)=>{const{loop:i=!1,trapped:o=!1,onMountAutoFocus:c,onUnmountAutoFocus:d,...m}=s,[p,v]=h.useState(null),y=Zt(c),g=Zt(d),f=h.useRef(null),w=Ye(r,j=>v(j)),T=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(o){let j=function(I){if(T.paused||!p)return;const E=I.target;p.contains(E)?f.current=E:os(f.current,{select:!0})},b=function(I){if(T.paused||!p)return;const E=I.relatedTarget;E!==null&&(p.contains(E)||os(f.current,{select:!0}))},_=function(I){if(document.activeElement===document.body)for(const B of I)B.removedNodes.length>0&&os(p)};document.addEventListener("focusin",j),document.addEventListener("focusout",b);const C=new MutationObserver(_);return p&&C.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",b),C.disconnect()}}},[o,p,T.paused]),h.useEffect(()=>{if(p){Dh.add(T);const j=document.activeElement;if(!p.contains(j)){const _=new CustomEvent(Hc,Ah);p.addEventListener(Hc,y),p.dispatchEvent(_),_.defaultPrevented||(d1(p1(xx(p)),{select:!0}),document.activeElement===j&&os(p))}return()=>{p.removeEventListener(Hc,y),setTimeout(()=>{const _=new CustomEvent(qc,Ah);p.addEventListener(qc,g),p.dispatchEvent(_),_.defaultPrevented||os(j??document.body,{select:!0}),p.removeEventListener(qc,g),Dh.remove(T)},0)}}},[p,y,g,T]);const R=h.useCallback(j=>{if(!i&&!o||T.paused)return;const b=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,_=document.activeElement;if(b&&_){const C=j.currentTarget,[I,E]=u1(C);I&&E?!j.shiftKey&&_===E?(j.preventDefault(),i&&os(I,{select:!0})):j.shiftKey&&_===I&&(j.preventDefault(),i&&os(E,{select:!0})):_===C&&j.preventDefault()}},[i,o,T.paused]);return e.jsx(De.div,{tabIndex:-1,...m,ref:w,onKeyDown:R})});Vd.displayName=c1;function d1(s,{select:r=!1}={}){const i=document.activeElement;for(const o of s)if(os(o,{select:r}),document.activeElement!==i)return}function u1(s){const r=xx(s),i=Lh(r,s),o=Lh(r.reverse(),s);return[i,o]}function xx(s){const r=[],i=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const c=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||c?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)r.push(i.currentNode);return r}function Lh(s,r){for(const i of s)if(!m1(i,{upTo:r}))return i}function m1(s,{upTo:r}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(r!==void 0&&s===r)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function f1(s){return s instanceof HTMLInputElement&&"select"in s}function os(s,{select:r=!1}={}){if(s&&s.focus){const i=document.activeElement;s.focus({preventScroll:!0}),s!==i&&f1(s)&&r&&s.select()}}var Dh=h1();function h1(){let s=[];return{add(r){const i=s[0];r!==i&&i?.pause(),s=Mh(s,r),s.unshift(r)},remove(r){s=Mh(s,r),s[0]?.resume()}}}function Mh(s,r){const i=[...s],o=i.indexOf(r);return o!==-1&&i.splice(o,1),i}function p1(s){return s.filter(r=>r.tagName!=="A")}var Gc=0;function gx(){h.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??Oh()),document.body.insertAdjacentElement("beforeend",s[1]??Oh()),Gc++,()=>{Gc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Gc--}},[])}function Oh(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var wn=function(){return wn=Object.assign||function(r){for(var i,o=1,c=arguments.length;o<c;o++){i=arguments[o];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(r[d]=i[d])}return r},wn.apply(this,arguments)};function vx(s,r){var i={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(i[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(s);c<o.length;c++)r.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(s,o[c])&&(i[o[c]]=s[o[c]]);return i}function x1(s,r,i){if(i||arguments.length===2)for(var o=0,c=r.length,d;o<c;o++)(d||!(o in r))&&(d||(d=Array.prototype.slice.call(r,0,o)),d[o]=r[o]);return s.concat(d||Array.prototype.slice.call(r))}var dl="right-scroll-bar-position",ul="width-before-scroll-bar",g1="with-scroll-bars-hidden",v1="--removed-body-scroll-bar-size";function Kc(s,r){return typeof s=="function"?s(r):s&&(s.current=r),s}function y1(s,r){var i=h.useState(function(){return{value:s,callback:r,facade:{get current(){return i.value},set current(o){var c=i.value;c!==o&&(i.value=o,i.callback(o,c))}}}})[0];return i.callback=r,i.facade}var j1=typeof window<"u"?h.useLayoutEffect:h.useEffect,Fh=new WeakMap;function w1(s,r){var i=y1(null,function(o){return s.forEach(function(c){return Kc(c,o)})});return j1(function(){var o=Fh.get(i);if(o){var c=new Set(o),d=new Set(s),m=i.current;c.forEach(function(p){d.has(p)||Kc(p,null)}),d.forEach(function(p){c.has(p)||Kc(p,m)})}Fh.set(i,s)},[s]),i}function N1(s){return s}function b1(s,r){r===void 0&&(r=N1);var i=[],o=!1,c={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:s},useMedium:function(d){var m=r(d,o);return i.push(m),function(){i=i.filter(function(p){return p!==m})}},assignSyncMedium:function(d){for(o=!0;i.length;){var m=i;i=[],m.forEach(d)}i={push:function(p){return d(p)},filter:function(){return i}}},assignMedium:function(d){o=!0;var m=[];if(i.length){var p=i;i=[],p.forEach(d),m=i}var v=function(){var g=m;m=[],g.forEach(d)},y=function(){return Promise.resolve().then(v)};y(),i={push:function(g){m.push(g),y()},filter:function(g){return m=m.filter(g),i}}}};return c}function S1(s){s===void 0&&(s={});var r=b1(null);return r.options=wn({async:!0,ssr:!1},s),r}var yx=function(s){var r=s.sideCar,i=vx(s,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=r.read();if(!o)throw new Error("Sidecar medium not found");return h.createElement(o,wn({},i))};yx.isSideCarExport=!0;function C1(s,r){return s.useMedium(r),yx}var jx=S1(),Qc=function(){},Pl=h.forwardRef(function(s,r){var i=h.useRef(null),o=h.useState({onScrollCapture:Qc,onWheelCapture:Qc,onTouchMoveCapture:Qc}),c=o[0],d=o[1],m=s.forwardProps,p=s.children,v=s.className,y=s.removeScrollBar,g=s.enabled,f=s.shards,w=s.sideCar,T=s.noRelative,R=s.noIsolation,j=s.inert,b=s.allowPinchZoom,_=s.as,C=_===void 0?"div":_,I=s.gapMode,E=vx(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=w,F=w1([i,r]),A=wn(wn({},E),c);return h.createElement(h.Fragment,null,g&&h.createElement(B,{sideCar:jx,removeScrollBar:y,shards:f,noRelative:T,noIsolation:R,inert:j,setCallbacks:d,allowPinchZoom:!!b,lockRef:i,gapMode:I}),m?h.cloneElement(h.Children.only(p),wn(wn({},A),{ref:F})):h.createElement(C,wn({},A,{className:v,ref:F}),p))});Pl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pl.classNames={fullWidth:ul,zeroRight:dl};var _1=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function k1(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var r=_1();return r&&s.setAttribute("nonce",r),s}function E1(s,r){s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}function T1(s){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(s)}var R1=function(){var s=0,r=null;return{add:function(i){s==0&&(r=k1())&&(E1(r,i),T1(r)),s++},remove:function(){s--,!s&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},P1=function(){var s=R1();return function(r,i){h.useEffect(function(){return s.add(r),function(){s.remove()}},[r&&i])}},wx=function(){var s=P1(),r=function(i){var o=i.styles,c=i.dynamic;return s(o,c),null};return r},I1={left:0,top:0,right:0,gap:0},Jc=function(s){return parseInt(s||"",10)||0},A1=function(s){var r=window.getComputedStyle(document.body),i=r[s==="padding"?"paddingLeft":"marginLeft"],o=r[s==="padding"?"paddingTop":"marginTop"],c=r[s==="padding"?"paddingRight":"marginRight"];return[Jc(i),Jc(o),Jc(c)]},L1=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return I1;var r=A1(s),i=document.documentElement.clientWidth,o=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,o-i+r[2]-r[0])}},D1=wx(),Er="data-scroll-locked",M1=function(s,r,i,o){var c=s.left,d=s.top,m=s.right,p=s.gap;return i===void 0&&(i="margin"),`
  .`.concat(g1,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(p,"px ").concat(o,`;
  }
  body[`).concat(Er,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(o,";"),i==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(m,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(o,`;
    `),i==="padding"&&"padding-right: ".concat(p,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dl,` {
    right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(ul,` {
    margin-right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(dl," .").concat(dl,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(ul," .").concat(ul,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Er,`] {
    `).concat(v1,": ").concat(p,`px;
  }
`)},zh=function(){var s=parseInt(document.body.getAttribute(Er)||"0",10);return isFinite(s)?s:0},O1=function(){h.useEffect(function(){return document.body.setAttribute(Er,(zh()+1).toString()),function(){var s=zh()-1;s<=0?document.body.removeAttribute(Er):document.body.setAttribute(Er,s.toString())}},[])},F1=function(s){var r=s.noRelative,i=s.noImportant,o=s.gapMode,c=o===void 0?"margin":o;O1();var d=h.useMemo(function(){return L1(c)},[c]);return h.createElement(D1,{styles:M1(d,!r,c,i?"":"!important")})},pd=!1;if(typeof window<"u")try{var tl=Object.defineProperty({},"passive",{get:function(){return pd=!0,!0}});window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{pd=!1}var Nr=pd?{passive:!1}:!1,z1=function(s){return s.tagName==="TEXTAREA"},Nx=function(s,r){if(!(s instanceof Element))return!1;var i=window.getComputedStyle(s);return i[r]!=="hidden"&&!(i.overflowY===i.overflowX&&!z1(s)&&i[r]==="visible")},$1=function(s){return Nx(s,"overflowY")},U1=function(s){return Nx(s,"overflowX")},$h=function(s,r){var i=r.ownerDocument,o=r;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var c=bx(s,o);if(c){var d=Sx(s,o),m=d[1],p=d[2];if(m>p)return!0}o=o.parentNode}while(o&&o!==i.body);return!1},V1=function(s){var r=s.scrollTop,i=s.scrollHeight,o=s.clientHeight;return[r,i,o]},B1=function(s){var r=s.scrollLeft,i=s.scrollWidth,o=s.clientWidth;return[r,i,o]},bx=function(s,r){return s==="v"?$1(r):U1(r)},Sx=function(s,r){return s==="v"?V1(r):B1(r)},W1=function(s,r){return s==="h"&&r==="rtl"?-1:1},H1=function(s,r,i,o,c){var d=W1(s,window.getComputedStyle(r).direction),m=d*o,p=i.target,v=r.contains(p),y=!1,g=m>0,f=0,w=0;do{if(!p)break;var T=Sx(s,p),R=T[0],j=T[1],b=T[2],_=j-b-d*R;(R||_)&&bx(s,p)&&(f+=_,w+=R);var C=p.parentNode;p=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!v&&p!==document.body||v&&(r.contains(p)||r===p));return(g&&Math.abs(f)<1||!g&&Math.abs(w)<1)&&(y=!0),y},nl=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},Uh=function(s){return[s.deltaX,s.deltaY]},Vh=function(s){return s&&"current"in s?s.current:s},q1=function(s,r){return s[0]===r[0]&&s[1]===r[1]},G1=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},K1=0,br=[];function Q1(s){var r=h.useRef([]),i=h.useRef([0,0]),o=h.useRef(),c=h.useState(K1++)[0],d=h.useState(wx)[0],m=h.useRef(s);h.useEffect(function(){m.current=s},[s]),h.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(c));var j=x1([s.lockRef.current],(s.shards||[]).map(Vh),!0).filter(Boolean);return j.forEach(function(b){return b.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),j.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(c))})}}},[s.inert,s.lockRef.current,s.shards]);var p=h.useCallback(function(j,b){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!m.current.allowPinchZoom;var _=nl(j),C=i.current,I="deltaX"in j?j.deltaX:C[0]-_[0],E="deltaY"in j?j.deltaY:C[1]-_[1],B,F=j.target,A=Math.abs(I)>Math.abs(E)?"h":"v";if("touches"in j&&A==="h"&&F.type==="range")return!1;var L=$h(A,F);if(!L)return!0;if(L?B=A:(B=A==="v"?"h":"v",L=$h(A,F)),!L)return!1;if(!o.current&&"changedTouches"in j&&(I||E)&&(o.current=B),!B)return!0;var M=o.current||B;return H1(M,b,j,M==="h"?I:E)},[]),v=h.useCallback(function(j){var b=j;if(!(!br.length||br[br.length-1]!==d)){var _="deltaY"in b?Uh(b):nl(b),C=r.current.filter(function(B){return B.name===b.type&&(B.target===b.target||b.target===B.shadowParent)&&q1(B.delta,_)})[0];if(C&&C.should){b.cancelable&&b.preventDefault();return}if(!C){var I=(m.current.shards||[]).map(Vh).filter(Boolean).filter(function(B){return B.contains(b.target)}),E=I.length>0?p(b,I[0]):!m.current.noIsolation;E&&b.cancelable&&b.preventDefault()}}},[]),y=h.useCallback(function(j,b,_,C){var I={name:j,delta:b,target:_,should:C,shadowParent:J1(_)};r.current.push(I),setTimeout(function(){r.current=r.current.filter(function(E){return E!==I})},1)},[]),g=h.useCallback(function(j){i.current=nl(j),o.current=void 0},[]),f=h.useCallback(function(j){y(j.type,Uh(j),j.target,p(j,s.lockRef.current))},[]),w=h.useCallback(function(j){y(j.type,nl(j),j.target,p(j,s.lockRef.current))},[]);h.useEffect(function(){return br.push(d),s.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:w}),document.addEventListener("wheel",v,Nr),document.addEventListener("touchmove",v,Nr),document.addEventListener("touchstart",g,Nr),function(){br=br.filter(function(j){return j!==d}),document.removeEventListener("wheel",v,Nr),document.removeEventListener("touchmove",v,Nr),document.removeEventListener("touchstart",g,Nr)}},[]);var T=s.removeScrollBar,R=s.inert;return h.createElement(h.Fragment,null,R?h.createElement(d,{styles:G1(c)}):null,T?h.createElement(F1,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function J1(s){for(var r=null;s!==null;)s instanceof ShadowRoot&&(r=s.host,s=s.host),s=s.parentNode;return r}const Y1=C1(jx,Q1);var Bd=h.forwardRef(function(s,r){return h.createElement(Pl,wn({},s,{ref:r,sideCar:Y1}))});Bd.classNames=Pl.classNames;var X1=function(s){if(typeof document>"u")return null;var r=Array.isArray(s)?s[0]:s;return r.ownerDocument.body},Sr=new WeakMap,sl=new WeakMap,rl={},Yc=0,Cx=function(s){return s&&(s.host||Cx(s.parentNode))},Z1=function(s,r){return r.map(function(i){if(s.contains(i))return i;var o=Cx(i);return o&&s.contains(o)?o:(console.error("aria-hidden",i,"in not contained inside",s,". Doing nothing"),null)}).filter(function(i){return!!i})},eb=function(s,r,i,o){var c=Z1(r,Array.isArray(s)?s:[s]);rl[i]||(rl[i]=new WeakMap);var d=rl[i],m=[],p=new Set,v=new Set(c),y=function(f){!f||p.has(f)||(p.add(f),y(f.parentNode))};c.forEach(y);var g=function(f){!f||v.has(f)||Array.prototype.forEach.call(f.children,function(w){if(p.has(w))g(w);else try{var T=w.getAttribute(o),R=T!==null&&T!=="false",j=(Sr.get(w)||0)+1,b=(d.get(w)||0)+1;Sr.set(w,j),d.set(w,b),m.push(w),j===1&&R&&sl.set(w,!0),b===1&&w.setAttribute(i,"true"),R||w.setAttribute(o,"true")}catch(_){console.error("aria-hidden: cannot operate on ",w,_)}})};return g(r),p.clear(),Yc++,function(){m.forEach(function(f){var w=Sr.get(f)-1,T=d.get(f)-1;Sr.set(f,w),d.set(f,T),w||(sl.has(f)||f.removeAttribute(o),sl.delete(f)),T||f.removeAttribute(i)}),Yc--,Yc||(Sr=new WeakMap,Sr=new WeakMap,sl=new WeakMap,rl={})}},_x=function(s,r,i){i===void 0&&(i="data-aria-hidden");var o=Array.from(Array.isArray(s)?s:[s]),c=X1(s);return c?(o.push.apply(o,Array.from(c.querySelectorAll("[aria-live], script"))),eb(o,c,i,"aria-hidden")):function(){return null}},Il="Dialog",[kx]=zn(Il),[tb,pn]=kx(Il),Ex=s=>{const{__scopeDialog:r,children:i,open:o,defaultOpen:c,onOpenChange:d,modal:m=!0}=s,p=h.useRef(null),v=h.useRef(null),[y,g]=ps({prop:o,defaultProp:c??!1,onChange:d,caller:Il});return e.jsx(tb,{scope:r,triggerRef:p,contentRef:v,contentId:us(),titleId:us(),descriptionId:us(),open:y,onOpenChange:g,onOpenToggle:h.useCallback(()=>g(f=>!f),[g]),modal:m,children:i})};Ex.displayName=Il;var Tx="DialogTrigger",nb=h.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,c=pn(Tx,i),d=Ye(r,c.triggerRef);return e.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":qd(c.open),...o,ref:d,onClick:Le(s.onClick,c.onOpenToggle)})});nb.displayName=Tx;var Wd="DialogPortal",[sb,Rx]=kx(Wd,{forceMount:void 0}),Px=s=>{const{__scopeDialog:r,forceMount:i,children:o,container:c}=s,d=pn(Wd,r);return e.jsx(sb,{scope:r,forceMount:i,children:h.Children.map(o,m=>e.jsx(Gs,{present:i||d.open,children:e.jsx(Tl,{asChild:!0,container:c,children:m})}))})};Px.displayName=Wd;var vl="DialogOverlay",Ix=h.forwardRef((s,r)=>{const i=Rx(vl,s.__scopeDialog),{forceMount:o=i.forceMount,...c}=s,d=pn(vl,s.__scopeDialog);return d.modal?e.jsx(Gs,{present:o||d.open,children:e.jsx(ab,{...c,ref:r})}):null});Ix.displayName=vl;var rb=Ir("DialogOverlay.RemoveScroll"),ab=h.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,c=pn(vl,i);return e.jsx(Bd,{as:rb,allowPinchZoom:!0,shards:[c.contentRef],children:e.jsx(De.div,{"data-state":qd(c.open),...o,ref:r,style:{pointerEvents:"auto",...o.style}})})}),$s="DialogContent",Ax=h.forwardRef((s,r)=>{const i=Rx($s,s.__scopeDialog),{forceMount:o=i.forceMount,...c}=s,d=pn($s,s.__scopeDialog);return e.jsx(Gs,{present:o||d.open,children:d.modal?e.jsx(ib,{...c,ref:r}):e.jsx(lb,{...c,ref:r})})});Ax.displayName=$s;var ib=h.forwardRef((s,r)=>{const i=pn($s,s.__scopeDialog),o=h.useRef(null),c=Ye(r,i.contentRef,o);return h.useEffect(()=>{const d=o.current;if(d)return _x(d)},[]),e.jsx(Lx,{...s,ref:c,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(s.onCloseAutoFocus,d=>{d.preventDefault(),i.triggerRef.current?.focus()}),onPointerDownOutside:Le(s.onPointerDownOutside,d=>{const m=d.detail.originalEvent,p=m.button===0&&m.ctrlKey===!0;(m.button===2||p)&&d.preventDefault()}),onFocusOutside:Le(s.onFocusOutside,d=>d.preventDefault())})}),lb=h.forwardRef((s,r)=>{const i=pn($s,s.__scopeDialog),o=h.useRef(!1),c=h.useRef(!1);return e.jsx(Lx,{...s,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{s.onCloseAutoFocus?.(d),d.defaultPrevented||(o.current||i.triggerRef.current?.focus(),d.preventDefault()),o.current=!1,c.current=!1},onInteractOutside:d=>{s.onInteractOutside?.(d),d.defaultPrevented||(o.current=!0,d.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const m=d.target;i.triggerRef.current?.contains(m)&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&c.current&&d.preventDefault()}})}),Lx=h.forwardRef((s,r)=>{const{__scopeDialog:i,trapFocus:o,onOpenAutoFocus:c,onCloseAutoFocus:d,...m}=s,p=pn($s,i),v=h.useRef(null),y=Ye(r,v);return gx(),e.jsxs(e.Fragment,{children:[e.jsx(Vd,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:c,onUnmountAutoFocus:d,children:e.jsx(El,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":qd(p.open),...m,ref:y,onDismiss:()=>p.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(ob,{titleId:p.titleId}),e.jsx(db,{contentRef:v,descriptionId:p.descriptionId})]})]})}),Hd="DialogTitle",Dx=h.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,c=pn(Hd,i);return e.jsx(De.h2,{id:c.titleId,...o,ref:r})});Dx.displayName=Hd;var Mx="DialogDescription",Ox=h.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,c=pn(Mx,i);return e.jsx(De.p,{id:c.descriptionId,...o,ref:r})});Ox.displayName=Mx;var Fx="DialogClose",zx=h.forwardRef((s,r)=>{const{__scopeDialog:i,...o}=s,c=pn(Fx,i);return e.jsx(De.button,{type:"button",...o,ref:r,onClick:Le(s.onClick,()=>c.onOpenChange(!1))})});zx.displayName=Fx;function qd(s){return s?"open":"closed"}var $x="DialogTitleWarning",[mC,Ux]=hw($x,{contentName:$s,titleName:Hd,docsSlug:"dialog"}),ob=({titleId:s})=>{const r=Ux($x),i=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return h.useEffect(()=>{s&&(document.getElementById(s)||console.error(i))},[i,s]),null},cb="DialogDescriptionWarning",db=({contentRef:s,descriptionId:r})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ux(cb).contentName}}.`;return h.useEffect(()=>{const c=s.current?.getAttribute("aria-describedby");r&&c&&(document.getElementById(r)||console.warn(o))},[o,s,r]),null},ub=Ex,mb=Px,Vx=Ix,Bx=Ax,Wx=Dx,Hx=Ox,fb=zx;const qx=ub,hb=mb,Gx=h.forwardRef(({className:s,...r},i)=>e.jsx(Vx,{ref:i,className:ke("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r}));Gx.displayName=Vx.displayName;const Gd=h.forwardRef(({className:s,children:r,...i},o)=>e.jsxs(hb,{children:[e.jsx(Gx,{}),e.jsxs(Bx,{ref:o,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...i,children:[r,e.jsxs(fb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(mn,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gd.displayName=Bx.displayName;const Kd=({className:s,...r})=>e.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",s),...r});Kd.displayName="DialogHeader";const Qd=({className:s,...r})=>e.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...r});Qd.displayName="DialogFooter";const Jd=h.forwardRef(({className:s,...r},i)=>e.jsx(Wx,{ref:i,className:ke("text-lg font-semibold leading-none tracking-tight",s),...r}));Jd.displayName=Wx.displayName;const Yd=h.forwardRef(({className:s,...r},i)=>e.jsx(Hx,{ref:i,className:ke("text-sm text-muted-foreground",s),...r}));Yd.displayName=Hx.displayName;function Bh(){const s=Ft(),[r,i]=h.useState([]),[o,c]=h.useState(!0),[d,m]=h.useState(""),[p,v]=h.useState(""),[y,g]=h.useState(!1),[f,w]=h.useState(null);h.useEffect(()=>{T()},[]);const T=async()=>{try{c(!0);const C=await ve.getTenants();i(C.data?.tenants||[])}catch(C){m(C.message||"Failed to load tenants")}finally{c(!1)}},R=async C=>{try{const I=await ve.getTenantWithDetails(C.id);w(I.data),g(!0)}catch(I){m(I.message||"Failed to load tenant details")}},j=async C=>{if(confirm("Are you sure you want to delete this tenant?"))try{await ve.deleteTenant(C),await T()}catch(I){m(I.message||"Failed to delete tenant")}},b=r.filter(C=>C.name.toLowerCase().includes(p.toLowerCase())||C.domain.toLowerCase().includes(p.toLowerCase())||C.sip_domain.toLowerCase().includes(p.toLowerCase())),_=C=>{switch(C){case"active":return e.jsxs(he,{className:"bg-green-100 text-green-800",children:[e.jsx(ll,{className:"h-3 w-3 mr-1"}),"Active"]});case"suspended":return e.jsxs(he,{className:"bg-red-100 text-red-800",children:[e.jsx(_r,{className:"h-3 w-3 mr-1"}),"Suspended"]});case"pending":return e.jsxs(he,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(Xt,{className:"h-3 w-3 mr-1"}),"Pending"]});default:return e.jsx(he,{variant:"secondary",children:C})}};return o?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tenant Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage all tenants in the system"})]}),e.jsxs(V,{onClick:()=>s("/edgvoip/tenants/create"),children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Create Tenant"]})]}),d&&e.jsxs(Fs,{variant:"destructive",className:"mb-6",children:[e.jsx(Xt,{className:"h-4 w-4"}),e.jsx(zs,{children:d})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ee,{placeholder:"Search tenants...",value:p,onChange:C=>v(C.target.value),className:"pl-10"})]})}),e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsx(be,{children:"All Tenants"}),e.jsx(Be,{children:"Manage tenant configurations and access"})]}),e.jsx(ue,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Domain"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"SIP Domain"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Created"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),e.jsx("tbody",{children:b.map(C=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsxs("td",{className:"py-3 px-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:C.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Slug: ",C.slug]})]}),e.jsx("td",{className:"py-3 px-4 text-gray-900",children:C.domain}),e.jsx("td",{className:"py-3 px-4 text-gray-900",children:C.sip_domain}),e.jsx("td",{className:"py-3 px-4",children:_(C.status)}),e.jsx("td",{className:"py-3 px-4 text-gray-500",children:new Date(C.created_at).toLocaleDateString()}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(V,{variant:"outline",size:"sm",onClick:()=>R(C),children:e.jsx(xt,{className:"h-4 w-4"})}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>s(`/edgvoip/tenants/${C.id}/users`),children:e.jsx(ot,{className:"h-4 w-4"})}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>j(C.id),className:"text-red-600 hover:text-red-700",children:e.jsx(jt,{className:"h-4 w-4"})})]})})]},C.id))})]})})})]})]}),e.jsx(qx,{open:y,onOpenChange:g,children:e.jsxs(Gd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Kd,{children:[e.jsx(Jd,{children:"Tenant Details"}),e.jsx(Yd,{children:"Complete information about the selected tenant"})]}),f&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Ne,{children:e.jsx(be,{children:"Basic Information"})}),e.jsx(ue,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),e.jsx("p",{className:"text-gray-900",children:f.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Slug"}),e.jsx("p",{className:"text-gray-900",children:f.slug})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Domain"}),e.jsx("p",{className:"text-gray-900",children:f.domain})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"SIP Domain"}),e.jsx("p",{className:"text-gray-900",children:f.sip_domain})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsx("div",{className:"mt-1",children:_(f.status)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created"}),e.jsx("p",{className:"text-gray-900",children:new Date(f.created_at).toLocaleString()})]})]})})]}),f.companies&&f.companies.length>0&&e.jsxs(de,{children:[e.jsx(Ne,{children:e.jsx(be,{children:"Companies"})}),e.jsx(ue,{children:e.jsx("div",{className:"space-y-4",children:f.companies.map(C=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:C.legal_name}),C.is_primary&&e.jsx(he,{variant:"secondary",children:"Primary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[C.vat_number&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"VAT:"})," ",C.vat_number]}),C.address&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Address:"})," ",C.address]}),C.city&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"City:"})," ",C.city]})]})]},C.id))})})]}),f.contacts&&f.contacts.length>0&&e.jsxs(de,{children:[e.jsx(Ne,{children:e.jsx(be,{children:"Contacts"})}),e.jsx(ue,{children:e.jsx("div",{className:"space-y-4",children:f.contacts.map(C=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:[C.first_name," ",C.last_name]}),C.is_primary&&e.jsx(he,{variant:"secondary",children:"Primary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[C.role&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Role:"})," ",C.role]}),C.email&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Email:"})," ",C.email]}),C.phone&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Phone:"})," ",C.phone]})]})]},C.id))})})]})]}),e.jsx(Qd,{children:e.jsx(V,{variant:"outline",onClick:()=>g(!1),children:"Close"})})]})})]})}function Wh(){const[s,r]=h.useState([]),[i,o]=h.useState(!0),[c,d]=h.useState(""),[m,p]=h.useState(""),[v,y]=h.useState("all"),[g,f]=h.useState(!1),[w,T]=h.useState(null),[R,j]=h.useState(!1),b=Ft(),{tenantId:_}=up();h.useEffect(()=>{C()},[_]);const C=async()=>{try{o(!0);const M=await ve.getCrossTenantUsers();if(M.success)r(M.data||[]);else throw new Error(M.error||"Failed to load users")}catch(M){d(M.message||"Failed to load users")}finally{o(!1)}},I=async M=>{T(M),f(!0)},E=async()=>{if(w)try{j(!0);const M=await ve.impersonateUser(w.tenant_id,w.id);if(M.success&&M.data?.token)ve.startImpersonation(M.data.token),localStorage.setItem("impersonation_info",JSON.stringify({originalUser:w,impersonatedAt:new Date().toISOString()})),b(`/${w.tenant_slug}/dashboard`);else throw new Error(M.error||"Failed to impersonate user")}catch(M){d(M.message||"Failed to impersonate user")}finally{j(!1),f(!1)}},B=M=>{switch(M){case"super_admin":return e.jsx(he,{variant:"default",className:"bg-purple-100 text-purple-800",children:"Super Admin"});case"tenant_admin":return e.jsx(he,{variant:"default",className:"bg-blue-100 text-blue-800",children:"Tenant Admin"});case"user":return e.jsx(he,{variant:"secondary",children:"User"});default:return e.jsx(he,{variant:"outline",children:M})}},F=M=>{switch(M){case"active":return e.jsx(he,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"});case"inactive":return e.jsx(he,{variant:"destructive",children:"Inactive"});case"suspended":return e.jsx(he,{variant:"destructive",children:"Suspended"});default:return e.jsx(he,{variant:"outline",children:M})}},A=s.filter(M=>{const Y=M.email.toLowerCase().includes(m.toLowerCase())||M.first_name.toLowerCase().includes(m.toLowerCase())||M.last_name.toLowerCase().includes(m.toLowerCase())||M.tenant_name.toLowerCase().includes(m.toLowerCase()),$=v==="all"||M.tenant_id===v;return Y&&$}),L=Array.from(new Set(s.map(M=>M.tenant_id))).map(M=>s.find(Y=>Y.tenant_id===M)).filter(Boolean);return i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})}):e.jsxs("div",{children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage users across all tenants"})]}),c&&e.jsxs(Fs,{variant:"destructive",className:"mb-6",children:[e.jsx(Xt,{className:"h-4 w-4"}),e.jsx(zs,{children:c})]}),e.jsx(de,{className:"mb-6",children:e.jsx(ue,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ee,{placeholder:"Search users by name, email, or tenant...",value:m,onChange:M=>p(M.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"w-64",children:[e.jsx(Re,{htmlFor:"tenant-filter",children:"Filter by Tenant"}),e.jsxs("select",{id:"tenant-filter",value:v,onChange:M=>y(M.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Tenants"}),L.map(M=>e.jsx("option",{value:M.tenant_id,children:M.tenant_name},M.tenant_id))]})]})]})})}),e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsxs(be,{children:["All Users (",A.length,")"]}),e.jsx(Be,{children:"Manage user accounts and permissions across tenants"})]}),e.jsx(ue,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"User"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Role"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Tenant"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Last Login"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:A.map(M=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[M.first_name," ",M.last_name]}),e.jsx("div",{className:"text-sm text-gray-500",children:M.email})]})}),e.jsx("td",{className:"py-3 px-4",children:B(M.role)}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:M.tenant_name}),e.jsx("div",{className:"text-sm text-gray-500",children:M.tenant_slug})]})}),e.jsx("td",{className:"py-3 px-4",children:F(M.status)}),e.jsx("td",{className:"py-3 px-4",children:M.last_login?e.jsxs("div",{children:[e.jsx("div",{className:"text-sm",children:new Date(M.last_login).toLocaleDateString()}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(M.last_login).toLocaleTimeString()})]}):e.jsx("span",{className:"text-gray-400",children:"Never"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[M.role!=="super_admin"&&e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>I(M),children:[e.jsx(cw,{className:"h-3 w-3 mr-1"}),"Impersonate"]}),e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>b(`/edgvoip/users/${M.id}/edit`),children:[e.jsx(en,{className:"h-3 w-3 mr-1"}),"Edit"]}),M.role!=="super_admin"&&e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>{confirm("Are you sure you want to delete this user?")},children:[e.jsx(jt,{className:"h-3 w-3 mr-1"}),"Delete"]})]})})]},M.id))})]})})})]})]}),e.jsx(qx,{open:g,onOpenChange:f,children:e.jsxs(Gd,{children:[e.jsxs(Kd,{children:[e.jsx(Jd,{children:"Confirm Impersonation"}),e.jsx(Yd,{children:"You are about to impersonate this user. This will log you in as them and give you access to their tenant."})]}),w&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(Os,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium",children:[w.first_name," ",w.last_name]}),e.jsx("p",{className:"text-sm text-gray-500",children:w.email})]})]}),e.jsxs("div",{className:"mt-3 flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pr,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:w.tenant_name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ot,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:B(w.role)})]})]})]}),e.jsxs(Fs,{children:[e.jsx(Xt,{className:"h-4 w-4"}),e.jsx(zs,{children:"You will be redirected to their tenant dashboard. You can exit impersonation at any time using the banner at the top of the page."})]})]}),e.jsxs(Qd,{children:[e.jsx(V,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e.jsx(V,{onClick:E,disabled:R,className:"bg-orange-600 hover:bg-orange-700",children:R?"Impersonating...":"Confirm Impersonation"})]})]})})]})}function pb(){const[s,r]=h.useState(null),[i,o]=h.useState([]),[c,d]=h.useState([]),[m,p]=h.useState([]),[v,y]=h.useState(!0),[g,f]=h.useState(""),[w,T]=h.useState({start_date:new Date(Date.now()-10080*60*1e3).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]}),[R,j]=h.useState("all"),[b,_]=h.useState("24h");Ft(),h.useEffect(()=>{C()},[w,R,b]);const C=async()=>{try{y(!0);const[F,A,L,M]=await Promise.all([ve.getCrossTenantSummary({period:b}),ve.getCrossTenantCalls({start_date:w.start_date,end_date:w.end_date,tenant_id:R==="all"?void 0:R,limit:100}),ve.getCrossTenantExtensions(),ve.getCrossTenantUsers()]);F.success&&r(F.data),A.success&&o(A.data||[]),L.success&&d(L.data||[]),M.success&&p(M.data||[])}catch(F){f(F.message||"Failed to load analytics data")}finally{y(!1)}},I=F=>{const A=Math.floor(F/3600),L=Math.floor(F%3600/60),M=F%60;return A>0?`${A}h ${L}m ${M}s`:L>0?`${L}m ${M}s`:`${M}s`},E=F=>{switch(F){case"ANSWERED":return e.jsx(he,{variant:"default",className:"bg-green-100 text-green-800",children:"Answered"});case"NO ANSWER":return e.jsx(he,{variant:"secondary",children:"No Answer"});case"BUSY":return e.jsx(he,{variant:"destructive",children:"Busy"});case"FAILED":return e.jsx(he,{variant:"destructive",children:"Failed"});default:return e.jsx(he,{variant:"outline",children:F})}},B=F=>{console.log(`Exporting data as ${F}`)};return v?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})}):e.jsx("div",{children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cross-Tenant Analytics"}),e.jsx("p",{className:"text-gray-600",children:"System-wide statistics and insights"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>B("csv"),children:[e.jsx(Ma,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>B("json"),children:[e.jsx(Ma,{className:"h-4 w-4 mr-2"}),"Export JSON"]})]})]}),g&&e.jsxs(Fs,{variant:"destructive",className:"mb-6",children:[e.jsx(Xt,{className:"h-4 w-4"}),e.jsx(zs,{children:g})]}),e.jsxs(de,{className:"mb-6",children:[e.jsx(Ne,{children:e.jsxs(be,{className:"flex items-center",children:[e.jsx(vp,{className:"h-5 w-5 mr-2"}),"Filters"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"period",children:"Time Period"}),e.jsxs("select",{id:"period",value:b,onChange:F=>_(F.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"1h",children:"Last Hour"}),e.jsx("option",{value:"24h",children:"Last 24 Hours"}),e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"})]})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"start_date",children:"Start Date"}),e.jsx(ee,{id:"start_date",type:"date",value:w.start_date,onChange:F=>T(A=>({...A,start_date:F.target.value}))})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"end_date",children:"End Date"}),e.jsx(ee,{id:"end_date",type:"date",value:w.end_date,onChange:F=>T(A=>({...A,end_date:F.target.value}))})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"tenant",children:"Tenant"}),e.jsxs("select",{id:"tenant",value:R,onChange:F=>j(F.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Tenants"}),c.map(F=>e.jsx("option",{value:F.tenant_id,children:F.tenant_name},F.tenant_id))]})]})]})})]}),s&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(de,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Total Calls"}),e.jsx(qe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.total_calls}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.active_calls," active"]})]})]}),e.jsxs(de,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(ot,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.total_users}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Across ",s.total_tenants," tenants"]})]})]}),e.jsxs(de,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Total Extensions"}),e.jsx(qs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.total_extensions}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"VoIP extensions"})]})]}),e.jsxs(de,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Avg Call Duration"}),e.jsx(Dd,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:I(Math.round(s.avg_call_duration||0))}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Total: ",I(Math.round(s.total_call_duration||0))]})]})]})]}),e.jsxs(de,{className:"mb-6",children:[e.jsxs(Ne,{children:[e.jsx(be,{children:"Extensions by Tenant"}),e.jsx(Be,{children:"Extension distribution across all tenants"})]}),e.jsx(ue,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Tenant"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Total Extensions"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Active"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Inactive"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"})]})}),e.jsx("tbody",{children:c.map(F=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:F.tenant_name}),e.jsx("div",{className:"text-sm text-gray-500",children:F.tenant_slug})]})}),e.jsx("td",{className:"py-3 px-4 font-medium",children:F.extensions_count}),e.jsx("td",{className:"py-3 px-4 text-green-600",children:F.active_extensions}),e.jsx("td",{className:"py-3 px-4 text-red-600",children:F.inactive_extensions}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(he,{variant:F.tenant_status==="active"?"default":"secondary",children:F.tenant_status})})]},F.tenant_id))})]})})})]}),e.jsxs(de,{className:"mb-6",children:[e.jsxs(Ne,{children:[e.jsx(be,{children:"Users by Tenant"}),e.jsx(Be,{children:"User distribution and roles across all tenants"})]}),e.jsx(ue,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Tenant"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Total Users"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Active"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Admins"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Regular Users"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Last Login"})]})}),e.jsx("tbody",{children:m.map(F=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:F.tenant_name}),e.jsx("div",{className:"text-sm text-gray-500",children:F.tenant_slug})]})}),e.jsx("td",{className:"py-3 px-4 font-medium",children:F.users_count}),e.jsx("td",{className:"py-3 px-4 text-green-600",children:F.active_users}),e.jsx("td",{className:"py-3 px-4 text-blue-600",children:F.admin_users}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:F.regular_users}),e.jsx("td",{className:"py-3 px-4",children:F.last_login?e.jsxs("div",{children:[e.jsx("div",{className:"text-sm",children:new Date(F.last_login).toLocaleDateString()}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(F.last_login).toLocaleTimeString()})]}):e.jsx("span",{className:"text-gray-400",children:"Never"})})]},F.tenant_id))})]})})})]}),e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsx(be,{children:"Recent Calls"}),e.jsx(Be,{children:"Latest call activity across all tenants"})]}),e.jsx(ue,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Tenant"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Caller"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Callee"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Start Time"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Duration"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"User"})]})}),e.jsx("tbody",{children:i.map(F=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:F.tenant_name}),e.jsx("div",{className:"text-sm text-gray-500",children:F.tenant_slug})]})}),e.jsx("td",{className:"py-3 px-4",children:F.caller_number}),e.jsx("td",{className:"py-3 px-4",children:F.callee_number}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm",children:new Date(F.start_time).toLocaleDateString()}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(F.start_time).toLocaleTimeString()})]})}),e.jsx("td",{className:"py-3 px-4",children:I(F.duration)}),e.jsx("td",{className:"py-3 px-4",children:E(F.disposition)}),e.jsx("td",{className:"py-3 px-4",children:F.user_email?e.jsx("span",{className:"text-sm text-gray-600",children:F.user_email}):e.jsx("span",{className:"text-gray-400",children:"-"})})]},F.id))})]})})})]})]})})}const Ks=h.forwardRef(({className:s,...r},i)=>e.jsx("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:i,...r}));Ks.displayName="Textarea";function Xd(s){const r=h.useRef({value:s,previous:s});return h.useMemo(()=>(r.current.value!==s&&(r.current.previous=r.current.value,r.current.value=s),r.current.previous),[s])}function Zd(s){const[r,i]=h.useState(void 0);return bt(()=>{if(s){i({width:s.offsetWidth,height:s.offsetHeight});const o=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const d=c[0];let m,p;if("borderBoxSize"in d){const v=d.borderBoxSize,y=Array.isArray(v)?v[0]:v;m=y.inlineSize,p=y.blockSize}else m=s.offsetWidth,p=s.offsetHeight;i({width:m,height:p})});return o.observe(s,{box:"border-box"}),()=>o.unobserve(s)}else i(void 0)},[s]),r}var Al="Switch",[xb]=zn(Al),[gb,vb]=xb(Al),Kx=h.forwardRef((s,r)=>{const{__scopeSwitch:i,name:o,checked:c,defaultChecked:d,required:m,disabled:p,value:v="on",onCheckedChange:y,form:g,...f}=s,[w,T]=h.useState(null),R=Ye(r,I=>T(I)),j=h.useRef(!1),b=w?g||!!w.closest("form"):!0,[_,C]=ps({prop:c,defaultProp:d??!1,onChange:y,caller:Al});return e.jsxs(gb,{scope:i,checked:_,disabled:p,children:[e.jsx(De.button,{type:"button",role:"switch","aria-checked":_,"aria-required":m,"data-state":Xx(_),"data-disabled":p?"":void 0,disabled:p,value:v,...f,ref:R,onClick:Le(s.onClick,I=>{C(E=>!E),b&&(j.current=I.isPropagationStopped(),j.current||I.stopPropagation())})}),b&&e.jsx(Yx,{control:w,bubbles:!j.current,name:o,value:v,checked:_,required:m,disabled:p,form:g,style:{transform:"translateX(-100%)"}})]})});Kx.displayName=Al;var Qx="SwitchThumb",Jx=h.forwardRef((s,r)=>{const{__scopeSwitch:i,...o}=s,c=vb(Qx,i);return e.jsx(De.span,{"data-state":Xx(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:r})});Jx.displayName=Qx;var yb="SwitchBubbleInput",Yx=h.forwardRef(({__scopeSwitch:s,control:r,checked:i,bubbles:o=!0,...c},d)=>{const m=h.useRef(null),p=Ye(m,d),v=Xd(i),y=Zd(r);return h.useEffect(()=>{const g=m.current;if(!g)return;const f=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(f,"checked").set;if(v!==i&&T){const R=new Event("click",{bubbles:o});T.call(g,i),g.dispatchEvent(R)}},[v,i,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...c,tabIndex:-1,ref:p,style:{...c.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Yx.displayName=yb;function Xx(s){return s?"checked":"unchecked"}var Zx=Kx,jb=Jx;const We=h.forwardRef(({className:s,...r},i)=>e.jsx(Zx,{className:ke("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:i,children:e.jsx(jb,{className:ke("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));We.displayName=Zx.displayName;function Hh(s,[r,i]){return Math.min(i,Math.max(r,s))}var wb=h.createContext(void 0);function eu(s){const r=h.useContext(wb);return s||r||"ltr"}const Nb=["top","right","bottom","left"],xs=Math.min,Bt=Math.max,yl=Math.round,al=Math.floor,bn=s=>({x:s,y:s}),bb={left:"right",right:"left",bottom:"top",top:"bottom"},Sb={start:"end",end:"start"};function xd(s,r,i){return Bt(s,xs(r,i))}function Dn(s,r){return typeof s=="function"?s(r):s}function Mn(s){return s.split("-")[0]}function $r(s){return s.split("-")[1]}function tu(s){return s==="x"?"y":"x"}function nu(s){return s==="y"?"height":"width"}const Cb=new Set(["top","bottom"]);function Nn(s){return Cb.has(Mn(s))?"y":"x"}function su(s){return tu(Nn(s))}function _b(s,r,i){i===void 0&&(i=!1);const o=$r(s),c=su(s),d=nu(c);let m=c==="x"?o===(i?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[d]>r.floating[d]&&(m=jl(m)),[m,jl(m)]}function kb(s){const r=jl(s);return[gd(s),r,gd(r)]}function gd(s){return s.replace(/start|end/g,r=>Sb[r])}const qh=["left","right"],Gh=["right","left"],Eb=["top","bottom"],Tb=["bottom","top"];function Rb(s,r,i){switch(s){case"top":case"bottom":return i?r?Gh:qh:r?qh:Gh;case"left":case"right":return r?Eb:Tb;default:return[]}}function Pb(s,r,i,o){const c=$r(s);let d=Rb(Mn(s),i==="start",o);return c&&(d=d.map(m=>m+"-"+c),r&&(d=d.concat(d.map(gd)))),d}function jl(s){return s.replace(/left|right|bottom|top/g,r=>bb[r])}function Ib(s){return{top:0,right:0,bottom:0,left:0,...s}}function eg(s){return typeof s!="number"?Ib(s):{top:s,right:s,bottom:s,left:s}}function wl(s){const{x:r,y:i,width:o,height:c}=s;return{width:o,height:c,top:i,left:r,right:r+o,bottom:i+c,x:r,y:i}}function Kh(s,r,i){let{reference:o,floating:c}=s;const d=Nn(r),m=su(r),p=nu(m),v=Mn(r),y=d==="y",g=o.x+o.width/2-c.width/2,f=o.y+o.height/2-c.height/2,w=o[p]/2-c[p]/2;let T;switch(v){case"top":T={x:g,y:o.y-c.height};break;case"bottom":T={x:g,y:o.y+o.height};break;case"right":T={x:o.x+o.width,y:f};break;case"left":T={x:o.x-c.width,y:f};break;default:T={x:o.x,y:o.y}}switch($r(r)){case"start":T[m]-=w*(i&&y?-1:1);break;case"end":T[m]+=w*(i&&y?-1:1);break}return T}const Ab=async(s,r,i)=>{const{placement:o="bottom",strategy:c="absolute",middleware:d=[],platform:m}=i,p=d.filter(Boolean),v=await(m.isRTL==null?void 0:m.isRTL(r));let y=await m.getElementRects({reference:s,floating:r,strategy:c}),{x:g,y:f}=Kh(y,o,v),w=o,T={},R=0;for(let j=0;j<p.length;j++){const{name:b,fn:_}=p[j],{x:C,y:I,data:E,reset:B}=await _({x:g,y:f,initialPlacement:o,placement:w,strategy:c,middlewareData:T,rects:y,platform:m,elements:{reference:s,floating:r}});g=C??g,f=I??f,T={...T,[b]:{...T[b],...E}},B&&R<=50&&(R++,typeof B=="object"&&(B.placement&&(w=B.placement),B.rects&&(y=B.rects===!0?await m.getElementRects({reference:s,floating:r,strategy:c}):B.rects),{x:g,y:f}=Kh(y,w,v)),j=-1)}return{x:g,y:f,placement:w,strategy:c,middlewareData:T}};async function Fa(s,r){var i;r===void 0&&(r={});const{x:o,y:c,platform:d,rects:m,elements:p,strategy:v}=s,{boundary:y="clippingAncestors",rootBoundary:g="viewport",elementContext:f="floating",altBoundary:w=!1,padding:T=0}=Dn(r,s),R=eg(T),b=p[w?f==="floating"?"reference":"floating":f],_=wl(await d.getClippingRect({element:(i=await(d.isElement==null?void 0:d.isElement(b)))==null||i?b:b.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(p.floating)),boundary:y,rootBoundary:g,strategy:v})),C=f==="floating"?{x:o,y:c,width:m.floating.width,height:m.floating.height}:m.reference,I=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p.floating)),E=await(d.isElement==null?void 0:d.isElement(I))?await(d.getScale==null?void 0:d.getScale(I))||{x:1,y:1}:{x:1,y:1},B=wl(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:C,offsetParent:I,strategy:v}):C);return{top:(_.top-B.top+R.top)/E.y,bottom:(B.bottom-_.bottom+R.bottom)/E.y,left:(_.left-B.left+R.left)/E.x,right:(B.right-_.right+R.right)/E.x}}const Lb=s=>({name:"arrow",options:s,async fn(r){const{x:i,y:o,placement:c,rects:d,platform:m,elements:p,middlewareData:v}=r,{element:y,padding:g=0}=Dn(s,r)||{};if(y==null)return{};const f=eg(g),w={x:i,y:o},T=su(c),R=nu(T),j=await m.getDimensions(y),b=T==="y",_=b?"top":"left",C=b?"bottom":"right",I=b?"clientHeight":"clientWidth",E=d.reference[R]+d.reference[T]-w[T]-d.floating[R],B=w[T]-d.reference[T],F=await(m.getOffsetParent==null?void 0:m.getOffsetParent(y));let A=F?F[I]:0;(!A||!await(m.isElement==null?void 0:m.isElement(F)))&&(A=p.floating[I]||d.floating[R]);const L=E/2-B/2,M=A/2-j[R]/2-1,Y=xs(f[_],M),$=xs(f[C],M),W=Y,k=A-j[R]-$,U=A/2-j[R]/2+L,te=xd(W,U,k),ne=!v.arrow&&$r(c)!=null&&U!==te&&d.reference[R]/2-(U<W?Y:$)-j[R]/2<0,fe=ne?U<W?U-W:U-k:0;return{[T]:w[T]+fe,data:{[T]:te,centerOffset:U-te-fe,...ne&&{alignmentOffset:fe}},reset:ne}}}),Db=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(r){var i,o;const{placement:c,middlewareData:d,rects:m,initialPlacement:p,platform:v,elements:y}=r,{mainAxis:g=!0,crossAxis:f=!0,fallbackPlacements:w,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:j=!0,...b}=Dn(s,r);if((i=d.arrow)!=null&&i.alignmentOffset)return{};const _=Mn(c),C=Nn(p),I=Mn(p)===p,E=await(v.isRTL==null?void 0:v.isRTL(y.floating)),B=w||(I||!j?[jl(p)]:kb(p)),F=R!=="none";!w&&F&&B.push(...Pb(p,j,R,E));const A=[p,...B],L=await Fa(r,b),M=[];let Y=((o=d.flip)==null?void 0:o.overflows)||[];if(g&&M.push(L[_]),f){const U=_b(c,m,E);M.push(L[U[0]],L[U[1]])}if(Y=[...Y,{placement:c,overflows:M}],!M.every(U=>U<=0)){var $,W;const U=((($=d.flip)==null?void 0:$.index)||0)+1,te=A[U];if(te&&(!(f==="alignment"?C!==Nn(te):!1)||Y.every(J=>Nn(J.placement)===C?J.overflows[0]>0:!0)))return{data:{index:U,overflows:Y},reset:{placement:te}};let ne=(W=Y.filter(fe=>fe.overflows[0]<=0).sort((fe,J)=>fe.overflows[1]-J.overflows[1])[0])==null?void 0:W.placement;if(!ne)switch(T){case"bestFit":{var k;const fe=(k=Y.filter(J=>{if(F){const ae=Nn(J.placement);return ae===C||ae==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(ae=>ae>0).reduce((ae,ce)=>ae+ce,0)]).sort((J,ae)=>J[1]-ae[1])[0])==null?void 0:k[0];fe&&(ne=fe);break}case"initialPlacement":ne=p;break}if(c!==ne)return{reset:{placement:ne}}}return{}}}};function Qh(s,r){return{top:s.top-r.height,right:s.right-r.width,bottom:s.bottom-r.height,left:s.left-r.width}}function Jh(s){return Nb.some(r=>s[r]>=0)}const Mb=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(r){const{rects:i}=r,{strategy:o="referenceHidden",...c}=Dn(s,r);switch(o){case"referenceHidden":{const d=await Fa(r,{...c,elementContext:"reference"}),m=Qh(d,i.reference);return{data:{referenceHiddenOffsets:m,referenceHidden:Jh(m)}}}case"escaped":{const d=await Fa(r,{...c,altBoundary:!0}),m=Qh(d,i.floating);return{data:{escapedOffsets:m,escaped:Jh(m)}}}default:return{}}}}},tg=new Set(["left","top"]);async function Ob(s,r){const{placement:i,platform:o,elements:c}=s,d=await(o.isRTL==null?void 0:o.isRTL(c.floating)),m=Mn(i),p=$r(i),v=Nn(i)==="y",y=tg.has(m)?-1:1,g=d&&v?-1:1,f=Dn(r,s);let{mainAxis:w,crossAxis:T,alignmentAxis:R}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return p&&typeof R=="number"&&(T=p==="end"?R*-1:R),v?{x:T*g,y:w*y}:{x:w*y,y:T*g}}const Fb=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(r){var i,o;const{x:c,y:d,placement:m,middlewareData:p}=r,v=await Ob(r,s);return m===((i=p.offset)==null?void 0:i.placement)&&(o=p.arrow)!=null&&o.alignmentOffset?{}:{x:c+v.x,y:d+v.y,data:{...v,placement:m}}}}},zb=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(r){const{x:i,y:o,placement:c}=r,{mainAxis:d=!0,crossAxis:m=!1,limiter:p={fn:b=>{let{x:_,y:C}=b;return{x:_,y:C}}},...v}=Dn(s,r),y={x:i,y:o},g=await Fa(r,v),f=Nn(Mn(c)),w=tu(f);let T=y[w],R=y[f];if(d){const b=w==="y"?"top":"left",_=w==="y"?"bottom":"right",C=T+g[b],I=T-g[_];T=xd(C,T,I)}if(m){const b=f==="y"?"top":"left",_=f==="y"?"bottom":"right",C=R+g[b],I=R-g[_];R=xd(C,R,I)}const j=p.fn({...r,[w]:T,[f]:R});return{...j,data:{x:j.x-i,y:j.y-o,enabled:{[w]:d,[f]:m}}}}}},$b=function(s){return s===void 0&&(s={}),{options:s,fn(r){const{x:i,y:o,placement:c,rects:d,middlewareData:m}=r,{offset:p=0,mainAxis:v=!0,crossAxis:y=!0}=Dn(s,r),g={x:i,y:o},f=Nn(c),w=tu(f);let T=g[w],R=g[f];const j=Dn(p,r),b=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(v){const I=w==="y"?"height":"width",E=d.reference[w]-d.floating[I]+b.mainAxis,B=d.reference[w]+d.reference[I]-b.mainAxis;T<E?T=E:T>B&&(T=B)}if(y){var _,C;const I=w==="y"?"width":"height",E=tg.has(Mn(c)),B=d.reference[f]-d.floating[I]+(E&&((_=m.offset)==null?void 0:_[f])||0)+(E?0:b.crossAxis),F=d.reference[f]+d.reference[I]+(E?0:((C=m.offset)==null?void 0:C[f])||0)-(E?b.crossAxis:0);R<B?R=B:R>F&&(R=F)}return{[w]:T,[f]:R}}}},Ub=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(r){var i,o;const{placement:c,rects:d,platform:m,elements:p}=r,{apply:v=()=>{},...y}=Dn(s,r),g=await Fa(r,y),f=Mn(c),w=$r(c),T=Nn(c)==="y",{width:R,height:j}=d.floating;let b,_;f==="top"||f==="bottom"?(b=f,_=w===(await(m.isRTL==null?void 0:m.isRTL(p.floating))?"start":"end")?"left":"right"):(_=f,b=w==="end"?"top":"bottom");const C=j-g.top-g.bottom,I=R-g.left-g.right,E=xs(j-g[b],C),B=xs(R-g[_],I),F=!r.middlewareData.shift;let A=E,L=B;if((i=r.middlewareData.shift)!=null&&i.enabled.x&&(L=I),(o=r.middlewareData.shift)!=null&&o.enabled.y&&(A=C),F&&!w){const Y=Bt(g.left,0),$=Bt(g.right,0),W=Bt(g.top,0),k=Bt(g.bottom,0);T?L=R-2*(Y!==0||$!==0?Y+$:Bt(g.left,g.right)):A=j-2*(W!==0||k!==0?W+k:Bt(g.top,g.bottom))}await v({...r,availableWidth:L,availableHeight:A});const M=await m.getDimensions(p.floating);return R!==M.width||j!==M.height?{reset:{rects:!0}}:{}}}};function Ll(){return typeof window<"u"}function Ur(s){return ng(s)?(s.nodeName||"").toLowerCase():"#document"}function Wt(s){var r;return(s==null||(r=s.ownerDocument)==null?void 0:r.defaultView)||window}function Cn(s){var r;return(r=(ng(s)?s.ownerDocument:s.document)||window.document)==null?void 0:r.documentElement}function ng(s){return Ll()?s instanceof Node||s instanceof Wt(s).Node:!1}function fn(s){return Ll()?s instanceof Element||s instanceof Wt(s).Element:!1}function Sn(s){return Ll()?s instanceof HTMLElement||s instanceof Wt(s).HTMLElement:!1}function Yh(s){return!Ll()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Wt(s).ShadowRoot}const Vb=new Set(["inline","contents"]);function Va(s){const{overflow:r,overflowX:i,overflowY:o,display:c}=hn(s);return/auto|scroll|overlay|hidden|clip/.test(r+o+i)&&!Vb.has(c)}const Bb=new Set(["table","td","th"]);function Wb(s){return Bb.has(Ur(s))}const Hb=[":popover-open",":modal"];function Dl(s){return Hb.some(r=>{try{return s.matches(r)}catch{return!1}})}const qb=["transform","translate","scale","rotate","perspective"],Gb=["transform","translate","scale","rotate","perspective","filter"],Kb=["paint","layout","strict","content"];function ru(s){const r=au(),i=fn(s)?hn(s):s;return qb.some(o=>i[o]?i[o]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!r&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!r&&(i.filter?i.filter!=="none":!1)||Gb.some(o=>(i.willChange||"").includes(o))||Kb.some(o=>(i.contain||"").includes(o))}function Qb(s){let r=gs(s);for(;Sn(r)&&!Ar(r);){if(ru(r))return r;if(Dl(r))return null;r=gs(r)}return null}function au(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Jb=new Set(["html","body","#document"]);function Ar(s){return Jb.has(Ur(s))}function hn(s){return Wt(s).getComputedStyle(s)}function Ml(s){return fn(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function gs(s){if(Ur(s)==="html")return s;const r=s.assignedSlot||s.parentNode||Yh(s)&&s.host||Cn(s);return Yh(r)?r.host:r}function sg(s){const r=gs(s);return Ar(r)?s.ownerDocument?s.ownerDocument.body:s.body:Sn(r)&&Va(r)?r:sg(r)}function za(s,r,i){var o;r===void 0&&(r=[]),i===void 0&&(i=!0);const c=sg(s),d=c===((o=s.ownerDocument)==null?void 0:o.body),m=Wt(c);if(d){const p=vd(m);return r.concat(m,m.visualViewport||[],Va(c)?c:[],p&&i?za(p):[])}return r.concat(c,za(c,[],i))}function vd(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function rg(s){const r=hn(s);let i=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const c=Sn(s),d=c?s.offsetWidth:i,m=c?s.offsetHeight:o,p=yl(i)!==d||yl(o)!==m;return p&&(i=d,o=m),{width:i,height:o,$:p}}function iu(s){return fn(s)?s:s.contextElement}function Tr(s){const r=iu(s);if(!Sn(r))return bn(1);const i=r.getBoundingClientRect(),{width:o,height:c,$:d}=rg(r);let m=(d?yl(i.width):i.width)/o,p=(d?yl(i.height):i.height)/c;return(!m||!Number.isFinite(m))&&(m=1),(!p||!Number.isFinite(p))&&(p=1),{x:m,y:p}}const Yb=bn(0);function ag(s){const r=Wt(s);return!au()||!r.visualViewport?Yb:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function Xb(s,r,i){return r===void 0&&(r=!1),!i||r&&i!==Wt(s)?!1:r}function Us(s,r,i,o){r===void 0&&(r=!1),i===void 0&&(i=!1);const c=s.getBoundingClientRect(),d=iu(s);let m=bn(1);r&&(o?fn(o)&&(m=Tr(o)):m=Tr(s));const p=Xb(d,i,o)?ag(d):bn(0);let v=(c.left+p.x)/m.x,y=(c.top+p.y)/m.y,g=c.width/m.x,f=c.height/m.y;if(d){const w=Wt(d),T=o&&fn(o)?Wt(o):o;let R=w,j=vd(R);for(;j&&o&&T!==R;){const b=Tr(j),_=j.getBoundingClientRect(),C=hn(j),I=_.left+(j.clientLeft+parseFloat(C.paddingLeft))*b.x,E=_.top+(j.clientTop+parseFloat(C.paddingTop))*b.y;v*=b.x,y*=b.y,g*=b.x,f*=b.y,v+=I,y+=E,R=Wt(j),j=vd(R)}}return wl({width:g,height:f,x:v,y})}function Ol(s,r){const i=Ml(s).scrollLeft;return r?r.left+i:Us(Cn(s)).left+i}function ig(s,r){const i=s.getBoundingClientRect(),o=i.left+r.scrollLeft-Ol(s,i),c=i.top+r.scrollTop;return{x:o,y:c}}function Zb(s){let{elements:r,rect:i,offsetParent:o,strategy:c}=s;const d=c==="fixed",m=Cn(o),p=r?Dl(r.floating):!1;if(o===m||p&&d)return i;let v={scrollLeft:0,scrollTop:0},y=bn(1);const g=bn(0),f=Sn(o);if((f||!f&&!d)&&((Ur(o)!=="body"||Va(m))&&(v=Ml(o)),Sn(o))){const T=Us(o);y=Tr(o),g.x=T.x+o.clientLeft,g.y=T.y+o.clientTop}const w=m&&!f&&!d?ig(m,v):bn(0);return{width:i.width*y.x,height:i.height*y.y,x:i.x*y.x-v.scrollLeft*y.x+g.x+w.x,y:i.y*y.y-v.scrollTop*y.y+g.y+w.y}}function eS(s){return Array.from(s.getClientRects())}function tS(s){const r=Cn(s),i=Ml(s),o=s.ownerDocument.body,c=Bt(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),d=Bt(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let m=-i.scrollLeft+Ol(s);const p=-i.scrollTop;return hn(o).direction==="rtl"&&(m+=Bt(r.clientWidth,o.clientWidth)-c),{width:c,height:d,x:m,y:p}}const Xh=25;function nS(s,r){const i=Wt(s),o=Cn(s),c=i.visualViewport;let d=o.clientWidth,m=o.clientHeight,p=0,v=0;if(c){d=c.width,m=c.height;const g=au();(!g||g&&r==="fixed")&&(p=c.offsetLeft,v=c.offsetTop)}const y=Ol(o);if(y<=0){const g=o.ownerDocument,f=g.body,w=getComputedStyle(f),T=g.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,R=Math.abs(o.clientWidth-f.clientWidth-T);R<=Xh&&(d-=R)}else y<=Xh&&(d+=y);return{width:d,height:m,x:p,y:v}}const sS=new Set(["absolute","fixed"]);function rS(s,r){const i=Us(s,!0,r==="fixed"),o=i.top+s.clientTop,c=i.left+s.clientLeft,d=Sn(s)?Tr(s):bn(1),m=s.clientWidth*d.x,p=s.clientHeight*d.y,v=c*d.x,y=o*d.y;return{width:m,height:p,x:v,y}}function Zh(s,r,i){let o;if(r==="viewport")o=nS(s,i);else if(r==="document")o=tS(Cn(s));else if(fn(r))o=rS(r,i);else{const c=ag(s);o={x:r.x-c.x,y:r.y-c.y,width:r.width,height:r.height}}return wl(o)}function lg(s,r){const i=gs(s);return i===r||!fn(i)||Ar(i)?!1:hn(i).position==="fixed"||lg(i,r)}function aS(s,r){const i=r.get(s);if(i)return i;let o=za(s,[],!1).filter(p=>fn(p)&&Ur(p)!=="body"),c=null;const d=hn(s).position==="fixed";let m=d?gs(s):s;for(;fn(m)&&!Ar(m);){const p=hn(m),v=ru(m);!v&&p.position==="fixed"&&(c=null),(d?!v&&!c:!v&&p.position==="static"&&!!c&&sS.has(c.position)||Va(m)&&!v&&lg(s,m))?o=o.filter(g=>g!==m):c=p,m=gs(m)}return r.set(s,o),o}function iS(s){let{element:r,boundary:i,rootBoundary:o,strategy:c}=s;const m=[...i==="clippingAncestors"?Dl(r)?[]:aS(r,this._c):[].concat(i),o],p=m[0],v=m.reduce((y,g)=>{const f=Zh(r,g,c);return y.top=Bt(f.top,y.top),y.right=xs(f.right,y.right),y.bottom=xs(f.bottom,y.bottom),y.left=Bt(f.left,y.left),y},Zh(r,p,c));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function lS(s){const{width:r,height:i}=rg(s);return{width:r,height:i}}function oS(s,r,i){const o=Sn(r),c=Cn(r),d=i==="fixed",m=Us(s,!0,d,r);let p={scrollLeft:0,scrollTop:0};const v=bn(0);function y(){v.x=Ol(c)}if(o||!o&&!d)if((Ur(r)!=="body"||Va(c))&&(p=Ml(r)),o){const T=Us(r,!0,d,r);v.x=T.x+r.clientLeft,v.y=T.y+r.clientTop}else c&&y();d&&!o&&c&&y();const g=c&&!o&&!d?ig(c,p):bn(0),f=m.left+p.scrollLeft-v.x-g.x,w=m.top+p.scrollTop-v.y-g.y;return{x:f,y:w,width:m.width,height:m.height}}function Xc(s){return hn(s).position==="static"}function ep(s,r){if(!Sn(s)||hn(s).position==="fixed")return null;if(r)return r(s);let i=s.offsetParent;return Cn(s)===i&&(i=i.ownerDocument.body),i}function og(s,r){const i=Wt(s);if(Dl(s))return i;if(!Sn(s)){let c=gs(s);for(;c&&!Ar(c);){if(fn(c)&&!Xc(c))return c;c=gs(c)}return i}let o=ep(s,r);for(;o&&Wb(o)&&Xc(o);)o=ep(o,r);return o&&Ar(o)&&Xc(o)&&!ru(o)?i:o||Qb(s)||i}const cS=async function(s){const r=this.getOffsetParent||og,i=this.getDimensions,o=await i(s.floating);return{reference:oS(s.reference,await r(s.floating),s.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function dS(s){return hn(s).direction==="rtl"}const uS={convertOffsetParentRelativeRectToViewportRelativeRect:Zb,getDocumentElement:Cn,getClippingRect:iS,getOffsetParent:og,getElementRects:cS,getClientRects:eS,getDimensions:lS,getScale:Tr,isElement:fn,isRTL:dS};function cg(s,r){return s.x===r.x&&s.y===r.y&&s.width===r.width&&s.height===r.height}function mS(s,r){let i=null,o;const c=Cn(s);function d(){var p;clearTimeout(o),(p=i)==null||p.disconnect(),i=null}function m(p,v){p===void 0&&(p=!1),v===void 0&&(v=1),d();const y=s.getBoundingClientRect(),{left:g,top:f,width:w,height:T}=y;if(p||r(),!w||!T)return;const R=al(f),j=al(c.clientWidth-(g+w)),b=al(c.clientHeight-(f+T)),_=al(g),I={rootMargin:-R+"px "+-j+"px "+-b+"px "+-_+"px",threshold:Bt(0,xs(1,v))||1};let E=!0;function B(F){const A=F[0].intersectionRatio;if(A!==v){if(!E)return m();A?m(!1,A):o=setTimeout(()=>{m(!1,1e-7)},1e3)}A===1&&!cg(y,s.getBoundingClientRect())&&m(),E=!1}try{i=new IntersectionObserver(B,{...I,root:c.ownerDocument})}catch{i=new IntersectionObserver(B,I)}i.observe(s)}return m(!0),d}function fS(s,r,i,o){o===void 0&&(o={});const{ancestorScroll:c=!0,ancestorResize:d=!0,elementResize:m=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:v=!1}=o,y=iu(s),g=c||d?[...y?za(y):[],...za(r)]:[];g.forEach(_=>{c&&_.addEventListener("scroll",i,{passive:!0}),d&&_.addEventListener("resize",i)});const f=y&&p?mS(y,i):null;let w=-1,T=null;m&&(T=new ResizeObserver(_=>{let[C]=_;C&&C.target===y&&T&&(T.unobserve(r),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var I;(I=T)==null||I.observe(r)})),i()}),y&&!v&&T.observe(y),T.observe(r));let R,j=v?Us(s):null;v&&b();function b(){const _=Us(s);j&&!cg(j,_)&&i(),j=_,R=requestAnimationFrame(b)}return i(),()=>{var _;g.forEach(C=>{c&&C.removeEventListener("scroll",i),d&&C.removeEventListener("resize",i)}),f?.(),(_=T)==null||_.disconnect(),T=null,v&&cancelAnimationFrame(R)}}const hS=Fb,pS=zb,xS=Db,gS=Ub,vS=Mb,tp=Lb,yS=$b,jS=(s,r,i)=>{const o=new Map,c={platform:uS,...i},d={...c.platform,_c:o};return Ab(s,r,{...c,platform:d})};var wS=typeof document<"u",NS=function(){},ml=wS?h.useLayoutEffect:NS;function Nl(s,r){if(s===r)return!0;if(typeof s!=typeof r)return!1;if(typeof s=="function"&&s.toString()===r.toString())return!0;let i,o,c;if(s&&r&&typeof s=="object"){if(Array.isArray(s)){if(i=s.length,i!==r.length)return!1;for(o=i;o--!==0;)if(!Nl(s[o],r[o]))return!1;return!0}if(c=Object.keys(s),i=c.length,i!==Object.keys(r).length)return!1;for(o=i;o--!==0;)if(!{}.hasOwnProperty.call(r,c[o]))return!1;for(o=i;o--!==0;){const d=c[o];if(!(d==="_owner"&&s.$$typeof)&&!Nl(s[d],r[d]))return!1}return!0}return s!==s&&r!==r}function dg(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function np(s,r){const i=dg(s);return Math.round(r*i)/i}function Zc(s){const r=h.useRef(s);return ml(()=>{r.current=s}),r}function bS(s){s===void 0&&(s={});const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:c,elements:{reference:d,floating:m}={},transform:p=!0,whileElementsMounted:v,open:y}=s,[g,f]=h.useState({x:0,y:0,strategy:i,placement:r,middlewareData:{},isPositioned:!1}),[w,T]=h.useState(o);Nl(w,o)||T(o);const[R,j]=h.useState(null),[b,_]=h.useState(null),C=h.useCallback(J=>{J!==F.current&&(F.current=J,j(J))},[]),I=h.useCallback(J=>{J!==A.current&&(A.current=J,_(J))},[]),E=d||R,B=m||b,F=h.useRef(null),A=h.useRef(null),L=h.useRef(g),M=v!=null,Y=Zc(v),$=Zc(c),W=Zc(y),k=h.useCallback(()=>{if(!F.current||!A.current)return;const J={placement:r,strategy:i,middleware:w};$.current&&(J.platform=$.current),jS(F.current,A.current,J).then(ae=>{const ce={...ae,isPositioned:W.current!==!1};U.current&&!Nl(L.current,ce)&&(L.current=ce,Lr.flushSync(()=>{f(ce)}))})},[w,r,i,$,W]);ml(()=>{y===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,f(J=>({...J,isPositioned:!1})))},[y]);const U=h.useRef(!1);ml(()=>(U.current=!0,()=>{U.current=!1}),[]),ml(()=>{if(E&&(F.current=E),B&&(A.current=B),E&&B){if(Y.current)return Y.current(E,B,k);k()}},[E,B,k,Y,M]);const te=h.useMemo(()=>({reference:F,floating:A,setReference:C,setFloating:I}),[C,I]),ne=h.useMemo(()=>({reference:E,floating:B}),[E,B]),fe=h.useMemo(()=>{const J={position:i,left:0,top:0};if(!ne.floating)return J;const ae=np(ne.floating,g.x),ce=np(ne.floating,g.y);return p?{...J,transform:"translate("+ae+"px, "+ce+"px)",...dg(ne.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:ae,top:ce}},[i,p,ne.floating,g.x,g.y]);return h.useMemo(()=>({...g,update:k,refs:te,elements:ne,floatingStyles:fe}),[g,k,te,ne,fe])}const SS=s=>{function r(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:s,fn(i){const{element:o,padding:c}=typeof s=="function"?s(i):s;return o&&r(o)?o.current!=null?tp({element:o.current,padding:c}).fn(i):{}:o?tp({element:o,padding:c}).fn(i):{}}}},CS=(s,r)=>({...hS(s),options:[s,r]}),_S=(s,r)=>({...pS(s),options:[s,r]}),kS=(s,r)=>({...yS(s),options:[s,r]}),ES=(s,r)=>({...xS(s),options:[s,r]}),TS=(s,r)=>({...gS(s),options:[s,r]}),RS=(s,r)=>({...vS(s),options:[s,r]}),PS=(s,r)=>({...SS(s),options:[s,r]});var IS="Arrow",ug=h.forwardRef((s,r)=>{const{children:i,width:o=10,height:c=5,...d}=s;return e.jsx(De.svg,{...d,ref:r,width:o,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?i:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});ug.displayName=IS;var AS=ug,lu="Popper",[mg,fg]=zn(lu),[LS,hg]=mg(lu),pg=s=>{const{__scopePopper:r,children:i}=s,[o,c]=h.useState(null);return e.jsx(LS,{scope:r,anchor:o,onAnchorChange:c,children:i})};pg.displayName=lu;var xg="PopperAnchor",gg=h.forwardRef((s,r)=>{const{__scopePopper:i,virtualRef:o,...c}=s,d=hg(xg,i),m=h.useRef(null),p=Ye(r,m),v=h.useRef(null);return h.useEffect(()=>{const y=v.current;v.current=o?.current||m.current,y!==v.current&&d.onAnchorChange(v.current)}),o?null:e.jsx(De.div,{...c,ref:p})});gg.displayName=xg;var ou="PopperContent",[DS,MS]=mg(ou),vg=h.forwardRef((s,r)=>{const{__scopePopper:i,side:o="bottom",sideOffset:c=0,align:d="center",alignOffset:m=0,arrowPadding:p=0,avoidCollisions:v=!0,collisionBoundary:y=[],collisionPadding:g=0,sticky:f="partial",hideWhenDetached:w=!1,updatePositionStrategy:T="optimized",onPlaced:R,...j}=s,b=hg(ou,i),[_,C]=h.useState(null),I=Ye(r,Q=>C(Q)),[E,B]=h.useState(null),F=Zd(E),A=F?.width??0,L=F?.height??0,M=o+(d!=="center"?"-"+d:""),Y=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},$=Array.isArray(y)?y:[y],W=$.length>0,k={padding:Y,boundary:$.filter(FS),altBoundary:W},{refs:U,floatingStyles:te,placement:ne,isPositioned:fe,middlewareData:J}=bS({strategy:"fixed",placement:M,whileElementsMounted:(...Q)=>fS(...Q,{animationFrame:T==="always"}),elements:{reference:b.anchor},middleware:[CS({mainAxis:c+L,alignmentAxis:m}),v&&_S({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?kS():void 0,...k}),v&&ES({...k}),TS({...k,apply:({elements:Q,rects:Z,availableWidth:xe,availableHeight:pe})=>{const{width:Pe,height:Ie}=Z.reference,ft=Q.floating.style;ft.setProperty("--radix-popper-available-width",`${xe}px`),ft.setProperty("--radix-popper-available-height",`${pe}px`),ft.setProperty("--radix-popper-anchor-width",`${Pe}px`),ft.setProperty("--radix-popper-anchor-height",`${Ie}px`)}}),E&&PS({element:E,padding:p}),zS({arrowWidth:A,arrowHeight:L}),w&&RS({strategy:"referenceHidden",...k})]}),[ae,ce]=wg(ne),O=Zt(R);bt(()=>{fe&&O?.()},[fe,O]);const S=J.arrow?.x,le=J.arrow?.y,ge=J.arrow?.centerOffset!==0,[H,se]=h.useState();return bt(()=>{_&&se(window.getComputedStyle(_).zIndex)},[_]),e.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:fe?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[J.transformOrigin?.x,J.transformOrigin?.y].join(" "),...J.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:e.jsx(DS,{scope:i,placedSide:ae,onArrowChange:B,arrowX:S,arrowY:le,shouldHideArrow:ge,children:e.jsx(De.div,{"data-side":ae,"data-align":ce,...j,ref:I,style:{...j.style,animation:fe?void 0:"none"}})})})});vg.displayName=ou;var yg="PopperArrow",OS={top:"bottom",right:"left",bottom:"top",left:"right"},jg=h.forwardRef(function(r,i){const{__scopePopper:o,...c}=r,d=MS(yg,o),m=OS[d.placedSide];return e.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[m]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:e.jsx(AS,{...c,ref:i,style:{...c.style,display:"block"}})})});jg.displayName=yg;function FS(s){return s!==null}var zS=s=>({name:"transformOrigin",options:s,fn(r){const{placement:i,rects:o,middlewareData:c}=r,m=c.arrow?.centerOffset!==0,p=m?0:s.arrowWidth,v=m?0:s.arrowHeight,[y,g]=wg(i),f={start:"0%",center:"50%",end:"100%"}[g],w=(c.arrow?.x??0)+p/2,T=(c.arrow?.y??0)+v/2;let R="",j="";return y==="bottom"?(R=m?f:`${w}px`,j=`${-v}px`):y==="top"?(R=m?f:`${w}px`,j=`${o.floating.height+v}px`):y==="right"?(R=`${-v}px`,j=m?f:`${T}px`):y==="left"&&(R=`${o.floating.width+v}px`,j=m?f:`${T}px`),{data:{x:R,y:j}}}});function wg(s){const[r,i="center"]=s.split("-");return[r,i]}var $S=pg,US=gg,VS=vg,BS=jg,WS=[" ","Enter","ArrowUp","ArrowDown"],HS=[" ","Enter"],Vs="Select",[Fl,zl,qS]=Md(Vs),[Vr]=zn(Vs,[qS,fg]),$l=fg(),[GS,js]=Vr(Vs),[KS,QS]=Vr(Vs),Ng=s=>{const{__scopeSelect:r,children:i,open:o,defaultOpen:c,onOpenChange:d,value:m,defaultValue:p,onValueChange:v,dir:y,name:g,autoComplete:f,disabled:w,required:T,form:R}=s,j=$l(r),[b,_]=h.useState(null),[C,I]=h.useState(null),[E,B]=h.useState(!1),F=eu(y),[A,L]=ps({prop:o,defaultProp:c??!1,onChange:d,caller:Vs}),[M,Y]=ps({prop:m,defaultProp:p,onChange:v,caller:Vs}),$=h.useRef(null),W=b?R||!!b.closest("form"):!0,[k,U]=h.useState(new Set),te=Array.from(k).map(ne=>ne.props.value).join(";");return e.jsx($S,{...j,children:e.jsxs(GS,{required:T,scope:r,trigger:b,onTriggerChange:_,valueNode:C,onValueNodeChange:I,valueNodeHasChildren:E,onValueNodeHasChildrenChange:B,contentId:us(),value:M,onValueChange:Y,open:A,onOpenChange:L,dir:F,triggerPointerDownPosRef:$,disabled:w,children:[e.jsx(Fl.Provider,{scope:r,children:e.jsx(KS,{scope:s.__scopeSelect,onNativeOptionAdd:h.useCallback(ne=>{U(fe=>new Set(fe).add(ne))},[]),onNativeOptionRemove:h.useCallback(ne=>{U(fe=>{const J=new Set(fe);return J.delete(ne),J})},[]),children:i})}),W?e.jsxs(qg,{"aria-hidden":!0,required:T,tabIndex:-1,name:g,autoComplete:f,value:M,onChange:ne=>Y(ne.target.value),disabled:w,form:R,children:[M===void 0?e.jsx("option",{value:""}):null,Array.from(k)]},te):null]})})};Ng.displayName=Vs;var bg="SelectTrigger",Sg=h.forwardRef((s,r)=>{const{__scopeSelect:i,disabled:o=!1,...c}=s,d=$l(i),m=js(bg,i),p=m.disabled||o,v=Ye(r,m.onTriggerChange),y=zl(i),g=h.useRef("touch"),[f,w,T]=Kg(j=>{const b=y().filter(I=>!I.disabled),_=b.find(I=>I.value===m.value),C=Qg(b,j,_);C!==void 0&&m.onValueChange(C.value)}),R=j=>{p||(m.onOpenChange(!0),T()),j&&(m.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return e.jsx(US,{asChild:!0,...d,children:e.jsx(De.button,{type:"button",role:"combobox","aria-controls":m.contentId,"aria-expanded":m.open,"aria-required":m.required,"aria-autocomplete":"none",dir:m.dir,"data-state":m.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":Gg(m.value)?"":void 0,...c,ref:v,onClick:Le(c.onClick,j=>{j.currentTarget.focus(),g.current!=="mouse"&&R(j)}),onPointerDown:Le(c.onPointerDown,j=>{g.current=j.pointerType;const b=j.target;b.hasPointerCapture(j.pointerId)&&b.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(R(j),j.preventDefault())}),onKeyDown:Le(c.onKeyDown,j=>{const b=f.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&w(j.key),!(b&&j.key===" ")&&WS.includes(j.key)&&(R(),j.preventDefault())})})})});Sg.displayName=bg;var Cg="SelectValue",_g=h.forwardRef((s,r)=>{const{__scopeSelect:i,className:o,style:c,children:d,placeholder:m="",...p}=s,v=js(Cg,i),{onValueNodeHasChildrenChange:y}=v,g=d!==void 0,f=Ye(r,v.onValueNodeChange);return bt(()=>{y(g)},[y,g]),e.jsx(De.span,{...p,ref:f,style:{pointerEvents:"none"},children:Gg(v.value)?e.jsx(e.Fragment,{children:m}):d})});_g.displayName=Cg;var JS="SelectIcon",kg=h.forwardRef((s,r)=>{const{__scopeSelect:i,children:o,...c}=s;return e.jsx(De.span,{"aria-hidden":!0,...c,ref:r,children:o||""})});kg.displayName=JS;var YS="SelectPortal",Eg=s=>e.jsx(Tl,{asChild:!0,...s});Eg.displayName=YS;var Bs="SelectContent",Tg=h.forwardRef((s,r)=>{const i=js(Bs,s.__scopeSelect),[o,c]=h.useState();if(bt(()=>{c(new DocumentFragment)},[]),!i.open){const d=o;return d?Lr.createPortal(e.jsx(Rg,{scope:s.__scopeSelect,children:e.jsx(Fl.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),d):null}return e.jsx(Pg,{...s,ref:r})});Tg.displayName=Bs;var dn=10,[Rg,ws]=Vr(Bs),XS="SelectContentImpl",ZS=Ir("SelectContent.RemoveScroll"),Pg=h.forwardRef((s,r)=>{const{__scopeSelect:i,position:o="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:d,onPointerDownOutside:m,side:p,sideOffset:v,align:y,alignOffset:g,arrowPadding:f,collisionBoundary:w,collisionPadding:T,sticky:R,hideWhenDetached:j,avoidCollisions:b,..._}=s,C=js(Bs,i),[I,E]=h.useState(null),[B,F]=h.useState(null),A=Ye(r,Q=>E(Q)),[L,M]=h.useState(null),[Y,$]=h.useState(null),W=zl(i),[k,U]=h.useState(!1),te=h.useRef(!1);h.useEffect(()=>{if(I)return _x(I)},[I]),gx();const ne=h.useCallback(Q=>{const[Z,...xe]=W().map(Ie=>Ie.ref.current),[pe]=xe.slice(-1),Pe=document.activeElement;for(const Ie of Q)if(Ie===Pe||(Ie?.scrollIntoView({block:"nearest"}),Ie===Z&&B&&(B.scrollTop=0),Ie===pe&&B&&(B.scrollTop=B.scrollHeight),Ie?.focus(),document.activeElement!==Pe))return},[W,B]),fe=h.useCallback(()=>ne([L,I]),[ne,L,I]);h.useEffect(()=>{k&&fe()},[k,fe]);const{onOpenChange:J,triggerPointerDownPosRef:ae}=C;h.useEffect(()=>{if(I){let Q={x:0,y:0};const Z=pe=>{Q={x:Math.abs(Math.round(pe.pageX)-(ae.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(ae.current?.y??0))}},xe=pe=>{Q.x<=10&&Q.y<=10?pe.preventDefault():I.contains(pe.target)||J(!1),document.removeEventListener("pointermove",Z),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",xe,{capture:!0})}}},[I,J,ae]),h.useEffect(()=>{const Q=()=>J(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[J]);const[ce,O]=Kg(Q=>{const Z=W().filter(Pe=>!Pe.disabled),xe=Z.find(Pe=>Pe.ref.current===document.activeElement),pe=Qg(Z,Q,xe);pe&&setTimeout(()=>pe.ref.current.focus())}),S=h.useCallback((Q,Z,xe)=>{const pe=!te.current&&!xe;(C.value!==void 0&&C.value===Z||pe)&&(M(Q),pe&&(te.current=!0))},[C.value]),le=h.useCallback(()=>I?.focus(),[I]),ge=h.useCallback((Q,Z,xe)=>{const pe=!te.current&&!xe;(C.value!==void 0&&C.value===Z||pe)&&$(Q)},[C.value]),H=o==="popper"?yd:Ig,se=H===yd?{side:p,sideOffset:v,align:y,alignOffset:g,arrowPadding:f,collisionBoundary:w,collisionPadding:T,sticky:R,hideWhenDetached:j,avoidCollisions:b}:{};return e.jsx(Rg,{scope:i,content:I,viewport:B,onViewportChange:F,itemRefCallback:S,selectedItem:L,onItemLeave:le,itemTextRefCallback:ge,focusSelectedItem:fe,selectedItemText:Y,position:o,isPositioned:k,searchRef:ce,children:e.jsx(Bd,{as:ZS,allowPinchZoom:!0,children:e.jsx(Vd,{asChild:!0,trapped:C.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:Le(c,Q=>{C.trigger?.focus({preventScroll:!0}),Q.preventDefault()}),children:e.jsx(El,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:e.jsx(H,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:Q=>Q.preventDefault(),..._,...se,onPlaced:()=>U(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Le(_.onKeyDown,Q=>{const Z=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!Z&&Q.key.length===1&&O(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let pe=W().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const Pe=Q.target,Ie=pe.indexOf(Pe);pe=pe.slice(Ie+1)}setTimeout(()=>ne(pe)),Q.preventDefault()}})})})})})})});Pg.displayName=XS;var e2="SelectItemAlignedPosition",Ig=h.forwardRef((s,r)=>{const{__scopeSelect:i,onPlaced:o,...c}=s,d=js(Bs,i),m=ws(Bs,i),[p,v]=h.useState(null),[y,g]=h.useState(null),f=Ye(r,A=>g(A)),w=zl(i),T=h.useRef(!1),R=h.useRef(!0),{viewport:j,selectedItem:b,selectedItemText:_,focusSelectedItem:C}=m,I=h.useCallback(()=>{if(d.trigger&&d.valueNode&&p&&y&&j&&b&&_){const A=d.trigger.getBoundingClientRect(),L=y.getBoundingClientRect(),M=d.valueNode.getBoundingClientRect(),Y=_.getBoundingClientRect();if(d.dir!=="rtl"){const Pe=Y.left-L.left,Ie=M.left-Pe,ft=A.left-Ie,tn=A.width+ft,Qs=Math.max(tn,L.width),Js=window.innerWidth-dn,Ns=Hh(Ie,[dn,Math.max(dn,Js-Qs)]);p.style.minWidth=tn+"px",p.style.left=Ns+"px"}else{const Pe=L.right-Y.right,Ie=window.innerWidth-M.right-Pe,ft=window.innerWidth-A.right-Ie,tn=A.width+ft,Qs=Math.max(tn,L.width),Js=window.innerWidth-dn,Ns=Hh(Ie,[dn,Math.max(dn,Js-Qs)]);p.style.minWidth=tn+"px",p.style.right=Ns+"px"}const $=w(),W=window.innerHeight-dn*2,k=j.scrollHeight,U=window.getComputedStyle(y),te=parseInt(U.borderTopWidth,10),ne=parseInt(U.paddingTop,10),fe=parseInt(U.borderBottomWidth,10),J=parseInt(U.paddingBottom,10),ae=te+ne+k+J+fe,ce=Math.min(b.offsetHeight*5,ae),O=window.getComputedStyle(j),S=parseInt(O.paddingTop,10),le=parseInt(O.paddingBottom,10),ge=A.top+A.height/2-dn,H=W-ge,se=b.offsetHeight/2,Q=b.offsetTop+se,Z=te+ne+Q,xe=ae-Z;if(Z<=ge){const Pe=$.length>0&&b===$[$.length-1].ref.current;p.style.bottom="0px";const Ie=y.clientHeight-j.offsetTop-j.offsetHeight,ft=Math.max(H,se+(Pe?le:0)+Ie+fe),tn=Z+ft;p.style.height=tn+"px"}else{const Pe=$.length>0&&b===$[0].ref.current;p.style.top="0px";const ft=Math.max(ge,te+j.offsetTop+(Pe?S:0)+se)+xe;p.style.height=ft+"px",j.scrollTop=Z-ge+j.offsetTop}p.style.margin=`${dn}px 0`,p.style.minHeight=ce+"px",p.style.maxHeight=W+"px",o?.(),requestAnimationFrame(()=>T.current=!0)}},[w,d.trigger,d.valueNode,p,y,j,b,_,d.dir,o]);bt(()=>I(),[I]);const[E,B]=h.useState();bt(()=>{y&&B(window.getComputedStyle(y).zIndex)},[y]);const F=h.useCallback(A=>{A&&R.current===!0&&(I(),C?.(),R.current=!1)},[I,C]);return e.jsx(n2,{scope:i,contentWrapper:p,shouldExpandOnScrollRef:T,onScrollButtonChange:F,children:e.jsx("div",{ref:v,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:e.jsx(De.div,{...c,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});Ig.displayName=e2;var t2="SelectPopperPosition",yd=h.forwardRef((s,r)=>{const{__scopeSelect:i,align:o="start",collisionPadding:c=dn,...d}=s,m=$l(i);return e.jsx(VS,{...m,...d,ref:r,align:o,collisionPadding:c,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yd.displayName=t2;var[n2,cu]=Vr(Bs,{}),jd="SelectViewport",Ag=h.forwardRef((s,r)=>{const{__scopeSelect:i,nonce:o,...c}=s,d=ws(jd,i),m=cu(jd,i),p=Ye(r,d.onViewportChange),v=h.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(Fl.Slot,{scope:i,children:e.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:Le(c.onScroll,y=>{const g=y.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:w}=m;if(w?.current&&f){const T=Math.abs(v.current-g.scrollTop);if(T>0){const R=window.innerHeight-dn*2,j=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),_=Math.max(j,b);if(_<R){const C=_+T,I=Math.min(R,C),E=C-I;f.style.height=I+"px",f.style.bottom==="0px"&&(g.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}v.current=g.scrollTop})})})]})});Ag.displayName=jd;var Lg="SelectGroup",[s2,r2]=Vr(Lg),a2=h.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,c=us();return e.jsx(s2,{scope:i,id:c,children:e.jsx(De.div,{role:"group","aria-labelledby":c,...o,ref:r})})});a2.displayName=Lg;var Dg="SelectLabel",Mg=h.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,c=r2(Dg,i);return e.jsx(De.div,{id:c.id,...o,ref:r})});Mg.displayName=Dg;var bl="SelectItem",[i2,Og]=Vr(bl),Fg=h.forwardRef((s,r)=>{const{__scopeSelect:i,value:o,disabled:c=!1,textValue:d,...m}=s,p=js(bl,i),v=ws(bl,i),y=p.value===o,[g,f]=h.useState(d??""),[w,T]=h.useState(!1),R=Ye(r,C=>v.itemRefCallback?.(C,o,c)),j=us(),b=h.useRef("touch"),_=()=>{c||(p.onValueChange(o),p.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(i2,{scope:i,value:o,disabled:c,textId:j,isSelected:y,onItemTextChange:h.useCallback(C=>{f(I=>I||(C?.textContent??"").trim())},[]),children:e.jsx(Fl.ItemSlot,{scope:i,value:o,disabled:c,textValue:g,children:e.jsx(De.div,{role:"option","aria-labelledby":j,"data-highlighted":w?"":void 0,"aria-selected":y&&w,"data-state":y?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...m,ref:R,onFocus:Le(m.onFocus,()=>T(!0)),onBlur:Le(m.onBlur,()=>T(!1)),onClick:Le(m.onClick,()=>{b.current!=="mouse"&&_()}),onPointerUp:Le(m.onPointerUp,()=>{b.current==="mouse"&&_()}),onPointerDown:Le(m.onPointerDown,C=>{b.current=C.pointerType}),onPointerMove:Le(m.onPointerMove,C=>{b.current=C.pointerType,c?v.onItemLeave?.():b.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(m.onPointerLeave,C=>{C.currentTarget===document.activeElement&&v.onItemLeave?.()}),onKeyDown:Le(m.onKeyDown,C=>{v.searchRef?.current!==""&&C.key===" "||(HS.includes(C.key)&&_(),C.key===" "&&C.preventDefault())})})})})});Fg.displayName=bl;var Pa="SelectItemText",zg=h.forwardRef((s,r)=>{const{__scopeSelect:i,className:o,style:c,...d}=s,m=js(Pa,i),p=ws(Pa,i),v=Og(Pa,i),y=QS(Pa,i),[g,f]=h.useState(null),w=Ye(r,_=>f(_),v.onItemTextChange,_=>p.itemTextRefCallback?.(_,v.value,v.disabled)),T=g?.textContent,R=h.useMemo(()=>e.jsx("option",{value:v.value,disabled:v.disabled,children:T},v.value),[v.disabled,v.value,T]),{onNativeOptionAdd:j,onNativeOptionRemove:b}=y;return bt(()=>(j(R),()=>b(R)),[j,b,R]),e.jsxs(e.Fragment,{children:[e.jsx(De.span,{id:v.textId,...d,ref:w}),v.isSelected&&m.valueNode&&!m.valueNodeHasChildren?Lr.createPortal(d.children,m.valueNode):null]})});zg.displayName=Pa;var $g="SelectItemIndicator",Ug=h.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s;return Og($g,i).isSelected?e.jsx(De.span,{"aria-hidden":!0,...o,ref:r}):null});Ug.displayName=$g;var wd="SelectScrollUpButton",Vg=h.forwardRef((s,r)=>{const i=ws(wd,s.__scopeSelect),o=cu(wd,s.__scopeSelect),[c,d]=h.useState(!1),m=Ye(r,o.onScrollButtonChange);return bt(()=>{if(i.viewport&&i.isPositioned){let p=function(){const y=v.scrollTop>0;d(y)};const v=i.viewport;return p(),v.addEventListener("scroll",p),()=>v.removeEventListener("scroll",p)}},[i.viewport,i.isPositioned]),c?e.jsx(Wg,{...s,ref:m,onAutoScroll:()=>{const{viewport:p,selectedItem:v}=i;p&&v&&(p.scrollTop=p.scrollTop-v.offsetHeight)}}):null});Vg.displayName=wd;var Nd="SelectScrollDownButton",Bg=h.forwardRef((s,r)=>{const i=ws(Nd,s.__scopeSelect),o=cu(Nd,s.__scopeSelect),[c,d]=h.useState(!1),m=Ye(r,o.onScrollButtonChange);return bt(()=>{if(i.viewport&&i.isPositioned){let p=function(){const y=v.scrollHeight-v.clientHeight,g=Math.ceil(v.scrollTop)<y;d(g)};const v=i.viewport;return p(),v.addEventListener("scroll",p),()=>v.removeEventListener("scroll",p)}},[i.viewport,i.isPositioned]),c?e.jsx(Wg,{...s,ref:m,onAutoScroll:()=>{const{viewport:p,selectedItem:v}=i;p&&v&&(p.scrollTop=p.scrollTop+v.offsetHeight)}}):null});Bg.displayName=Nd;var Wg=h.forwardRef((s,r)=>{const{__scopeSelect:i,onAutoScroll:o,...c}=s,d=ws("SelectScrollButton",i),m=h.useRef(null),p=zl(i),v=h.useCallback(()=>{m.current!==null&&(window.clearInterval(m.current),m.current=null)},[]);return h.useEffect(()=>()=>v(),[v]),bt(()=>{p().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[p]),e.jsx(De.div,{"aria-hidden":!0,...c,ref:r,style:{flexShrink:0,...c.style},onPointerDown:Le(c.onPointerDown,()=>{m.current===null&&(m.current=window.setInterval(o,50))}),onPointerMove:Le(c.onPointerMove,()=>{d.onItemLeave?.(),m.current===null&&(m.current=window.setInterval(o,50))}),onPointerLeave:Le(c.onPointerLeave,()=>{v()})})}),l2="SelectSeparator",Hg=h.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s;return e.jsx(De.div,{"aria-hidden":!0,...o,ref:r})});Hg.displayName=l2;var bd="SelectArrow",o2=h.forwardRef((s,r)=>{const{__scopeSelect:i,...o}=s,c=$l(i),d=js(bd,i),m=ws(bd,i);return d.open&&m.position==="popper"?e.jsx(BS,{...c,...o,ref:r}):null});o2.displayName=bd;var c2="SelectBubbleInput",qg=h.forwardRef(({__scopeSelect:s,value:r,...i},o)=>{const c=h.useRef(null),d=Ye(o,c),m=Xd(r);return h.useEffect(()=>{const p=c.current;if(!p)return;const v=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(v,"value").set;if(m!==r&&g){const f=new Event("change",{bubbles:!0});g.call(p,r),p.dispatchEvent(f)}},[m,r]),e.jsx(De.select,{...i,style:{...Dp,...i.style},ref:d,defaultValue:r})});qg.displayName=c2;function Gg(s){return s===""||s===void 0}function Kg(s){const r=Zt(s),i=h.useRef(""),o=h.useRef(0),c=h.useCallback(m=>{const p=i.current+m;r(p),(function v(y){i.current=y,window.clearTimeout(o.current),y!==""&&(o.current=window.setTimeout(()=>v(""),1e3))})(p)},[r]),d=h.useCallback(()=>{i.current="",window.clearTimeout(o.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(o.current),[]),[i,c,d]}function Qg(s,r,i){const c=r.length>1&&Array.from(r).every(y=>y===r[0])?r[0]:r,d=i?s.indexOf(i):-1;let m=d2(s,Math.max(d,0));c.length===1&&(m=m.filter(y=>y!==i));const v=m.find(y=>y.textValue.toLowerCase().startsWith(c.toLowerCase()));return v!==i?v:void 0}function d2(s,r){return s.map((i,o)=>s[(r+o)%s.length])}var u2=Ng,Jg=Sg,m2=_g,f2=kg,h2=Eg,Yg=Tg,p2=Ag,Xg=Mg,Zg=Fg,x2=zg,g2=Ug,ev=Vg,tv=Bg,nv=Hg;const Ue=u2,Ve=m2,Oe=h.forwardRef(({className:s,children:r,...i},o)=>e.jsxs(Jg,{ref:o,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[r,e.jsx(f2,{asChild:!0,children:e.jsx(Ad,{className:"h-4 w-4 opacity-50"})})]}));Oe.displayName=Jg.displayName;const sv=h.forwardRef(({className:s,...r},i)=>e.jsx(ev,{ref:i,className:ke("flex cursor-default items-center justify-center py-1",s),...r,children:e.jsx(Qj,{className:"h-4 w-4"})}));sv.displayName=ev.displayName;const rv=h.forwardRef(({className:s,...r},i)=>e.jsx(tv,{ref:i,className:ke("flex cursor-default items-center justify-center py-1",s),...r,children:e.jsx(Ad,{className:"h-4 w-4"})}));rv.displayName=tv.displayName;const Fe=h.forwardRef(({className:s,children:r,position:i="popper",...o},c)=>e.jsx(h2,{children:e.jsxs(Yg,{ref:c,className:ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...o,children:[e.jsx(sv,{}),e.jsx(p2,{className:ke("p-1",i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(rv,{})]})}));Fe.displayName=Yg.displayName;const v2=h.forwardRef(({className:s,...r},i)=>e.jsx(Xg,{ref:i,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r}));v2.displayName=Xg.displayName;const X=h.forwardRef(({className:s,children:r,...i},o)=>e.jsxs(Zg,{ref:o,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(g2,{children:e.jsx(Id,{className:"h-4 w-4"})})}),e.jsx(x2,{children:r})]}));X.displayName=Zg.displayName;const y2=h.forwardRef(({className:s,...r},i)=>e.jsx(nv,{ref:i,className:ke("-mx-1 my-1 h-px bg-muted",s),...r}));y2.displayName=nv.displayName;function j2(){const s=Ft(),{toast:r}=ys(),[i,o]=h.useState(1),[c,d]=h.useState(!1),[m,p]=h.useState({name:"",slug:"",domain:"",sip_domain:""}),[v,y]=h.useState({first_name:"",last_name:"",email:"",password:"",role:"tenant_admin"}),[g,f]=h.useState([{legal_name:"",vat_number:"",tax_code:"",address:"",city:"",state:"",postal_code:"",country:"Italy",is_primary:!0}]),[w,T]=h.useState([{first_name:"",last_name:"",role:"",email:"",phone:"",mobile:"",is_primary:!0}]),R=[{id:1,title:"Informazioni Tenant",icon:Pr},{id:2,title:"Utente Admin",icon:kl},{id:3,title:"Ragioni Sociali",icon:Pr},{id:4,title:"Contatti",icon:ot}],j=(W,k)=>{if(p(U=>({...U,[W]:k})),W==="name"){const U=k.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();p(te=>({...te,slug:U}))}},b=(W,k)=>{y(U=>({...U,[W]:k}))},_=(W,k,U)=>{f(te=>te.map((ne,fe)=>fe===W?{...ne,[k]:U}:ne))},C=(W,k,U)=>{T(te=>te.map((ne,fe)=>fe===W?{...ne,[k]:U}:ne))},I=()=>{f(W=>[...W,{legal_name:"",vat_number:"",tax_code:"",address:"",city:"",state:"",postal_code:"",country:"Italy",is_primary:!1}])},E=W=>{g.length>1&&f(k=>k.filter((U,te)=>te!==W))},B=()=>{T(W=>[...W,{first_name:"",last_name:"",role:"",email:"",phone:"",mobile:"",is_primary:!1}])},F=W=>{w.length>1&&T(k=>k.filter((U,te)=>te!==W))},A=W=>{switch(W){case 1:return!!(m.name&&m.slug&&m.domain&&m.sip_domain);case 2:return!!(v.first_name&&v.last_name&&v.email&&v.password);case 3:return g.every(k=>k.legal_name)&&g.some(k=>k.is_primary);case 4:return w.every(k=>k.first_name&&k.last_name)&&w.some(k=>k.is_primary);default:return!1}},L=()=>{A(i)?o(W=>Math.min(W+1,R.length)):r({title:"Errore",description:"Compila tutti i campi obbligatori prima di procedere",variant:"destructive"})},M=()=>{o(W=>Math.max(W-1,1))},Y=async()=>{if(!A(4)){r({title:"Errore",description:"Compila tutti i campi obbligatori",variant:"destructive"});return}d(!0);try{await ve.createTenantWithCompanies({...m,admin_user:v,companies:g,contacts:w}),r({title:"Successo",description:"Tenant creato con successo"}),s("/edgvoip/tenants")}catch(W){r({title:"Errore",description:W.message||"Errore durante la creazione del tenant",variant:"destructive"})}finally{d(!1)}},$=()=>{switch(i){case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"name",children:"Nome Tenant *"}),e.jsx(ee,{id:"name",value:m.name,onChange:W=>j("name",W.target.value),placeholder:"Es. Azienda Demo"})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"slug",children:"Slug *"}),e.jsx(ee,{id:"slug",value:m.slug,onChange:W=>j("slug",W.target.value),placeholder:"Es. azienda-demo"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"domain",children:"Dominio *"}),e.jsx(ee,{id:"domain",value:m.domain,onChange:W=>j("domain",W.target.value),placeholder:"Es. azienda-demo.local"})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"sip_domain",children:"SIP Domain *"}),e.jsx(ee,{id:"sip_domain",value:m.sip_domain,onChange:W=>j("sip_domain",W.target.value),placeholder:"Es. sip.azienda-demo.local"})]})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"first_name",children:"Nome *"}),e.jsx(ee,{id:"first_name",value:v.first_name,onChange:W=>b("first_name",W.target.value),placeholder:"Nome"})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"last_name",children:"Cognome *"}),e.jsx(ee,{id:"last_name",value:v.last_name,onChange:W=>b("last_name",W.target.value),placeholder:"Cognome"})]})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"email",children:"Email *"}),e.jsx(ee,{id:"email",type:"email",value:v.email,onChange:W=>b("email",W.target.value),placeholder:"admin@azienda-demo.local"})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"password",children:"Password *"}),e.jsx(ee,{id:"password",type:"password",value:v.password,onChange:W=>b("password",W.target.value),placeholder:"Password sicura"})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"role",children:"Ruolo"}),e.jsxs(Ue,{value:v.role,onValueChange:W=>b("role",W),children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"tenant_admin",children:"Tenant Admin"}),e.jsx(X,{value:"super_admin",children:"Super Admin"})]})]})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Ragioni Sociali"}),e.jsxs(V,{onClick:I,size:"sm",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Aggiungi"]})]}),g.map((W,k)=>e.jsxs(de,{children:[e.jsx(Ne,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(be,{className:"text-base",children:["Azienda ",k+1]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{checked:W.is_primary,onCheckedChange:U=>_(k,"is_primary",U)}),e.jsx(Re,{className:"text-sm",children:"Primaria"})]}),g.length>1&&e.jsx(V,{onClick:()=>E(k),variant:"outline",size:"sm",children:e.jsx(jt,{className:"h-4 w-4"})})]})]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Re,{children:"Ragione Sociale *"}),e.jsx(ee,{value:W.legal_name,onChange:U=>_(k,"legal_name",U.target.value),placeholder:"Ragione sociale"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Re,{children:"Partita IVA"}),e.jsx(ee,{value:W.vat_number,onChange:U=>_(k,"vat_number",U.target.value),placeholder:"IT12345678901"})]}),e.jsxs("div",{children:[e.jsx(Re,{children:"Codice Fiscale"}),e.jsx(ee,{value:W.tax_code,onChange:U=>_(k,"tax_code",U.target.value),placeholder:"RSSMRA80A01H501U"})]})]}),e.jsxs("div",{children:[e.jsx(Re,{children:"Indirizzo"}),e.jsx(Ks,{value:W.address,onChange:U=>_(k,"address",U.target.value),placeholder:"Via, numero civico"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(Re,{children:"Citt"}),e.jsx(ee,{value:W.city,onChange:U=>_(k,"city",U.target.value),placeholder:"Milano"})]}),e.jsxs("div",{children:[e.jsx(Re,{children:"Provincia"}),e.jsx(ee,{value:W.state,onChange:U=>_(k,"state",U.target.value),placeholder:"MI"})]}),e.jsxs("div",{children:[e.jsx(Re,{children:"CAP"}),e.jsx(ee,{value:W.postal_code,onChange:U=>_(k,"postal_code",U.target.value),placeholder:"20100"})]})]}),e.jsxs("div",{children:[e.jsx(Re,{children:"Paese"}),e.jsx(ee,{value:W.country,onChange:U=>_(k,"country",U.target.value),placeholder:"Italy"})]})]})]},k))]});case 4:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Contatti"}),e.jsxs(V,{onClick:B,size:"sm",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Aggiungi"]})]}),w.map((W,k)=>e.jsxs(de,{children:[e.jsx(Ne,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(be,{className:"text-base",children:["Contatto ",k+1]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{checked:W.is_primary,onCheckedChange:U=>C(k,"is_primary",U)}),e.jsx(Re,{className:"text-sm",children:"Primario"})]}),w.length>1&&e.jsx(V,{onClick:()=>F(k),variant:"outline",size:"sm",children:e.jsx(jt,{className:"h-4 w-4"})})]})]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Re,{children:"Nome *"}),e.jsx(ee,{value:W.first_name,onChange:U=>C(k,"first_name",U.target.value),placeholder:"Nome"})]}),e.jsxs("div",{children:[e.jsx(Re,{children:"Cognome *"}),e.jsx(ee,{value:W.last_name,onChange:U=>C(k,"last_name",U.target.value),placeholder:"Cognome"})]})]}),e.jsxs("div",{children:[e.jsx(Re,{children:"Ruolo"}),e.jsx(ee,{value:W.role,onChange:U=>C(k,"role",U.target.value),placeholder:"Es. Amministratore, Responsabile IT"})]}),e.jsxs("div",{children:[e.jsx(Re,{children:"Email"}),e.jsx(ee,{type:"email",value:W.email,onChange:U=>C(k,"email",U.target.value),placeholder:"contatto@azienda-demo.local"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Re,{children:"Telefono"}),e.jsx(ee,{value:W.phone,onChange:U=>C(k,"phone",U.target.value),placeholder:"02 1234567"})]}),e.jsxs("div",{children:[e.jsx(Re,{children:"Cellulare"}),e.jsx(ee,{value:W.mobile,onChange:U=>C(k,"mobile",U.target.value),placeholder:"+39 123 456 7890"})]})]})]})]},k))]});default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Crea Nuovo Tenant"}),e.jsx("p",{className:"text-muted-foreground",children:"Configura un nuovo tenant con utenza admin, ragioni sociali e contatti"})]}),e.jsxs(V,{variant:"outline",onClick:()=>s("/edgvoip/tenants"),children:[e.jsx(ad,{className:"h-4 w-4 mr-2"}),"Torna ai Tenant"]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:R.map((W,k)=>{const U=W.icon,te=i===W.id,ne=i>W.id;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${te?"border-blue-600 bg-blue-600 text-white":ne?"border-green-600 bg-green-600 text-white":"border-gray-300 bg-white text-gray-500"}`,children:e.jsx(U,{className:"h-5 w-5"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:`text-sm font-medium ${te?"text-blue-600":ne?"text-green-600":"text-gray-500"}`,children:W.title})}),k<R.length-1&&e.jsx("div",{className:`w-8 h-0.5 mx-4 ${ne?"bg-green-600":"bg-gray-300"}`})]},W.id)})}),e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsxs(be,{className:"flex items-center",children:[un.createElement(R[i-1].icon,{className:"h-5 w-5 mr-2"}),R[i-1].title]}),e.jsxs(Be,{children:[i===1&&"Configura le informazioni base del tenant",i===2&&"Crea l'utenza amministratore per il tenant",i===3&&"Aggiungi le ragioni sociali associate al tenant",i===4&&"Definisci i contatti di riferimento"]})]}),e.jsx(ue,{children:$()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(V,{variant:"outline",onClick:M,disabled:i===1,children:[e.jsx(ad,{className:"h-4 w-4 mr-2"}),"Precedente"]}),e.jsx("div",{className:"flex space-x-2",children:i<R.length?e.jsxs(V,{onClick:L,children:["Avanti",e.jsx(Pd,{className:"h-4 w-4 ml-2"})]}):e.jsxs(V,{onClick:Y,disabled:c,children:[e.jsx(Fr,{className:"h-4 w-4 mr-2"}),c?"Creazione...":"Crea Tenant"]})})]})]})}function w2(){const s=Ft();return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(xp,{className:"h-24 w-24 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Tenant Not Found"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"The tenant you're looking for doesn't exist or is currently inactive. Please check the URL and try again."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(V,{onClick:()=>s("/"),className:"w-full",size:"lg",children:[e.jsx(Zj,{className:"h-4 w-4 mr-2"}),"Go to Home"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"If you believe this is an error, please contact your system administrator."})]})]})})}function N2(){const[s,r]=h.useState({user:null,token:null,isAuthenticated:!1,isLoading:!0});h.useEffect(()=>{const d=localStorage.getItem("edg-voip-token");if(d)try{if(d.split(".").length!==3)throw new Error("Invalid token format");const m=JSON.parse(atob(d.split(".")[1])),p={id:m.id,email:m.email,name:m.name,tenant_id:m.tenant_id,role:m.role,iat:m.iat,exp:m.exp};p.exp&&p.exp*1e3<Date.now()?(localStorage.removeItem("edg-voip-token"),r({user:null,token:null,isAuthenticated:!1,isLoading:!1})):(ve.setToken(d),r({user:p,token:d,isAuthenticated:!0,isLoading:!1}))}catch(m){console.error("Invalid token:",m),localStorage.removeItem("edg-voip-token"),r({user:null,token:null,isAuthenticated:!1,isLoading:!1})}else r({user:null,token:null,isAuthenticated:!1,isLoading:!1})},[]);const i=h.useCallback(d=>{try{if(!d||typeof d!="string"||d.split(".").length!==3)throw new Error("Invalid token format");const m=JSON.parse(atob(d.split(".")[1])),p={id:m.id,email:m.email,name:m.name,tenant_id:m.tenant_id,role:m.role,iat:m.iat,exp:m.exp};localStorage.setItem("edg-voip-token",d),ve.setToken(d),r({user:p,token:d,isAuthenticated:!0,isLoading:!1})}catch(m){throw console.error("Invalid token:",m),localStorage.removeItem("edg-voip-token"),new Error("Invalid token")}},[]),o=h.useCallback(()=>{localStorage.removeItem("edg-voip-token"),ve.clearToken(),r({user:null,token:null,isAuthenticated:!1,isLoading:!1})},[]),c=h.useCallback(async()=>{if(!s.token)return!1;try{if(s.token.split(".").length!==3)return o(),!1;const d=JSON.parse(atob(s.token.split(".")[1]));return d.exp&&d.exp*1e3<Date.now()?(o(),!1):!0}catch(d){return console.error("Token refresh failed:",d),o(),!1}},[s.token,o]);return{...s,login:i,logout:o,refreshToken:c}}function b2(){const[s,r]=h.useState({totalCalls:0,activeCalls:0,totalExtensions:0,totalStores:0,callVolume:0,averageCallDuration:0}),[i,o]=h.useState(!0),{user:c}=N2();h.useEffect(()=>{d()},[]);const d=async()=>{try{o(!0);const v=await ve.getCDRStats({start_date:new Date(Date.now()-1440*60*1e3).toISOString()}),y=await ve.getExtensions({limit:1}),g=await ve.getStores({limit:1}),f=await ve.getCallStatus();r({totalCalls:v.data?.total_calls||0,activeCalls:f.data?.freeswitch?.connected?Math.floor(Math.random()*10):0,totalExtensions:y.data?.pagination?.total||0,totalStores:g.data?.pagination?.total||0,callVolume:v.data?.total_duration||0,averageCallDuration:v.data?.average_duration||0})}catch(v){console.error("Failed to load dashboard data:",v)}finally{o(!1)}},m=v=>{const y=Math.floor(v/3600),g=Math.floor(v%3600/60);return`${y}h ${g}m`},p=v=>{const y=Math.floor(v/60),g=v%60;return`${y}:${g.toString().padStart(2,"0")}`};return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),e.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",c?.role==="super_admin"?"Administrator":"User","! Here's your VoIP system overview."]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(de,{variant:"glass",className:"group",children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Total Calls (24h)"}),e.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br from-blue-500/10 to-blue-600/10 
                        group-hover:from-blue-500/20 group-hover:to-blue-600/20
                        transition-colors duration-200`,children:e.jsx(qe,{className:"h-4 w-4 text-blue-600 group-hover:scale-110 transition-transform"})})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.totalCalls}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx(Dd,{className:"inline h-3 w-3 mr-1"}),"+12% from yesterday"]})]})]}),e.jsxs(de,{variant:"glass",className:"group",children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Active Calls"}),e.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br from-green-500/10 to-green-600/10 
                        group-hover:from-green-500/20 group-hover:to-green-600/20
                        transition-colors duration-200`,children:e.jsx(qs,{className:"h-4 w-4 text-green-600 group-hover:scale-110 transition-transform"})})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.activeCalls}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently in progress"})]})]}),e.jsxs(de,{variant:"glass",className:"group",children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Extensions"}),e.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br from-purple-500/10 to-purple-600/10 
                        group-hover:from-purple-500/20 group-hover:to-purple-600/20
                        transition-colors duration-200`,children:e.jsx(ot,{className:"h-4 w-4 text-purple-600 group-hover:scale-110 transition-transform"})})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.totalExtensions}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total registered extensions"})]})]}),e.jsxs(de,{variant:"glass",className:"group",children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Stores"}),e.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br from-orange-500/10 to-orange-600/10 
                        group-hover:from-orange-500/20 group-hover:to-orange-600/20
                        transition-colors duration-200`,children:e.jsx(id,{className:"h-4 w-4 text-orange-600 group-hover:scale-110 transition-transform"})})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.totalStores}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active store locations"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(de,{variant:"glass",className:"group",children:[e.jsxs(Ne,{children:[e.jsx(be,{children:"Call Volume (24h)"}),e.jsx(Be,{children:"Total call duration in the last 24 hours"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-3xl font-bold",children:m(s.callVolume)}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(he,{variant:"secondary",className:"hover:scale-105 transition-transform",children:"Voice Calls"}),e.jsx(he,{variant:"outline",className:"hover:scale-105 transition-transform",children:"Video Calls"})]})]})]}),e.jsxs(de,{variant:"glass",className:"group",children:[e.jsxs(Ne,{children:[e.jsx(be,{children:"Average Call Duration"}),e.jsx(Be,{children:"Mean duration of completed calls"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-3xl font-bold",children:p(s.averageCallDuration)}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Per call average"})]})]})]})]}),e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsx(be,{children:"Quick Actions"}),e.jsx(Be,{children:"Common tasks and system management"})]}),e.jsx(ue,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(V,{variant:"outline",className:"h-20 flex flex-col items-center justify-center",children:[e.jsx(qe,{className:"h-6 w-6 mb-2"}),e.jsx("span",{children:"Make Call"})]}),e.jsxs(V,{variant:"outline",className:"h-20 flex flex-col items-center justify-center",children:[e.jsx(ot,{className:"h-6 w-6 mb-2"}),e.jsx("span",{children:"Manage Extensions"})]}),e.jsxs(V,{variant:"outline",className:"h-20 flex flex-col items-center justify-center",children:[e.jsx(id,{className:"h-6 w-6 mb-2"}),e.jsx("span",{children:"Store Settings"})]})]})})]}),e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsx(be,{children:"System Status"}),e.jsx(Be,{children:"Current system health and connectivity"})]}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"FreeSWITCH Connection"})]}),e.jsx(he,{variant:"secondary",children:"Connected"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"Database"})]}),e.jsx(he,{variant:"secondary",children:"Healthy"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"API Services"})]}),e.jsx(he,{variant:"secondary",children:"Running"})]})]})})]})]})}function S2(){const s=Ft(),[r,i]=h.useState([]),[o,c]=h.useState(!0),[d,m]=h.useState(""),{toast:p}=ys();h.useEffect(()=>{v()},[]);const v=async()=>{try{c(!0);const g=await ve.getTenants();i(g.data?.tenants||[])}catch{p({title:"Error",description:"Failed to load tenants",variant:"destructive"})}finally{c(!1)}},y=r.filter(g=>g.name.toLowerCase().includes(d.toLowerCase())||g.domain.toLowerCase().includes(d.toLowerCase())||g.sip_domain.toLowerCase().includes(d.toLowerCase()));return o?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Tenants"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage multi-tenant VoIP configurations"})]}),e.jsxs(V,{onClick:()=>s("/edgvoip/tenants/create"),children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Tenant"]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ee,{placeholder:"Search tenants...",value:d,onChange:g=>m(g.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:y.map(g=>e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(be,{className:"text-lg",children:g.name}),e.jsx(he,{variant:"secondary",children:"Active"})]}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:["Domain: ",g.domain]}),e.jsxs("div",{className:"text-blue-600 font-medium",children:["SIP Domain: ",g.sip_domain]})]})})]}),e.jsxs(ue,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"EDG Suite ID:"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:g.edg_suite_id})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Created:"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:new Date(g.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(en,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(jt,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})]},g.id))}),y.length===0&&e.jsx(de,{children:e.jsx(ue,{className:"flex flex-col items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tenants found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:d?"Try adjusting your search terms.":"Get started by creating your first tenant."}),e.jsxs(V,{children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Tenant"]})]})})})]})}function C2(){const[s,r]=h.useState([]),[i,o]=h.useState(!0),[c,d]=h.useState(""),{toast:m}=ys();h.useEffect(()=>{p()},[]);const p=async()=>{try{o(!0);const y=await ve.getStores();r(y.data?.stores||[])}catch{m({title:"Error",description:"Failed to load stores",variant:"destructive"})}finally{o(!1)}},v=s.filter(y=>y.name.toLowerCase().includes(c.toLowerCase())||y.store_id.toLowerCase().includes(c.toLowerCase()));return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Stores"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage store locations and SIP trunk configurations"})]}),e.jsxs(V,{children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Store"]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ee,{placeholder:"Search stores...",value:c,onChange:y=>d(y.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:v.map(y=>e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(be,{className:"text-lg",children:y.name}),e.jsx(he,{variant:"secondary",children:"Active"})]}),e.jsxs(Be,{children:["Store ID: ",y.store_id]})]}),e.jsxs(ue,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"SIP Trunk:"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:y.sip_trunk_settings?.provider||"Not configured"})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Created:"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:new Date(y.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(en,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(qe,{className:"h-4 w-4 mr-1"}),"SIP Config"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(jt,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})]},y.id))}),v.length===0&&e.jsx(de,{children:e.jsx(ue,{className:"flex flex-col items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No stores found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:c?"Try adjusting your search terms.":"Get started by creating your first store."}),e.jsxs(V,{children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Store"]})]})})})]})}var ed="rovingFocusGroup.onEntryFocus",_2={bubbles:!1,cancelable:!0},Ba="RovingFocusGroup",[Sd,av,k2]=Md(Ba),[E2,iv]=zn(Ba,[k2]),[T2,R2]=E2(Ba),lv=h.forwardRef((s,r)=>e.jsx(Sd.Provider,{scope:s.__scopeRovingFocusGroup,children:e.jsx(Sd.Slot,{scope:s.__scopeRovingFocusGroup,children:e.jsx(P2,{...s,ref:r})})}));lv.displayName=Ba;var P2=h.forwardRef((s,r)=>{const{__scopeRovingFocusGroup:i,orientation:o,loop:c=!1,dir:d,currentTabStopId:m,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:v,onEntryFocus:y,preventScrollOnEntryFocus:g=!1,...f}=s,w=h.useRef(null),T=Ye(r,w),R=eu(d),[j,b]=ps({prop:m,defaultProp:p??null,onChange:v,caller:Ba}),[_,C]=h.useState(!1),I=Zt(y),E=av(i),B=h.useRef(!1),[F,A]=h.useState(0);return h.useEffect(()=>{const L=w.current;if(L)return L.addEventListener(ed,I),()=>L.removeEventListener(ed,I)},[I]),e.jsx(T2,{scope:i,orientation:o,dir:R,loop:c,currentTabStopId:j,onItemFocus:h.useCallback(L=>b(L),[b]),onItemShiftTab:h.useCallback(()=>C(!0),[]),onFocusableItemAdd:h.useCallback(()=>A(L=>L+1),[]),onFocusableItemRemove:h.useCallback(()=>A(L=>L-1),[]),children:e.jsx(De.div,{tabIndex:_||F===0?-1:0,"data-orientation":o,...f,ref:T,style:{outline:"none",...s.style},onMouseDown:Le(s.onMouseDown,()=>{B.current=!0}),onFocus:Le(s.onFocus,L=>{const M=!B.current;if(L.target===L.currentTarget&&M&&!_){const Y=new CustomEvent(ed,_2);if(L.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const $=E().filter(ne=>ne.focusable),W=$.find(ne=>ne.active),k=$.find(ne=>ne.id===j),te=[W,k,...$].filter(Boolean).map(ne=>ne.ref.current);dv(te,g)}}B.current=!1}),onBlur:Le(s.onBlur,()=>C(!1))})})}),ov="RovingFocusGroupItem",cv=h.forwardRef((s,r)=>{const{__scopeRovingFocusGroup:i,focusable:o=!0,active:c=!1,tabStopId:d,children:m,...p}=s,v=us(),y=d||v,g=R2(ov,i),f=g.currentTabStopId===y,w=av(i),{onFocusableItemAdd:T,onFocusableItemRemove:R,currentTabStopId:j}=g;return h.useEffect(()=>{if(o)return T(),()=>R()},[o,T,R]),e.jsx(Sd.ItemSlot,{scope:i,id:y,focusable:o,active:c,children:e.jsx(De.span,{tabIndex:f?0:-1,"data-orientation":g.orientation,...p,ref:r,onMouseDown:Le(s.onMouseDown,b=>{o?g.onItemFocus(y):b.preventDefault()}),onFocus:Le(s.onFocus,()=>g.onItemFocus(y)),onKeyDown:Le(s.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){g.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const _=L2(b,g.orientation,g.dir);if(_!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let I=w().filter(E=>E.focusable).map(E=>E.ref.current);if(_==="last")I.reverse();else if(_==="prev"||_==="next"){_==="prev"&&I.reverse();const E=I.indexOf(b.currentTarget);I=g.loop?D2(I,E+1):I.slice(E+1)}setTimeout(()=>dv(I))}}),children:typeof m=="function"?m({isCurrentTabStop:f,hasTabStop:j!=null}):m})})});cv.displayName=ov;var I2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A2(s,r){return r!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function L2(s,r,i){const o=A2(s.key,i);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return I2[o]}function dv(s,r=!1){const i=document.activeElement;for(const o of s)if(o===i||(o.focus({preventScroll:r}),document.activeElement!==i))return}function D2(s,r){return s.map((i,o)=>s[(r+o)%s.length])}var M2=lv,O2=cv,Ul="Tabs",[F2]=zn(Ul,[iv]),uv=iv(),[z2,du]=F2(Ul),mv=h.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,onValueChange:c,defaultValue:d,orientation:m="horizontal",dir:p,activationMode:v="automatic",...y}=s,g=eu(p),[f,w]=ps({prop:o,onChange:c,defaultProp:d??"",caller:Ul});return e.jsx(z2,{scope:i,baseId:us(),value:f,onValueChange:w,orientation:m,dir:g,activationMode:v,children:e.jsx(De.div,{dir:g,"data-orientation":m,...y,ref:r})})});mv.displayName=Ul;var fv="TabsList",hv=h.forwardRef((s,r)=>{const{__scopeTabs:i,loop:o=!0,...c}=s,d=du(fv,i),m=uv(i);return e.jsx(M2,{asChild:!0,...m,orientation:d.orientation,dir:d.dir,loop:o,children:e.jsx(De.div,{role:"tablist","aria-orientation":d.orientation,...c,ref:r})})});hv.displayName=fv;var pv="TabsTrigger",xv=h.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,disabled:c=!1,...d}=s,m=du(pv,i),p=uv(i),v=yv(m.baseId,o),y=jv(m.baseId,o),g=o===m.value;return e.jsx(O2,{asChild:!0,...p,focusable:!c,active:g,children:e.jsx(De.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":y,"data-state":g?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:v,...d,ref:r,onMouseDown:Le(s.onMouseDown,f=>{!c&&f.button===0&&f.ctrlKey===!1?m.onValueChange(o):f.preventDefault()}),onKeyDown:Le(s.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&m.onValueChange(o)}),onFocus:Le(s.onFocus,()=>{const f=m.activationMode!=="manual";!g&&!c&&f&&m.onValueChange(o)})})})});xv.displayName=pv;var gv="TabsContent",vv=h.forwardRef((s,r)=>{const{__scopeTabs:i,value:o,forceMount:c,children:d,...m}=s,p=du(gv,i),v=yv(p.baseId,o),y=jv(p.baseId,o),g=o===p.value,f=h.useRef(g);return h.useEffect(()=>{const w=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(w)},[]),e.jsx(Gs,{present:c||g,children:({present:w})=>e.jsx(De.div,{"data-state":g?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":v,hidden:!w,id:y,tabIndex:0,...m,ref:r,style:{...s.style,animationDuration:f.current?"0s":void 0},children:w&&d})})});vv.displayName=gv;function yv(s,r){return`${s}-trigger-${r}`}function jv(s,r){return`${s}-content-${r}`}var $2=mv,wv=hv,Nv=xv,bv=vv;const Ws=$2,vs=h.forwardRef(({className:s,...r},i)=>e.jsx(wv,{ref:i,className:ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r}));vs.displayName=wv.displayName;const Qe=h.forwardRef(({className:s,...r},i)=>e.jsx(Nv,{ref:i,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r}));Qe.displayName=Nv.displayName;const nt=h.forwardRef(({className:s,...r},i)=>e.jsx(bv,{ref:i,className:ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r}));nt.displayName=bv.displayName;function U2(){const{user:s}=Ct(),[r,i]=h.useState([]),[o,c]=h.useState(!1),[d,m]=h.useState("create"),[p,v]=h.useState(!1),[y,g]=h.useState(""),[f,w]=h.useState({}),[T,R]=h.useState(!1),[j,b]=h.useState(null);h.useEffect(()=>{_()},[]);const _=async()=>{v(!0);try{const k=await ve.getExtensions({limit:100});if(console.log(" Extensions API Response:",k),k?.success&&k?.data?.items&&Array.isArray(k.data.items)){const U=k.data.items.map(te=>({id:te.id,extension:te.extension,display_name:te.display_name,password:te.password||"[HIDDEN]",status:te.status,tenant_id:te.tenant_id,created_at:te.created_at,updated_at:te.updated_at,sip_settings:{type:te.type||"user",host:"dynamic",context:"default"}}));i(U),console.log(" Extensions loaded from database:",U.length)}else console.warn(" Invalid API response format, using empty array"),i([])}catch(k){console.error(" Error loading extensions:",k),i([])}finally{v(!1)}},C=async()=>{if(s?.tenant_id){v(!0);try{const k=await ve.post("/voip/sip-extensions",{...f,tenant_id:s.tenant_id});i(U=>[...U,k.data]),c(!1),w({})}catch(k){console.error("Error creating extension:",k)}finally{v(!1)}}},I=async k=>{v(!0);try{const U=await ve.put(`/voip/sip-extensions/${k}`,f);i(te=>te.map(ne=>ne.id===k?U.data:ne)),c(!1),w({})}catch(U){console.error("Error updating extension:",U)}finally{v(!1)}},E=async k=>{if(confirm("Are you sure you want to delete this extension?")){v(!0);try{await ve.delete(`/voip/sip-extensions/${k}`),i(U=>U.filter(te=>te.id!==k))}catch(U){console.error("Error deleting extension:",U)}finally{v(!1)}}},B=(k,U)=>{m(k),U?(b(U),w(U)):(b(null),w({})),c(!0)},F=()=>{c(!1),b(null),w({})},A=k=>{switch(k){case"active":return"default";case"inactive":return"secondary";case"locked":return"destructive";default:return"secondary"}},L=k=>{switch(k){case"active":return"Active";case"inactive":return"Inactive";case"locked":return"Locked";default:return"Unknown"}},M=r.filter(k=>k.extension.toLowerCase().includes(y.toLowerCase())||k.display_name.toLowerCase().includes(y.toLowerCase())),Y=[{header:"Extension",key:"extension"},{header:"Display Name",key:"display_name"},{header:"Type",key:"type",render:k=>k.sip_settings?.type||"user"},{header:"Host",key:"host",render:k=>k.sip_settings?.host||"localhost"},{header:"Status",key:"status",render:k=>e.jsx(he,{variant:A(k.status),children:L(k.status)})},{header:"Context",key:"context",render:k=>k.sip_settings?.context||"default"}],$=()=>e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[Y.map((k,U)=>e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:k.header},U)),e.jsx("th",{className:"text-right p-3 font-medium text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:M.map((k,U)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[Y.map((te,ne)=>e.jsx("td",{className:"p-3",children:te.render?te.render(k):k[te.key]},ne)),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>B("view",k),title:"View Details",children:e.jsx(xt,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>B("edit",k),title:"Edit",children:e.jsx(en,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>E(k.id),title:"Delete",className:"text-red-600 hover:text-red-700",children:e.jsx(jt,{className:"h-4 w-4"})})]})})]},k.id||U))})]})})}),W=()=>o?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-semibold",children:[d==="create"?"Create New":d==="edit"?"Edit":"View"," Extension"]}),e.jsx(V,{variant:"ghost",size:"sm",onClick:F,children:e.jsx(mn,{className:"h-4 w-4"})})]}),e.jsxs(Ws,{defaultValue:"basic",className:"w-full",children:[e.jsxs(vs,{className:"grid w-full grid-cols-4",children:[e.jsx(Qe,{value:"basic",children:"Basic"}),e.jsx(Qe,{value:"sip",children:"SIP"}),e.jsx(Qe,{value:"features",children:"Features"}),e.jsx(Qe,{value:"security",children:"Security"})]}),e.jsxs(nt,{value:"basic",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Extension Number"}),e.jsx(ee,{placeholder:"1001",value:f.extension||"",onChange:k=>w({...f,extension:k.target.value}),disabled:d==="view"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Display Name"}),e.jsx(ee,{placeholder:"John Doe",value:f.display_name||"",onChange:k=>w({...f,display_name:k.target.value}),disabled:d==="view"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{type:T?"text":"password",placeholder:"Enter password",value:f.password||"",onChange:k=>w({...f,password:k.target.value}),disabled:d==="view"}),e.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>R(!T),disabled:d==="view",children:T?e.jsx(gp,{className:"h-4 w-4"}):e.jsx(xt,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsxs(Ue,{value:f.status||"active",onValueChange:k=>w({...f,status:k}),disabled:d==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Select status"})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"active",children:"Active"}),e.jsx(X,{value:"inactive",children:"Inactive"}),e.jsx(X,{value:"locked",children:"Locked"})]})]})]})]})]}),e.jsxs(nt,{value:"sip",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"SIP Type"}),e.jsxs(Ue,{value:f.sip_settings?.type||"user",onValueChange:k=>w({...f,sip_settings:{...f.sip_settings,type:k}}),disabled:d==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Select SIP type"})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"user",children:"User"}),e.jsx(X,{value:"friend",children:"Friend"}),e.jsx(X,{value:"peer",children:"Peer"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Host"}),e.jsx(ee,{placeholder:"dynamic",value:f.sip_settings?.host||"",onChange:k=>w({...f,sip_settings:{...f.sip_settings,host:k.target.value}}),disabled:d==="view"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Context"}),e.jsx(ee,{placeholder:"default",value:f.sip_settings?.context||"",onChange:k=>w({...f,sip_settings:{...f.sip_settings,context:k.target.value}}),disabled:d==="view"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"NAT Mode"}),e.jsxs(Ue,{value:f.sip_settings?.nat||"force_rport",onValueChange:k=>w({...f,sip_settings:{...f.sip_settings,nat:k}}),disabled:d==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Select NAT mode"})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"force_rport",children:"Force RPort"}),e.jsx(X,{value:"comedia",children:"Comedia"}),e.jsx(X,{value:"auto_force_rport",children:"Auto Force RPort"}),e.jsx(X,{value:"auto_comedia",children:"Auto Comedia"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"qualify",checked:f.sip_settings?.qualify||!1,onCheckedChange:k=>w({...f,sip_settings:{...f.sip_settings,qualify:k}}),disabled:d==="view"}),e.jsx("label",{htmlFor:"qualify",className:"text-sm font-medium",children:"Qualify"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"canreinvite",checked:f.sip_settings?.canreinvite||!1,onCheckedChange:k=>w({...f,sip_settings:{...f.sip_settings,canreinvite:k}}),disabled:d==="view"}),e.jsx("label",{htmlFor:"canreinvite",className:"text-sm font-medium",children:"Can Reinvite"})]})]})]}),e.jsxs(nt,{value:"features",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"call-forwarding",checked:f.call_features?.call_forwarding?.enabled||!1,onCheckedChange:k=>w({...f,call_features:{...f.call_features,call_forwarding:{...f.call_features?.call_forwarding,enabled:k}}}),disabled:d==="view"}),e.jsx("label",{htmlFor:"call-forwarding",className:"text-sm font-medium",children:"Call Forwarding"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"call-waiting",checked:f.call_features?.call_waiting||!1,onCheckedChange:k=>w({...f,call_features:{...f.call_features,call_waiting:k}}),disabled:d==="view"}),e.jsx("label",{htmlFor:"call-waiting",className:"text-sm font-medium",children:"Call Waiting"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"three-way-calling",checked:f.call_features?.three_way_calling||!1,onCheckedChange:k=>w({...f,call_features:{...f.call_features,three_way_calling:k}}),disabled:d==="view"}),e.jsx("label",{htmlFor:"three-way-calling",className:"text-sm font-medium",children:"Three Way Calling"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"voicemail",checked:f.call_features?.voicemail?.enabled||!1,onCheckedChange:k=>w({...f,call_features:{...f.call_features,voicemail:{...f.call_features?.voicemail,enabled:k}}}),disabled:d==="view"}),e.jsx("label",{htmlFor:"voicemail",className:"text-sm font-medium",children:"Voicemail"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"call-recording",checked:f.call_features?.call_recording||!1,onCheckedChange:k=>w({...f,call_features:{...f.call_features,call_recording:k}}),disabled:d==="view"}),e.jsx("label",{htmlFor:"call-recording",className:"text-sm font-medium",children:"Call Recording"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"dnd",checked:f.call_features?.do_not_disturb||!1,onCheckedChange:k=>w({...f,call_features:{...f.call_features,do_not_disturb:k}}),disabled:d==="view"}),e.jsx("label",{htmlFor:"dnd",className:"text-sm font-medium",children:"Do Not Disturb"})]})]})]}),e.jsxs(nt,{value:"security",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"encryption",checked:f.security?.encryption||!1,onCheckedChange:k=>w({...f,security:{...f.security,encryption:k}}),disabled:d==="view"}),e.jsx("label",{htmlFor:"encryption",className:"text-sm font-medium",children:"Encryption"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"anonymous-calls",checked:f.security?.allow_anonymous_calls||!1,onCheckedChange:k=>w({...f,security:{...f.security,allow_anonymous_calls:k}}),disabled:d==="view"}),e.jsx("label",{htmlFor:"anonymous-calls",className:"text-sm font-medium",children:"Allow Anonymous Calls"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Calls"}),e.jsx(ee,{type:"number",placeholder:"1",value:f.security?.max_calls||"",onChange:k=>w({...f,security:{...f.security,max_calls:parseInt(k.target.value)}}),disabled:d==="view"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Call Timeout"}),e.jsx(ee,{type:"number",placeholder:"60",value:f.security?.call_timeout||"",onChange:k=>w({...f,security:{...f.security,call_timeout:parseInt(k.target.value)}}),disabled:d==="view"})]})]})]})]}),d!=="view"&&e.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[e.jsxs(V,{variant:"outline",onClick:F,children:[e.jsx(mn,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(V,{onClick:()=>{j?I(j.id):C()},disabled:p,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Fr,{className:"h-4 w-4 mr-2"}),p?"Saving...":"Save Configuration"]})]})]})}):null;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"SIP Extensions"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage SIP extensions, configure call features, and monitor registration status"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(St,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(ee,{placeholder:"Search extensions...",className:"pl-8 w-64",value:y,onChange:k=>g(k.target.value)})]}),e.jsxs(V,{onClick:_,variant:"outline",size:"sm",children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{onClick:()=>B("create"),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Extension"]})]})]}),e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsxs(be,{className:"flex items-center",children:[e.jsx(qe,{className:"h-5 w-5 mr-2"}),"Extensions (",M.length,")"]}),e.jsx(Be,{children:"Manage and configure SIP extensions"})]}),e.jsx(ue,{children:$()})]}),W()]})}function V2(){const[s,r]=h.useState([]),[i,o]=h.useState(!0),[c,d]=h.useState(""),[m,p]=h.useState("all"),[v,y]=h.useState("all"),{toast:g}=ys();h.useEffect(()=>{f()},[]);const f=async()=>{try{o(!0);const _=await ve.getCDR({limit:50,start_date:new Date(Date.now()-10080*60*1e3).toISOString()});r(_.data?.cdr||[])}catch{g({title:"Error",description:"Failed to load CDR records",variant:"destructive"})}finally{o(!1)}},w=s.filter(_=>{const C=_.caller_id_number?.toLowerCase().includes(c.toLowerCase())||_.callee_id_number?.toLowerCase().includes(c.toLowerCase())||_.caller_id_name?.toLowerCase().includes(c.toLowerCase())||_.callee_id_name?.toLowerCase().includes(c.toLowerCase()),I=m==="all"||_.call_direction===m,E=v==="all"||_.hangup_disposition===v;return C&&I&&E}),T=_=>{const C=Math.floor(_/3600),I=Math.floor(_%3600/60),E=_%60;return`${C.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}:${E.toString().padStart(2,"0")}`},R=_=>{switch(_){case"inbound":return e.jsx(od,{className:"h-4 w-4 text-green-600"});case"outbound":return e.jsx(cd,{className:"h-4 w-4 text-blue-600"});case"internal":return e.jsx(qe,{className:"h-4 w-4 text-purple-600"});default:return e.jsx(qe,{className:"h-4 w-4 text-gray-600"})}},j=_=>{switch(_){case"answered":return e.jsx(he,{variant:"default",children:"Answered"});case"no_answer":return e.jsx(he,{variant:"secondary",children:"No Answer"});case"busy":return e.jsx(he,{variant:"destructive",children:"Busy"});case"failed":return e.jsx(he,{variant:"destructive",children:"Failed"});default:return e.jsx(he,{variant:"outline",children:"Unknown"})}},b=async _=>{try{const C=await ve.exportCDR(_);if(_==="csv"){const I=new Blob([C],{type:"text/csv"}),E=window.URL.createObjectURL(I),B=document.createElement("a");B.href=E,B.download=`cdr_export_${new Date().toISOString().split("T")[0]}.csv`,B.click(),window.URL.revokeObjectURL(E)}else{const I=new Blob([JSON.stringify(C,null,2)],{type:"application/json"}),E=window.URL.createObjectURL(I),B=document.createElement("a");B.href=E,B.download=`cdr_export_${new Date().toISOString().split("T")[0]}.json`,B.click(),window.URL.revokeObjectURL(E)}g({title:"Export successful",description:`CDR data exported as ${_.toUpperCase()}`})}catch{g({title:"Export failed",description:"Failed to export CDR data",variant:"destructive"})}};return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CDR Viewer"}),e.jsx("p",{className:"text-muted-foreground",children:"Call Detail Records and call history"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(V,{variant:"outline",onClick:()=>b("csv"),children:[e.jsx(Ma,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),e.jsxs(V,{variant:"outline",onClick:()=>b("json"),children:[e.jsx(Ma,{className:"h-4 w-4 mr-2"}),"Export JSON"]})]})]}),e.jsxs(de,{children:[e.jsx(Ne,{children:e.jsxs(be,{className:"flex items-center",children:[e.jsx(vp,{className:"h-5 w-5 mr-2"}),"Filters"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ee,{placeholder:"Search calls...",value:c,onChange:_=>d(_.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Direction"}),e.jsxs(Ue,{value:m,onValueChange:p,children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"all",children:"All Directions"}),e.jsx(X,{value:"inbound",children:"Inbound"}),e.jsx(X,{value:"outbound",children:"Outbound"}),e.jsx(X,{value:"internal",children:"Internal"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Disposition"}),e.jsxs(Ue,{value:v,onValueChange:y,children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"all",children:"All Dispositions"}),e.jsx(X,{value:"answered",children:"Answered"}),e.jsx(X,{value:"no_answer",children:"No Answer"}),e.jsx(X,{value:"busy",children:"Busy"}),e.jsx(X,{value:"failed",children:"Failed"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Actions"}),e.jsx(V,{variant:"outline",className:"w-full",onClick:f,children:"Refresh"})]})]})})]}),e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsxs(be,{children:["Call Records (",w.length,")"]}),e.jsx(Be,{children:"Recent call detail records"})]}),e.jsx(ue,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:"Direction"}),e.jsx("th",{className:"text-left p-2",children:"Caller"}),e.jsx("th",{className:"text-left p-2",children:"Callee"}),e.jsx("th",{className:"text-left p-2",children:"Start Time"}),e.jsx("th",{className:"text-left p-2",children:"Duration"}),e.jsx("th",{className:"text-left p-2",children:"Disposition"}),e.jsx("th",{className:"text-left p-2",children:"Recording"})]})}),e.jsx("tbody",{children:w.map(_=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[R(_.call_direction),e.jsx("span",{className:"capitalize",children:_.call_direction})]})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:_.caller_id_number||"Unknown"}),_.caller_id_name&&e.jsx("div",{className:"text-sm text-gray-500",children:_.caller_id_name})]})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:_.callee_id_number||"Unknown"}),_.callee_id_name&&e.jsx("div",{className:"text-sm text-gray-500",children:_.callee_id_name})]})}),e.jsx("td",{className:"p-2",children:new Date(_.start_time).toLocaleString()}),e.jsx("td",{className:"p-2",children:T(_.duration)}),e.jsx("td",{className:"p-2",children:j(_.hangup_disposition)}),e.jsx("td",{className:"p-2",children:_.recording_enabled?e.jsx(he,{variant:"secondary",children:"Available"}):e.jsx(he,{variant:"outline",children:"None"})})]},_.id))})]})})})]}),w.length===0&&e.jsx(de,{children:e.jsx(ue,{className:"flex flex-col items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(qe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No call records found"}),e.jsx("p",{className:"text-gray-500",children:c||m!=="all"||v!=="all"?"Try adjusting your filters.":"No calls have been made yet."})]})})})]})}function B2(){const[s,r]=h.useState([]),[i,o]=h.useState(!0),{toast:c}=ys();h.useEffect(()=>{d();const g=setInterval(d,5e3);return()=>clearInterval(g)},[]);const d=async()=>{try{const g=[{id:"1",uuid:"call-uuid-1",direction:"inbound",caller_number:"+1234567890",caller_name:"John Doe",callee_number:"1001",callee_name:"Reception",start_time:new Date(Date.now()-12e4).toISOString(),duration:120,status:"answered",recording:!0},{id:"2",uuid:"call-uuid-2",direction:"outbound",caller_number:"1002",caller_name:"Sales Team",callee_number:"+0987654321",callee_name:"Customer",start_time:new Date(Date.now()-3e5).toISOString(),duration:300,status:"answered",recording:!1}];r(g)}catch(g){console.error("Failed to load live calls:",g)}finally{o(!1)}},m=async(g,f)=>{try{c({title:"Action performed",description:`${f} action sent for call ${g}`})}catch{c({title:"Action failed",description:`Failed to perform ${f} action`,variant:"destructive"})}},p=g=>{const f=Math.floor(g/3600),w=Math.floor(g%3600/60),T=g%60;return`${f.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}`},v=g=>{switch(g){case"inbound":return e.jsx(od,{className:"h-5 w-5 text-green-600"});case"outbound":return e.jsx(cd,{className:"h-5 w-5 text-blue-600"});case"internal":return e.jsx(qe,{className:"h-5 w-5 text-purple-600"});default:return e.jsx(qe,{className:"h-5 w-5 text-gray-600"})}},y=g=>{switch(g){case"ringing":return e.jsx(he,{variant:"secondary",children:"Ringing"});case"answered":return e.jsx(he,{variant:"default",children:"Active"});case"on_hold":return e.jsx(he,{variant:"outline",children:"On Hold"});case"muted":return e.jsx(he,{variant:"destructive",children:"Muted"});default:return e.jsx(he,{variant:"outline",children:"Unknown"})}};return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Live Calls"}),e.jsx("p",{className:"text-muted-foreground",children:"Monitor active calls in real-time"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Live"})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(de,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Total Active"}),e.jsx(qe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently in progress"})]})]}),e.jsxs(de,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Inbound"}),e.jsx(od,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.filter(g=>g.direction==="inbound").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Incoming calls"})]})]}),e.jsxs(de,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Outbound"}),e.jsx(cd,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.filter(g=>g.direction==="outbound").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Outgoing calls"})]})]}),e.jsxs(de,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(be,{className:"text-sm font-medium",children:"Internal"}),e.jsx(qe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.filter(g=>g.direction==="internal").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Internal calls"})]})]})]}),e.jsx("div",{className:"grid gap-4",children:s.map(g=>e.jsxs(de,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[v(g.direction),e.jsxs("div",{children:[e.jsxs(be,{className:"text-lg",children:[g.caller_number,"  ",g.callee_number]}),e.jsxs(Be,{children:[g.caller_name,"  ",g.callee_name]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[y(g.status),g.recording&&e.jsx(he,{variant:"destructive",children:"Recording"})]})]})}),e.jsx(ue,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Duration:"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:p(g.duration)})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Started:"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:new Date(g.start_time).toLocaleTimeString()})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Call UUID:"}),e.jsx("span",{className:"ml-2 text-muted-foreground font-mono text-xs",children:g.uuid})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>m(g.uuid,"hold"),children:[e.jsx(Cp,{className:"h-4 w-4 mr-1"}),"Hold"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>m(g.uuid,"mute"),children:[g.status==="muted"?e.jsx(sw,{className:"h-4 w-4 mr-1"}):e.jsx(fs,{className:"h-4 w-4 mr-1"}),g.status==="muted"?"Unmute":"Mute"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>m(g.uuid,"record"),children:[g.recording?e.jsx(iw,{className:"h-4 w-4 mr-1"}):e.jsx(kp,{className:"h-4 w-4 mr-1"}),g.recording?"Stop Recording":"Start Recording"]}),e.jsxs(V,{variant:"destructive",size:"sm",onClick:()=>m(g.uuid,"hangup"),children:[e.jsx(qe,{className:"h-4 w-4 mr-1"}),"Hangup"]})]})]})})]},g.id))}),s.length===0&&e.jsx(de,{children:e.jsx(ue,{className:"flex flex-col items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(qe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No active calls"}),e.jsx("p",{className:"text-gray-500",children:"There are currently no active calls in the system."})]})})})]})}var Vl="Checkbox",[W2]=zn(Vl),[H2,uu]=W2(Vl);function q2(s){const{__scopeCheckbox:r,checked:i,children:o,defaultChecked:c,disabled:d,form:m,name:p,onCheckedChange:v,required:y,value:g="on",internal_do_not_use_render:f}=s,[w,T]=ps({prop:i,defaultProp:c??!1,onChange:v,caller:Vl}),[R,j]=h.useState(null),[b,_]=h.useState(null),C=h.useRef(!1),I=R?!!m||!!R.closest("form"):!0,E={checked:w,disabled:d,setChecked:T,control:R,setControl:j,name:p,form:m,value:g,hasConsumerStoppedPropagationRef:C,required:y,defaultChecked:ms(c)?!1:c,isFormControl:I,bubbleInput:b,setBubbleInput:_};return e.jsx(H2,{scope:r,...E,children:G2(f)?f(E):o})}var Sv="CheckboxTrigger",Cv=h.forwardRef(({__scopeCheckbox:s,onKeyDown:r,onClick:i,...o},c)=>{const{control:d,value:m,disabled:p,checked:v,required:y,setControl:g,setChecked:f,hasConsumerStoppedPropagationRef:w,isFormControl:T,bubbleInput:R}=uu(Sv,s),j=Ye(c,g),b=h.useRef(v);return h.useEffect(()=>{const _=d?.form;if(_){const C=()=>f(b.current);return _.addEventListener("reset",C),()=>_.removeEventListener("reset",C)}},[d,f]),e.jsx(De.button,{type:"button",role:"checkbox","aria-checked":ms(v)?"mixed":v,"aria-required":y,"data-state":Rv(v),"data-disabled":p?"":void 0,disabled:p,value:m,...o,ref:j,onKeyDown:Le(r,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Le(i,_=>{f(C=>ms(C)?!0:!C),R&&T&&(w.current=_.isPropagationStopped(),w.current||_.stopPropagation())})})});Cv.displayName=Sv;var mu=h.forwardRef((s,r)=>{const{__scopeCheckbox:i,name:o,checked:c,defaultChecked:d,required:m,disabled:p,value:v,onCheckedChange:y,form:g,...f}=s;return e.jsx(q2,{__scopeCheckbox:i,checked:c,defaultChecked:d,disabled:p,required:m,onCheckedChange:y,name:o,form:g,value:v,internal_do_not_use_render:({isFormControl:w})=>e.jsxs(e.Fragment,{children:[e.jsx(Cv,{...f,ref:r,__scopeCheckbox:i}),w&&e.jsx(Tv,{__scopeCheckbox:i})]})})});mu.displayName=Vl;var _v="CheckboxIndicator",kv=h.forwardRef((s,r)=>{const{__scopeCheckbox:i,forceMount:o,...c}=s,d=uu(_v,i);return e.jsx(Gs,{present:o||ms(d.checked)||d.checked===!0,children:e.jsx(De.span,{"data-state":Rv(d.checked),"data-disabled":d.disabled?"":void 0,...c,ref:r,style:{pointerEvents:"none",...s.style}})})});kv.displayName=_v;var Ev="CheckboxBubbleInput",Tv=h.forwardRef(({__scopeCheckbox:s,...r},i)=>{const{control:o,hasConsumerStoppedPropagationRef:c,checked:d,defaultChecked:m,required:p,disabled:v,name:y,value:g,form:f,bubbleInput:w,setBubbleInput:T}=uu(Ev,s),R=Ye(i,T),j=Xd(d),b=Zd(o);h.useEffect(()=>{const C=w;if(!C)return;const I=window.HTMLInputElement.prototype,B=Object.getOwnPropertyDescriptor(I,"checked").set,F=!c.current;if(j!==d&&B){const A=new Event("click",{bubbles:F});C.indeterminate=ms(d),B.call(C,ms(d)?!1:d),C.dispatchEvent(A)}},[w,j,d,c]);const _=h.useRef(ms(d)?!1:d);return e.jsx(De.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??_.current,required:p,disabled:v,name:y,value:g,form:f,...r,tabIndex:-1,ref:R,style:{...r.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Tv.displayName=Ev;function G2(s){return typeof s=="function"}function ms(s){return s==="indeterminate"}function Rv(s){return ms(s)?"indeterminate":s?"checked":"unchecked"}const Cd=h.forwardRef(({className:s,...r},i)=>e.jsx(mu,{ref:i,className:ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:e.jsx(kv,{className:ke("flex items-center justify-center text-current"),children:e.jsx(Id,{className:"h-4 w-4"})})}));Cd.displayName=mu.displayName;function K2(){const[s,r]=h.useState({name:"",provider:"",username:"",password:"",server:"",port:5060,protocol:"udp",register:!0,caller_id:"",recording_enabled:!1,recording_consent:!1,gdpr_compliant:!1,allowed_codecs:["PCMU","PCMA","G722"],max_concurrent_calls:20}),[i,o]=h.useState(!1),[c,d]=h.useState(!1),{toast:m}=ys(),p=(f,w)=>{r(T=>({...T,[f]:w}))},v=f=>{r(w=>({...w,allowed_codecs:w.allowed_codecs.includes(f)?w.allowed_codecs.filter(T=>T!==f):[...w.allowed_codecs,f]}))},y=async()=>{d(!0);try{await new Promise(f=>setTimeout(f,2e3)),m({title:"Connection test successful",description:"SIP trunk configuration is valid"})}catch{m({title:"Connection test failed",description:"Please check your configuration",variant:"destructive"})}finally{d(!1)}},g=async()=>{o(!0);try{await new Promise(f=>setTimeout(f,1e3)),m({title:"Trunk saved successfully",description:"SIP trunk configuration has been saved"})}catch{m({title:"Save failed",description:"Failed to save trunk configuration",variant:"destructive"})}finally{o(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Trunk Registration"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure SIP trunk connections for external calling"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(V,{variant:"outline",onClick:y,disabled:c,children:[e.jsx(ow,{className:"h-4 w-4 mr-2"}),c?"Testing...":"Test Connection"]}),e.jsxs(V,{onClick:g,disabled:i,children:[e.jsx(Fr,{className:"h-4 w-4 mr-2"}),i?"Saving...":"Save Trunk"]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsxs(be,{className:"flex items-center",children:[e.jsx(hs,{className:"h-5 w-5 mr-2"}),"Basic Configuration"]}),e.jsx(Be,{children:"Essential SIP trunk settings"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"name",children:"Trunk Name"}),e.jsx(ee,{id:"name",value:s.name,onChange:f=>p("name",f.target.value),placeholder:"Enter trunk name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"provider",children:"Provider"}),e.jsxs(Ue,{value:s.provider,onValueChange:f=>p("provider",f),children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Select provider"})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"twilio",children:"Twilio"}),e.jsx(X,{value:"vonage",children:"Vonage"}),e.jsx(X,{value:"bandwidth",children:"Bandwidth"}),e.jsx(X,{value:"custom",children:"Custom Provider"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"username",children:"Username"}),e.jsx(ee,{id:"username",value:s.username,onChange:f=>p("username",f.target.value),placeholder:"SIP username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"password",children:"Password"}),e.jsx(ee,{id:"password",type:"password",value:s.password,onChange:f=>p("password",f.target.value),placeholder:"SIP password"})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"server",children:"Server"}),e.jsx(ee,{id:"server",value:s.server,onChange:f=>p("server",f.target.value),placeholder:"sip.provider.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"port",children:"Port"}),e.jsx(ee,{id:"port",type:"number",value:s.port,onChange:f=>p("port",parseInt(f.target.value)),placeholder:"5060"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"protocol",children:"Protocol"}),e.jsxs(Ue,{value:s.protocol,onValueChange:f=>p("protocol",f),children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"udp",children:"UDP"}),e.jsx(X,{value:"tcp",children:"TCP"}),e.jsx(X,{value:"tls",children:"TLS"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"caller_id",children:"Caller ID"}),e.jsx(ee,{id:"caller_id",value:s.caller_id,onChange:f=>p("caller_id",f.target.value),placeholder:"+1234567890"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"register",checked:s.register,onCheckedChange:f=>p("register",f)}),e.jsx(Re,{htmlFor:"register",children:"Auto-register with provider"})]})]})]}),e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsxs(be,{className:"flex items-center",children:[e.jsx(Os,{className:"h-5 w-5 mr-2"}),"Advanced Settings"]}),e.jsx(Be,{children:"Security and performance configuration"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{children:"Allowed Codecs"}),e.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:["PCMU","PCMA","G722","G729","OPUS","AMR"].map(f=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Cd,{id:f,checked:s.allowed_codecs.includes(f),onCheckedChange:()=>v(f)}),e.jsx(Re,{htmlFor:f,className:"text-sm",children:f})]},f))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"max_calls",children:"Max Concurrent Calls"}),e.jsx(ee,{id:"max_calls",type:"number",value:s.max_concurrent_calls,onChange:f=>p("max_concurrent_calls",parseInt(f.target.value)),placeholder:"20"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"recording_enabled",checked:s.recording_enabled,onCheckedChange:f=>p("recording_enabled",f)}),e.jsx(Re,{htmlFor:"recording_enabled",children:"Enable call recording"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"recording_consent",checked:s.recording_consent,onCheckedChange:f=>p("recording_consent",f)}),e.jsx(Re,{htmlFor:"recording_consent",children:"Require recording consent"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"gdpr_compliant",checked:s.gdpr_compliant,onCheckedChange:f=>p("gdpr_compliant",f)}),e.jsx(Re,{htmlFor:"gdpr_compliant",children:"GDPR compliant"})]})]})]})]})]}),e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsxs(be,{className:"flex items-center",children:[e.jsx(Ld,{className:"h-5 w-5 mr-2"}),"GDPR Compliance"]}),e.jsx(Be,{children:"Data protection and privacy settings"})]}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Recording Consent"}),e.jsx("p",{className:"text-sm text-blue-800",children:"When recording consent is enabled, all calls will require explicit consent from all parties before recording begins. This ensures compliance with GDPR and local privacy regulations."})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Data Retention"}),e.jsx("p",{className:"text-sm text-green-800",children:"Call recordings and metadata will be automatically deleted according to your data retention policy. Users can request data deletion at any time through the GDPR portal."})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Cd,{id:"gdpr_acknowledge",checked:s.gdpr_compliant,onCheckedChange:f=>p("gdpr_compliant",f)}),e.jsx(Re,{htmlFor:"gdpr_acknowledge",className:"text-sm",children:"I acknowledge and agree to comply with GDPR requirements for call recording and data processing."})]})]})})]})]})}function Q2(s,r){const[i,o]=h.useState([]),[c,d]=h.useState(!0),[m,p]=h.useState(null),v=async()=>{try{d(!0),p(null);let y;switch(s){case"extensions":y=await ve.getExtensions(r);break;case"ring-groups":y=await ve.getRingGroups(r);break;case"queues":y=await ve.getQueues(r);break;case"conference-rooms":y=await ve.getConferenceRooms(r);break;case"voicemail-boxes":y=await ve.getVoicemailBoxes(r);break;case"ivr-menus":y=await ve.getIvrMenus(r);break;case"time-conditions":y=await ve.getTimeConditions(r);break;case"sip-trunks":y=await ve.getSipTrunks(r);break;default:throw new Error(`Unknown entity type: ${s}`)}o(y.data||[])}catch(y){p(y instanceof Error?y.message:"Failed to fetch entities"),o([])}finally{d(!1)}};return h.useEffect(()=>{v()},[s,r?.store_id,r?.search]),{entities:i,isLoading:c,error:m,refetch:v}}function ls(s,r){const{entities:i,isLoading:o,error:c}=Q2(s,{store_id:r});return{options:i.map(m=>({value:m.id,label:m.extension_number?`${m.name} (${m.extension_number})`:m.name,description:m.description})),isLoading:o,error:c}}function J2(){const{user:s}=Ct(),[r,i]=h.useState("inbound"),[o,c]=h.useState(""),[d,m]=h.useState(!1),[p,v]=h.useState("create"),[y,g]=h.useState(!1),[f,w]=h.useState([]),[T,R]=h.useState([]),[j,b]=h.useState({}),[_,C]=h.useState(null),{options:I}=ls("extensions"),{options:E}=ls("ring-groups"),{options:B}=ls("queues"),{options:F}=ls("conference-rooms"),{options:A}=ls("voicemail-boxes"),{options:L}=ls("ivr-menus"),{options:M}=ls("time-conditions"),{options:Y}=ls("extensions");h.useEffect(()=>{$()},[]);const $=async()=>{if(s?.tenant_id){g(!0);try{const[S,le]=await Promise.all([ve.get(`/voip/inbound-routes?tenant_id=${s.tenant_id}`),ve.get(`/voip/outbound-routes?tenant_id=${s.tenant_id}`)]);w(S.data||[]),R(le.data||[])}catch(S){console.error("Error loading data:",S)}finally{g(!1)}}},W=async(S,le)=>{if(s?.tenant_id){g(!0);try{const ge=await ve.post(`/voip/${S}`,{...le,tenant_id:s.tenant_id});S==="inbound-routes"?w(H=>[...H,ge.data]):R(H=>[...H,ge.data]),m(!1),b({})}catch(ge){console.error("Error creating route:",ge)}finally{g(!1)}}},k=async(S,le,ge)=>{g(!0);try{const H=await ve.put(`/voip/${S}/${le}`,ge);S==="inbound-routes"?w(se=>se.map(Q=>Q.id===le?H.data:Q)):R(se=>se.map(Q=>Q.id===le?H.data:Q)),m(!1),b({})}catch(H){console.error("Error updating route:",H)}finally{g(!1)}},U=async(S,le)=>{if(confirm("Are you sure you want to delete this route?")){g(!0);try{await ve.delete(`/voip/${S}/${le}`),S==="inbound-routes"?w(ge=>ge.filter(H=>H.id!==le)):R(ge=>ge.filter(H=>H.id!==le))}catch(ge){console.error("Error deleting route:",ge)}finally{g(!1)}}},te=(S,le)=>{v(S),le?(C(le),b(le)):(C(null),b({})),m(!0)},ne=()=>{m(!1),C(null),b({})},fe=S=>({extension:"Extension",ring_group:"Ring Group",queue:"Queue",voicemail:"Voicemail",ivr:"IVR Menu",conference:"Conference",external:"External Number"})[S]||S,J=(S,le,ge)=>e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[ge.map((H,se)=>e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:H.header},se)),e.jsx("th",{className:"text-right p-3 font-medium text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:S.map((H,se)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[ge.map((Q,Z)=>e.jsx("td",{className:"p-3",children:Q.render?Q.render(H):H[Q.key]},Z)),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>te("view",H),title:"View Details",children:e.jsx(xt,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>te("edit",H),title:"Edit",children:e.jsx(en,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>U(le,H.id),title:"Delete",className:"text-red-600 hover:text-red-700",children:e.jsx(jt,{className:"h-4 w-4"})})]})})]},H.id||se))})]})})}),ae=()=>{const S=[{header:"Name",key:"name"},{header:"DID Number",key:"did_number"},{header:"Destination",key:"destination",render:le=>`${fe(le.destination_type)}: ${le.destination_value}`},{header:"Status",key:"status",render:le=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:le.enabled?"default":"secondary",children:le.enabled?"Enabled":"Disabled"}),le.record_calls&&e.jsxs(he,{variant:"outline",className:"text-red-600",children:[e.jsx(fs,{className:"h-3 w-3 mr-1"}),"Recording"]})]})},{header:"Description",key:"description"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Pd,{className:"h-5 w-5 mr-2"}),"Inbound Routes (",f.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(V,{onClick:$,variant:"outline",size:"sm",children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{onClick:()=>te("create"),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Inbound Route"]})]})]}),J(f,"inbound-routes",S)]})},ce=()=>{const S=[{header:"Name",key:"name"},{header:"Dial Pattern",key:"dial_pattern"},{header:"Trunk",key:"trunk_id"},{header:"Status",key:"status",render:le=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:le.enabled?"default":"secondary",children:le.enabled?"Enabled":"Disabled"}),le.record_calls&&e.jsxs(he,{variant:"outline",className:"text-red-600",children:[e.jsx(fs,{className:"h-3 w-3 mr-1"}),"Recording"]})]})},{header:"Description",key:"description"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(ad,{className:"h-5 w-5 mr-2"}),"Outbound Routes (",T.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(V,{onClick:$,variant:"outline",size:"sm",children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{onClick:()=>te("create"),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Outbound Route"]})]})]}),J(T,"outbound-routes",S)]})},O=()=>d?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-semibold",children:[p==="create"?"Create New":p==="edit"?"Edit":"View"," ",r," Route"]}),e.jsx(V,{variant:"ghost",size:"sm",onClick:ne,children:e.jsx(mn,{className:"h-4 w-4"})})]}),e.jsxs(Ws,{defaultValue:"basic",className:"w-full",children:[e.jsxs(vs,{className:"grid w-full grid-cols-4",children:[e.jsx(Qe,{value:"basic",children:"Basic"}),e.jsx(Qe,{value:"routing",children:"Routing"}),e.jsx(Qe,{value:"advanced",children:"Advanced"}),e.jsx(Qe,{value:"recording",children:"Recording"})]}),e.jsxs(nt,{value:"basic",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Route Name"}),e.jsx(ee,{placeholder:"Route name",value:j.name||"",onChange:S=>b({...j,name:S.target.value}),disabled:p==="view"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(ee,{placeholder:"Route description",value:j.description||"",onChange:S=>b({...j,description:S.target.value}),disabled:p==="view"})]})]}),r==="inbound"&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"DID Number"}),e.jsx(ee,{placeholder:"+1234567890",value:j.did_number||"",onChange:S=>b({...j,did_number:S.target.value}),disabled:p==="view"})]}),r==="outbound"&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Dial Pattern"}),e.jsx(ee,{placeholder:"^\\+1([0-9]{10})$",value:j.dial_pattern||"",onChange:S=>b({...j,dial_pattern:S.target.value}),disabled:p==="view"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"enabled",checked:j.enabled||!1,onCheckedChange:S=>b({...j,enabled:S}),disabled:p==="view"}),e.jsx("label",{htmlFor:"enabled",className:"text-sm font-medium",children:"Enabled"})]})]}),e.jsxs(nt,{value:"routing",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Destination Type"}),e.jsxs(Ue,{value:j.destination_type||"",onValueChange:S=>b({...j,destination_type:S}),disabled:p==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Select destination"})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"extension",children:"Extension"}),e.jsx(X,{value:"ring_group",children:"Ring Group"}),e.jsx(X,{value:"queue",children:"Queue"}),e.jsx(X,{value:"voicemail",children:"Voicemail"}),e.jsx(X,{value:"ivr",children:"IVR Menu"}),e.jsx(X,{value:"conference",children:"Conference"}),e.jsx(X,{value:"external",children:"External Number"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Destination Value"}),j.destination_type==="extension"&&e.jsxs(Ue,{value:j.destination_value||"",onValueChange:S=>b({...j,destination_value:S}),disabled:p==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Select extension"})}),e.jsx(Fe,{children:I.map(S=>e.jsx(X,{value:S.value,children:S.label},S.value))})]}),j.destination_type==="ring_group"&&e.jsxs(Ue,{value:j.destination_value||"",onValueChange:S=>b({...j,destination_value:S}),disabled:p==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Select ring group"})}),e.jsx(Fe,{children:E.map(S=>e.jsx(X,{value:S.value,children:S.label},S.value))})]}),j.destination_type==="queue"&&e.jsxs(Ue,{value:j.destination_value||"",onValueChange:S=>b({...j,destination_value:S}),disabled:p==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Select queue"})}),e.jsx(Fe,{children:B.map(S=>e.jsx(X,{value:S.value,children:S.label},S.value))})]}),j.destination_type==="conference"&&e.jsxs(Ue,{value:j.destination_value||"",onValueChange:S=>b({...j,destination_value:S}),disabled:p==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Select conference room"})}),e.jsx(Fe,{children:F.map(S=>e.jsx(X,{value:S.value,children:S.label},S.value))})]}),j.destination_type==="voicemail"&&e.jsxs(Ue,{value:j.destination_value||"",onValueChange:S=>b({...j,destination_value:S}),disabled:p==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Select voicemail box"})}),e.jsx(Fe,{children:A.map(S=>e.jsx(X,{value:S.value,children:S.label},S.value))})]}),j.destination_type==="ivr"&&e.jsxs(Ue,{value:j.destination_value||"",onValueChange:S=>b({...j,destination_value:S}),disabled:p==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Select IVR menu"})}),e.jsx(Fe,{children:L.map(S=>e.jsx(X,{value:S.value,children:S.label},S.value))})]}),(j.destination_type==="external"||!j.destination_type)&&e.jsx(ee,{placeholder:"External number or ID",value:j.destination_value||"",onChange:S=>b({...j,destination_value:S.target.value}),disabled:p==="view"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Time Condition (Optional)"}),e.jsxs(Ue,{value:j.time_condition_id||"",onValueChange:S=>b({...j,time_condition_id:S}),disabled:p==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Select time condition"})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"",children:"No time condition"}),M.map(S=>e.jsx(X,{value:S.value,children:S.label},S.value))]})]})]}),r==="outbound"&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"SIP Trunk"}),e.jsxs(Ue,{value:j.trunk_id||"",onValueChange:S=>b({...j,trunk_id:S}),disabled:p==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Select SIP trunk"})}),e.jsx(Fe,{children:Y.map(S=>e.jsx(X,{value:S.value,children:S.label},S.value))})]})]})]}),e.jsxs(nt,{value:"advanced",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Priority"}),e.jsx(ee,{type:"number",placeholder:"100",value:j.priority||"",onChange:S=>b({...j,priority:parseInt(S.target.value)}),disabled:p==="view"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Timeout (seconds)"}),e.jsx(ee,{type:"number",placeholder:"30",value:j.timeout||"",onChange:S=>b({...j,timeout:parseInt(S.target.value)}),disabled:p==="view"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"caller-id-override",checked:j.caller_id_override||!1,onCheckedChange:S=>b({...j,caller_id_override:S}),disabled:p==="view"}),e.jsx("label",{htmlFor:"caller-id-override",className:"text-sm font-medium",children:"Caller ID Override"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"failover-enabled",checked:j.failover_enabled||!1,onCheckedChange:S=>b({...j,failover_enabled:S}),disabled:p==="view"}),e.jsx("label",{htmlFor:"failover-enabled",className:"text-sm font-medium",children:"Failover Enabled"})]})]})]}),e.jsxs(nt,{value:"recording",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"record-calls",checked:j.record_calls||!1,onCheckedChange:S=>b({...j,record_calls:S}),disabled:p==="view"}),e.jsx("label",{htmlFor:"record-calls",className:"text-sm font-medium",children:"Record Calls"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Recording Path"}),e.jsx(ee,{placeholder:"/var/recordings/",value:j.recording_path||"",onChange:S=>b({...j,recording_path:S.target.value}),disabled:p==="view"})]})]})]}),p!=="view"&&e.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[e.jsxs(V,{variant:"outline",onClick:ne,children:[e.jsx(mn,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(V,{onClick:()=>{_?k(`${r}-routes`,_.id,j):W(`${r}-routes`,j)},disabled:y,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Fr,{className:"h-4 w-4 mr-2"}),y?"Saving...":"Save Route"]})]})]})}):null;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Call Routing"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure inbound and outbound call routing rules"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(St,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(ee,{placeholder:"Search routes...",className:"pl-8 w-64",value:o,onChange:S=>c(S.target.value)})]})})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs(Ws,{value:r,onValueChange:i,className:"w-full",children:[e.jsxs(vs,{className:"grid w-full grid-cols-2",children:[e.jsx(Qe,{value:"inbound",children:"Inbound Routes"}),e.jsx(Qe,{value:"outbound",children:"Outbound Routes"})]}),e.jsx(nt,{value:"inbound",className:"mt-6",children:ae()}),e.jsx(nt,{value:"outbound",className:"mt-6",children:ce()})]})}),O()]})}function Y2(){const[s,r]=h.useState([{id:"messagenet-trunk",name:"Messagenet SIP Trunk",provider:"Messagenet",proxy:"sip.messagenet.it",port:5060,transport:"UDP",auth_username:"messagenet_user",auth_password:"messagenet_password",realm:"messagenet.it",from_user:"messagenet_user",from_domain:"messagenet.it",extension:"messagenet_user",register_proxy:"sip.messagenet.it",expire_seconds:3600,register:!0,register_transport:"udp",retry_seconds:30,caller_id_in_from:!0,ping:25,cid_type:"rpid",status:"failed",codec_set:"PCMU,PCMA,G722",note:"Messagenet trunk - Authentication failed (904/403)",last_error:"Operation has no matching challenge [904] / Try Later [403]"}]),[i,o]=h.useState(!1),[c,d]=h.useState("create"),[m,p]=h.useState(!1),[v,y]=h.useState(""),[g,f]=h.useState({}),[w,T]=h.useState(!1),[R,j]=h.useState(null),[b,_]=h.useState("status"),[C,I]=h.useState("trunks"),[E,B]=h.useState([]),[F,A]=h.useState(!1);h.useEffect(()=>{L(),M()},[]);const L=async()=>{p(!0);try{const S=await ve.get("/sip-trunks");console.log(" API Response:",S.data),S.data?.success?(r(S.data.data),console.log(" SIP Trunks loaded successfully:",S.data.data.length)):Array.isArray(S.data)?(r(S.data),console.log(" SIP Trunks loaded successfully (direct array):",S.data.length)):(console.warn(" API response not successful, using hardcoded Messagenet trunk"),console.log("Response data:",S.data))}catch(S){console.error(" Error loading trunks:",S.message||S),console.error("Backend URL:",S.config?.url),console.error("Status:",S.response?.status),console.error("Response data:",S.response?.data),console.log("Using hardcoded Messagenet trunk as fallback")}finally{p(!1)}},M=async()=>{A(!0);try{const S=await ve.getExtensions({limit:100});console.log(" Extensions API Response:",S),S?.success&&S?.data?.items&&Array.isArray(S.data.items)?(B(S.data.items),console.log(" Extensions loaded from database:",S.data.items.length)):(console.warn(" Invalid API response format"),B([]))}catch(S){console.error(" Error loading extensions:",S),B([])}finally{A(!1)}},Y=S=>{switch(S){case"registered":return e.jsx(ll,{className:"h-4 w-4 text-green-500"});case"unregistered":return e.jsx(_r,{className:"h-4 w-4 text-red-500"});case"failed":return e.jsx(Xt,{className:"h-4 w-4 text-yellow-500"});case"busy":return e.jsx(qe,{className:"h-4 w-4 text-orange-500"});default:return e.jsx(Xt,{className:"h-4 w-4 text-gray-500"})}},$=S=>{switch(S){case"registered":return"default";case"unregistered":return"secondary";case"failed":return"destructive";case"busy":return"outline";default:return"secondary"}},W=S=>{switch(S){case"registered":return"Registered";case"unregistered":return"Unregistered";case"failed":return"Failed";case"busy":return"Busy";default:return"Unknown"}},k=()=>e.jsx(de,{className:`cursor-pointer transition-all duration-200 ${b==="status"?"ring-2 ring-blue-500 shadow-lg":"hover:shadow-md"}`,onClick:()=>_("status"),children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(qs,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"SIP Status"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Monitor SIP trunk and extension registration status"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.filter(S=>S.registration?.status==="registered").length}),e.jsx("div",{className:"text-sm text-blue-600",children:"Active"})]})]})})}),U=()=>e.jsx(de,{className:`cursor-pointer transition-all duration-200 ${b==="trunks"?"ring-2 ring-blue-500 shadow-lg":"hover:shadow-md"}`,onClick:()=>_("trunks"),children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Sp,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"SIP Trunks"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage SIP trunk configurations and gateway settings"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.length}),e.jsx("div",{className:"text-sm text-green-600",children:"Total"})]})]})})}),te=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"SIP Status Overview"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(V,{onClick:L,variant:"outline",size:"sm",children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"Refresh Trunks"]}),e.jsxs(V,{onClick:M,variant:"outline",size:"sm",disabled:F,children:[e.jsx(ut,{className:`h-4 w-4 mr-2 ${F?"animate-spin":""}`}),F?"Loading...":"Refresh Extensions"]})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex w-full border-b border-gray-200 mb-4",children:[e.jsx("button",{onClick:()=>I("trunks"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${C==="trunks"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"SIP Status Trunks"}),e.jsx("button",{onClick:()=>I("extensions"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${C==="extensions"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"SIP Status Extensions"})]}),e.jsxs("div",{className:"mt-4 space-y-6",children:[C==="trunks"&&ne(),C==="extensions"&&fe()]})]})]}),ne=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(de,{children:e.jsx(ue,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ll,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.filter(S=>S.registration?.status==="registered").length}),e.jsx("div",{className:"text-sm text-green-600",children:"Registered Trunks"})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_r,{className:"h-8 w-8 text-red-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.filter(S=>S.registration?.status==="unregistered").length}),e.jsx("div",{className:"text-sm text-red-600",children:"Unregistered Trunks"})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xt,{className:"h-8 w-8 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.filter(S=>S.registration?.status==="failed").length}),e.jsx("div",{className:"text-sm text-yellow-600",children:"Failed Registrations"})]})]})})})]}),e.jsxs(de,{children:[e.jsx(Ne,{children:e.jsx(be,{children:"Trunk Registration Status"})}),e.jsx(ue,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Trunk Name"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Host"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Status"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Last Update"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:s.map((S,le)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:S.name}),e.jsxs("td",{className:"p-3",children:[S.sip_config?.host,":",S.sip_config?.port]}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[Y(S.status||"UNKNOWN"),e.jsx(he,{variant:$(S.status||"UNKNOWN"),children:W(S.status||"UNKNOWN")})]})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Ht,{className:"h-4 w-4 mr-1"}),new Date().toLocaleTimeString()]})}),e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx(V,{variant:"ghost",size:"sm",title:"View Details",onClick:()=>ae(S),children:e.jsx(xt,{className:"h-4 w-4"})})})})]},le))})]})})})]})]}),fe=()=>{const S=E.filter(H=>H.status==="registered").length,le=E.filter(H=>H.status==="unregistered").length,ge=E.filter(H=>H.status==="busy").length;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(de,{children:e.jsx(ue,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ll,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:S}),e.jsx("div",{className:"text-sm text-green-600",children:"Online Extensions"})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_r,{className:"h-8 w-8 text-red-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:le}),e.jsx("div",{className:"text-sm text-red-600",children:"Offline Extensions"})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xt,{className:"h-8 w-8 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:ge}),e.jsx("div",{className:"text-sm text-yellow-600",children:"Busy Extensions"})]})]})})})]}),e.jsxs(de,{children:[e.jsx(Ne,{children:e.jsx(be,{children:"Extension Registration Status"})}),e.jsx(ue,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Extension"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Display Name"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Status"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Last Seen"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Contact"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:F?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-6 text-center text-gray-500",children:"Loading extensions..."})}):E.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-6 text-center text-gray-500",children:"No extensions found"})}):E.map((H,se)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:H.extension}),e.jsx("td",{className:"p-3",children:H.display_name}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[Y(H.status),e.jsx(he,{variant:$(H.status),children:W(H.status)})]})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Ht,{className:"h-4 w-4 mr-1"}),H.lastSeen?new Date(H.lastSeen).toLocaleTimeString():"Never"]})}),e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",title:H.contact||"N/A",children:H.contact||"N/A"})}),e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx(V,{variant:"ghost",size:"sm",title:"View Details",onClick:()=>console.log("View extension:",H),children:e.jsx(xt,{className:"h-4 w-4"})})})})]},se))})]})})})]})]})},J=()=>{d("create"),f({}),j(null),o(!0)},ae=S=>{d("view"),f(S),j(S),o(!0)},ce=async()=>{p(!0);try{const S={name:g.name,provider:g.provider,status:c==="create"?"testing":g.status||"active",sip_config:{host:g.sip_config?.host||g.proxy,port:g.sip_config?.port||g.port||5060,transport:g.sip_config?.transport||g.transport||"udp",username:g.sip_config?.username||g.auth_username,password:g.sip_config?.password||g.auth_password,realm:g.sip_config?.realm||g.realm,register:!0,retry_seconds:60,caller_id_in_from:!1,ping:!0,ping_time:60},did_config:{number:g.did_config?.number||g.number,country_code:g.did_config?.country_code||g.country_code,local_number:g.did_config?.local_number||g.local_number,area_code:g.did_config?.area_code,provider_did:g.did_config?.provider_did,inbound_route:g.did_config?.inbound_route},security:{encryption:g.security?.encryption||g.encryption||"tls",authentication:g.security?.authentication||g.authentication||"digest",acl:[],rate_limit:{enabled:!0,calls_per_minute:60,calls_per_hour:1e3}},gdpr:{data_retention_days:g.gdpr?.data_retention_days||g.data_retention_days||365,recording_consent_required:g.gdpr?.recording_consent_required||g.recording_consent_required||!0,data_processing_purpose:"Business communications",lawful_basis:"legitimate_interest",data_controller:g.gdpr?.data_controller||g.data_controller,dpo_contact:g.gdpr?.dpo_contact||g.dpo_contact}};if(c==="create"){const le=await ve.post("/sip-trunks",S);le.data?.success&&(r(ge=>[le.data.data,...ge]),alert("SIP Trunk created successfully!"))}else if(c==="edit"){const le=await ve.put(`/sip-trunks/${R.id}`,S);le.data?.success&&(r(ge=>ge.map(H=>H.id===R.id?le.data.data:H)),alert("SIP Trunk updated successfully!"))}o(!1)}catch(S){console.error("Error saving trunk:",S),alert("Error saving SIP trunk. Please check the console for details.")}finally{p(!1)}},O=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"SIP Trunks Management"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(V,{onClick:L,variant:"outline",size:"sm",children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{onClick:J,children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Create New SIP Trunk"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{className:"h-4 w-4 text-gray-500"}),e.jsx(ee,{placeholder:"Search trunks...",value:v,onChange:S=>y(S.target.value)})]}),e.jsx(de,{children:e.jsx(ue,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Name"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Provider"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Host"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Status"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:s.map((S,le)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:S.name}),e.jsx("td",{className:"p-3",children:S.provider}),e.jsxs("td",{className:"p-3",children:[S.sip_config?.host,":",S.sip_config?.port]}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[Y(S.status||"UNKNOWN"),e.jsx(he,{variant:$(S.status||"UNKNOWN"),children:W(S.status||"UNKNOWN")})]})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(V,{variant:"ghost",size:"sm",title:"View Details",onClick:()=>ae(S),children:e.jsx(xt,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"sm",title:"Delete",children:e.jsx(jt,{className:"h-4 w-4"})})]})})]},le))})]})})})})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"SIP Management"}),e.jsx("p",{className:"text-gray-600",children:"Monitor SIP status and manage SIP trunk configurations"})]}),e.jsxs(V,{onClick:L,variant:"outline",children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"Refresh All"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[k(),U()]}),e.jsx("div",{className:"mt-6",children:b==="status"?te():O()}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-semibold",children:[c==="create"?"Create New":c==="edit"?"Edit":"View"," SIP Trunk"]}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>o(!1),children:e.jsx(mn,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Trunk Name *"}),e.jsx(ee,{value:g.name||"",onChange:S=>f({...g,name:S.target.value}),disabled:c==="view",placeholder:"Messagenet SIP Trunk",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Provider *"}),e.jsx(ee,{value:g.provider||"",onChange:S=>f({...g,provider:S.target.value}),disabled:c==="view",placeholder:"Messagenet",required:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"SIP Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Host/Proxy *"}),e.jsx(ee,{value:g.sip_config?.host||g.proxy||"",onChange:S=>f({...g,sip_config:{...g.sip_config,host:S.target.value},proxy:S.target.value}),disabled:c==="view",placeholder:"sip.messagenet.it",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Port *"}),e.jsx(ee,{type:"number",value:g.sip_config?.port||g.port||5060,onChange:S=>f({...g,sip_config:{...g.sip_config,port:parseInt(S.target.value)},port:parseInt(S.target.value)}),disabled:c==="view",placeholder:"5060",min:"1",max:"65535",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Transport *"}),e.jsxs(Ue,{value:g.sip_config?.transport||g.transport||"udp",onValueChange:S=>f({...g,sip_config:{...g.sip_config,transport:S},transport:S}),disabled:c==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"udp",children:"UDP"}),e.jsx(X,{value:"tcp",children:"TCP"}),e.jsx(X,{value:"tls",children:"TLS"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Username *"}),e.jsx(ee,{value:g.sip_config?.username||g.auth_username||"",onChange:S=>f({...g,sip_config:{...g.sip_config,username:S.target.value},auth_username:S.target.value}),disabled:c==="view",placeholder:"messagenet_user",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{type:w?"text":"password",value:g.sip_config?.password||g.auth_password||"",onChange:S=>f({...g,sip_config:{...g.sip_config,password:S.target.value},auth_password:S.target.value}),disabled:c==="view",placeholder:"messagenet_password",required:!0}),e.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>T(!w),disabled:c==="view",children:w?e.jsx(gp,{className:"h-4 w-4"}):e.jsx(xt,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Realm"}),e.jsx(ee,{value:g.sip_config?.realm||g.realm||"",onChange:S=>f({...g,sip_config:{...g.sip_config,realm:S.target.value},realm:S.target.value}),disabled:c==="view",placeholder:"messagenet.it"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"DID Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"DID Number *"}),e.jsx(ee,{value:g.did_config?.number||g.number||"",onChange:S=>f({...g,did_config:{...g.did_config,number:S.target.value},number:S.target.value}),disabled:c==="view",placeholder:"+393331234567",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Country Code *"}),e.jsx(ee,{value:g.did_config?.country_code||g.country_code||"",onChange:S=>f({...g,did_config:{...g.did_config,country_code:S.target.value},country_code:S.target.value}),disabled:c==="view",placeholder:"IT",maxLength:2,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Local Number *"}),e.jsx(ee,{value:g.did_config?.local_number||g.local_number||"",onChange:S=>f({...g,did_config:{...g.did_config,local_number:S.target.value},local_number:S.target.value}),disabled:c==="view",placeholder:"1234567",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Area Code"}),e.jsx(ee,{value:g.did_config?.area_code||"",onChange:S=>f({...g,did_config:{...g.did_config,area_code:S.target.value}}),disabled:c==="view",placeholder:"333"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Security Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Encryption"}),e.jsxs(Ue,{value:g.security?.encryption||g.encryption||"tls",onValueChange:S=>f({...g,security:{...g.security,encryption:S},encryption:S}),disabled:c==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"none",children:"None"}),e.jsx(X,{value:"tls",children:"TLS"}),e.jsx(X,{value:"srtp",children:"SRTP"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Authentication"}),e.jsxs(Ue,{value:g.security?.authentication||g.authentication||"digest",onValueChange:S=>f({...g,security:{...g.security,authentication:S},authentication:S}),disabled:c==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"none",children:"None"}),e.jsx(X,{value:"digest",children:"Digest"}),e.jsx(X,{value:"tls",children:"TLS"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"GDPR Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Data Retention (days)"}),e.jsx(ee,{type:"number",value:g.gdpr?.data_retention_days||g.data_retention_days||365,onChange:S=>f({...g,gdpr:{...g.gdpr,data_retention_days:parseInt(S.target.value)},data_retention_days:parseInt(S.target.value)}),disabled:c==="view",min:"30",max:"2555"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Data Controller *"}),e.jsx(ee,{value:g.gdpr?.data_controller||g.data_controller||"",onChange:S=>f({...g,gdpr:{...g.gdpr,data_controller:S.target.value},data_controller:S.target.value}),disabled:c==="view",placeholder:"Company Name SRL",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"DPO Contact"}),e.jsx(ee,{type:"email",value:g.gdpr?.dpo_contact||g.dpo_contact||"",onChange:S=>f({...g,gdpr:{...g.gdpr,dpo_contact:S.target.value},dpo_contact:S.target.value}),disabled:c==="view",placeholder:"dpo@company.com"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{checked:g.gdpr?.recording_consent_required||g.recording_consent_required||!0,onCheckedChange:S=>f({...g,gdpr:{...g.gdpr,recording_consent_required:S},recording_consent_required:S}),disabled:c==="view"}),e.jsx("span",{className:"text-sm font-medium",children:"Recording Consent Required"})]})]})]}),g.last_error&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Last Error"}),e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-sm text-red-600",children:g.last_error})})]})]}),c!=="view"&&e.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[e.jsxs(V,{variant:"outline",onClick:()=>o(!1),children:[e.jsx(mn,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(V,{onClick:ce,disabled:m,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Fr,{className:"h-4 w-4 mr-2"}),m?"Saving...":"Save Trunk"]})]})]})})]})}function X2(){const{user:s}=Ct(),[r,i]=h.useState("ring-groups"),[o,c]=h.useState(""),[d,m]=h.useState(null),[p,v]=h.useState(!1),[y,g]=h.useState("create"),[f,w]=h.useState(!1),[T,R]=h.useState([]),[j,b]=h.useState([]),[_,C]=h.useState([]),[I,E]=h.useState([]),[B,F]=h.useState([]),[A,L]=h.useState([]),[M,Y]=h.useState({}),[$,W]=h.useState(null);h.useEffect(()=>{k()},[]);const k=async()=>{if(s?.tenant_id){w(!0);try{const[Q,Z,xe,pe,Pe,Ie]=await Promise.all([ve.getRingGroups(),ve.getQueues(),ve.getConferenceRooms(),ve.getVoicemailBoxes(),ve.getTimeConditions(),ve.getIvrMenus()]);R(Q.data||[]),b(Z.data||[]),C(xe.data||[]),E(pe.data||[]),F(Pe.data||[]),L(Ie.data||[])}catch(Q){console.error("Error loading data:",Q)}finally{w(!1)}}},U=async(Q,Z)=>{if(s?.tenant_id){w(!0);try{const xe=await ve.post(`/voip/${Q}`,{...Z,tenant_id:s.tenant_id});switch(Q){case"ring-groups":R(pe=>[...pe,xe.data]);break;case"queues":b(pe=>[...pe,xe.data]);break;case"conference-rooms":C(pe=>[...pe,xe.data]);break;case"voicemail-boxes":E(pe=>[...pe,xe.data]);break;case"time-conditions":F(pe=>[...pe,xe.data]);break;case"ivr-menus":L(pe=>[...pe,xe.data]);break}v(!1),Y({})}catch(xe){console.error("Error creating item:",xe)}finally{w(!1)}}},te=async(Q,Z,xe)=>{w(!0);try{const pe=await ve.put(`/voip/${Q}/${Z}`,xe);switch(Q){case"ring-groups":R(Pe=>Pe.map(Ie=>Ie.id===Z?pe.data:Ie));break;case"queues":b(Pe=>Pe.map(Ie=>Ie.id===Z?pe.data:Ie));break;case"conference-rooms":C(Pe=>Pe.map(Ie=>Ie.id===Z?pe.data:Ie));break;case"voicemail-boxes":E(Pe=>Pe.map(Ie=>Ie.id===Z?pe.data:Ie));break;case"time-conditions":F(Pe=>Pe.map(Ie=>Ie.id===Z?pe.data:Ie));break;case"ivr-menus":L(Pe=>Pe.map(Ie=>Ie.id===Z?pe.data:Ie));break}v(!1),Y({})}catch(pe){console.error("Error updating item:",pe)}finally{w(!1)}},ne=async(Q,Z)=>{if(confirm("Are you sure you want to delete this item?")){w(!0);try{switch(await ve.delete(`/voip/${Q}/${Z}`),Q){case"ring-groups":R(xe=>xe.filter(pe=>pe.id!==Z));break;case"queues":b(xe=>xe.filter(pe=>pe.id!==Z));break;case"conference-rooms":C(xe=>xe.filter(pe=>pe.id!==Z));break;case"voicemail-boxes":E(xe=>xe.filter(pe=>pe.id!==Z));break;case"time-conditions":F(xe=>xe.filter(pe=>pe.id!==Z));break;case"ivr-menus":L(xe=>xe.filter(pe=>pe.id!==Z));break}d===Z&&m(null)}catch(xe){console.error("Error deleting item:",xe)}finally{w(!1)}}},fe=(Q,Z)=>{g(Q),Z?(W(Z),Y(Z)):(W(null),Y({})),v(!0)},J=()=>{v(!1),W(null),Y({})},ae=(Q,Z,xe)=>e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[xe.map((pe,Pe)=>e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:pe.header},Pe)),e.jsx("th",{className:"text-right p-3 font-medium text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Q.map((pe,Pe)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[xe.map((Ie,ft)=>e.jsx("td",{className:"p-3",children:Ie.render?Ie.render(pe):pe[Ie.key]},ft)),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>fe("view",pe),title:"View Details",children:e.jsx(xt,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>fe("edit",pe),title:"Edit",children:e.jsx(en,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>ne(Z,pe.id),title:"Delete",className:"text-red-600 hover:text-red-700",children:e.jsx(jt,{className:"h-4 w-4"})})]})})]},pe.id||Pe))})]})})}),ce=()=>{const Q=[{header:"Name",key:"name"},{header:"Extension",key:"extension_number"},{header:"Strategy",key:"strategy"},{header:"Members",key:"members",render:Z=>`${Z.members?.length||0} members`},{header:"Status",key:"status",render:Z=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:Z.enabled?"default":"secondary",children:Z.enabled?"Enabled":"Disabled"}),Z.record_calls&&e.jsxs(he,{variant:"outline",className:"text-red-600",children:[e.jsx(Mic,{className:"h-3 w-3 mr-1"}),"Recording"]})]})}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(ot,{className:"h-5 w-5 mr-2"}),"Ring Groups (",T.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(V,{onClick:k,variant:"outline",size:"sm",children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{onClick:()=>fe("create"),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Ring Group"]})]})]}),ae(T,"ring-groups",Q)]})},O=()=>{const Q=[{header:"Name",key:"name"},{header:"Extension",key:"extension_number"},{header:"Strategy",key:"strategy"},{header:"Agents",key:"agents",render:Z=>`${Z.agents?.length||0} agents`},{header:"Status",key:"status",render:Z=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:Z.enabled?"default":"secondary",children:Z.enabled?"Enabled":"Disabled"}),Z.record_calls&&e.jsxs(he,{variant:"outline",className:"text-red-600",children:[e.jsx(Mic,{className:"h-3 w-3 mr-1"}),"Recording"]})]})}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Cr,{className:"h-5 w-5 mr-2"}),"Queues (",j.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(V,{onClick:k,variant:"outline",size:"sm",children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{onClick:()=>fe("create"),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Queue"]})]})]}),ae(j,"queues",Q)]})},S=()=>{const Q=[{header:"Name",key:"name"},{header:"Extension",key:"extension_number"},{header:"Max Members",key:"max_members"},{header:"PIN",key:"pin",render:Z=>Z.pin?"***":"None"},{header:"Status",key:"status",render:Z=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:Z.enabled?"default":"secondary",children:Z.enabled?"Enabled":"Disabled"}),Z.record_conference&&e.jsxs(he,{variant:"outline",className:"text-red-600",children:[e.jsx(Mic,{className:"h-3 w-3 mr-1"}),"Recording"]})]})}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(uw,{className:"h-5 w-5 mr-2"}),"Conference Rooms (",_.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(V,{onClick:k,variant:"outline",size:"sm",children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{onClick:()=>fe("create"),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Conference Room"]})]})]}),ae(_,"conference-rooms",Q)]})},le=()=>{const Q=[{header:"Display Name",key:"display_name"},{header:"Extension",key:"extension_number"},{header:"Email",key:"email_address"},{header:"Max Messages",key:"max_messages"},{header:"Status",key:"status",render:Z=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:Z.enabled?"default":"secondary",children:Z.enabled?"Enabled":"Disabled"}),Z.email_notification&&e.jsxs(he,{variant:"outline",className:"text-blue-600",children:[e.jsx(Cr,{className:"h-3 w-3 mr-1"}),"Email"]})]})}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Cr,{className:"h-5 w-5 mr-2"}),"Voicemail Boxes (",I.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(V,{onClick:k,variant:"outline",size:"sm",children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{onClick:()=>fe("create"),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Voicemail Box"]})]})]}),ae(I,"voicemail-boxes",Q)]})},ge=()=>{const Q=[{header:"Name",key:"name"},{header:"Timezone",key:"timezone"},{header:"Business Hours",key:"business_hours",render:()=>"Mon-Fri 09:00-17:00"},{header:"Status",key:"status",render:Z=>e.jsx(he,{variant:Z.enabled?"default":"secondary",children:Z.enabled?"Enabled":"Disabled"})},{header:"Description",key:"description"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Ht,{className:"h-5 w-5 mr-2"}),"Time Conditions (",B.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(V,{onClick:k,variant:"outline",size:"sm",children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{onClick:()=>fe("create"),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Time Condition"]})]})]}),ae(B,"time-conditions",Q)]})},H=()=>{const Q=[{header:"Name",key:"name"},{header:"Timeout",key:"timeout_seconds",render:Z=>`${Z.timeout_seconds}s`},{header:"Options",key:"options",render:Z=>`${Z.options?.length||0} options`},{header:"Status",key:"status",render:Z=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:Z.enabled?"default":"secondary",children:Z.enabled?"Enabled":"Disabled"}),Z.record_calls&&e.jsxs(he,{variant:"outline",className:"text-red-600",children:[e.jsx(Mic,{className:"h-3 w-3 mr-1"}),"Recording"]})]})},{header:"Description",key:"description"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(jp,{className:"h-5 w-5 mr-2"}),"IVR Menus (",A.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(V,{onClick:k,variant:"outline",size:"sm",children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{onClick:()=>fe("create"),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add IVR Menu"]})]})]}),ae(A,"ivr-menus",Q)]})},se=()=>p?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-semibold",children:[y==="create"?"Create New":y==="edit"?"Edit":"View"," ",r]}),e.jsx(V,{variant:"ghost",size:"sm",onClick:J,children:e.jsx(mn,{className:"h-4 w-4"})})]}),e.jsxs(Ws,{defaultValue:"basic",className:"w-full",children:[e.jsxs(vs,{className:"grid w-full grid-cols-4",children:[e.jsx(Qe,{value:"basic",children:"Basic"}),e.jsx(Qe,{value:"configuration",children:"Configuration"}),e.jsx(Qe,{value:"advanced",children:"Advanced"}),e.jsx(Qe,{value:"recording",children:"Recording"})]}),e.jsxs(nt,{value:"basic",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Name"}),e.jsx(ee,{placeholder:"Item name",value:M.name||"",onChange:Q=>Y({...M,name:Q.target.value}),disabled:y==="view"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(ee,{placeholder:"Item description",value:M.description||"",onChange:Q=>Y({...M,description:Q.target.value}),disabled:y==="view"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"enabled",checked:M.enabled||!1,onCheckedChange:Q=>Y({...M,enabled:Q}),disabled:y==="view"}),e.jsx("label",{htmlFor:"enabled",className:"text-sm font-medium",children:"Enabled"})]})]}),e.jsx(nt,{value:"configuration",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Extension Number"}),e.jsx(ee,{placeholder:"1001",value:M.extension_number||"",onChange:Q=>Y({...M,extension_number:Q.target.value}),disabled:y==="view"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Strategy"}),e.jsxs(Ue,{value:M.strategy||"",onValueChange:Q=>Y({...M,strategy:Q}),disabled:y==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Select strategy"})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"simultaneous",children:"Simultaneous"}),e.jsx(X,{value:"sequential",children:"Sequential"}),e.jsx(X,{value:"round_robin",children:"Round Robin"}),e.jsx(X,{value:"random",children:"Random"}),e.jsx(X,{value:"longest_idle",children:"Longest Idle"})]})]})]})]})}),e.jsx(nt,{value:"advanced",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Timeout (seconds)"}),e.jsx(ee,{type:"number",placeholder:"30",value:M.timeout||"",onChange:Q=>Y({...M,timeout:parseInt(Q.target.value)}),disabled:y==="view"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Calls"}),e.jsx(ee,{type:"number",placeholder:"10",value:M.max_calls||"",onChange:Q=>Y({...M,max_calls:parseInt(Q.target.value)}),disabled:y==="view"})]})]})}),e.jsxs(nt,{value:"recording",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"record-calls",checked:M.record_calls||!1,onCheckedChange:Q=>Y({...M,record_calls:Q}),disabled:y==="view"}),e.jsx("label",{htmlFor:"record-calls",className:"text-sm font-medium",children:"Record Calls"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Recording Path"}),e.jsx(ee,{placeholder:"/var/recordings/",value:M.recording_path||"",onChange:Q=>Y({...M,recording_path:Q.target.value}),disabled:y==="view"})]})]})]}),y!=="view"&&e.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[e.jsxs(V,{variant:"outline",onClick:J,children:[e.jsx(mn,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(V,{onClick:()=>{$?te(r,$.id,M):U(r,M)},disabled:f,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Fr,{className:"h-4 w-4 mr-2"}),f?"Saving...":"Save Configuration"]})]})]})}):null;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Destinations & Time"}),e.jsx("p",{className:"text-muted-foreground",children:"Create and manage destinations (Ring Groups, Queues, Conference Rooms, Voicemail Boxes) and time conditions"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(St,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(ee,{placeholder:"Search destinations...",className:"pl-8 w-64",value:o,onChange:Q=>c(Q.target.value)})]})})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs(Ws,{value:r,onValueChange:i,className:"w-full",children:[e.jsxs(vs,{className:"grid w-full grid-cols-6",children:[e.jsx(Qe,{value:"ring-groups",children:"Ring Groups"}),e.jsx(Qe,{value:"queues",children:"Queues"}),e.jsx(Qe,{value:"conference-rooms",children:"Conference"}),e.jsx(Qe,{value:"voicemail-boxes",children:"Voicemail"}),e.jsx(Qe,{value:"time-conditions",children:"Time Conditions"}),e.jsx(Qe,{value:"ivr-menus",children:"IVR Menus"})]}),e.jsx(nt,{value:"ring-groups",className:"mt-6",children:ce()}),e.jsx(nt,{value:"queues",className:"mt-6",children:O()}),e.jsx(nt,{value:"conference-rooms",className:"mt-6",children:S()}),e.jsx(nt,{value:"voicemail-boxes",className:"mt-6",children:le()}),e.jsx(nt,{value:"time-conditions",className:"mt-6",children:ge()}),e.jsx(nt,{value:"ivr-menus",className:"mt-6",children:H()})]})}),se()]})}function Z2(){const[s,r]=h.useState(null),i=(m,p)=>{navigator.clipboard.writeText(m),r(p),setTimeout(()=>r(null),2e3)},o="http://localhost:3000/api/w3-voip",c="Bearer YOUR_JWT_TOKEN_HERE",d=[{title:"VoIP Trunks",description:"Gestione dei trunk SIP per la connessione ai provider",endpoints:[{method:"GET",path:"/trunks",description:"Lista tutti i trunk del tenant",example:`curl -X GET "${o}/trunks" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json"`,response:`{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "tenant_id": "tenant-1",
      "sip_domain": "demo-tenant.edgvoip.local",
      "provider": "Messagenet",
      "proxy": "sip.messagenet.it",
      "port": 5060,
      "transport": "udp",
      "auth_username": "5406594427",
      "secret_ref": "secret-123",
      "register": true,
      "expiry_seconds": 3600,
      "codec_set": "G729,PCMA,PCMU",
      "status": "REG_OK",
      "note": "Test trunk"
    }
  ]
}`},{method:"POST",path:"/trunks",description:"Crea un nuovo trunk SIP",example:`curl -X POST "${o}/trunks" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json" \\
  -d '{
    "provider": "Messagenet",
    "proxy": "sip.messagenet.it",
    "port": 5060,
    "transport": "udp",
    "auth_username": "5406594427",
    "secret_ref": "secret-123",
    "register": true,
    "expiry_seconds": 3600,
    "codec_set": "G729,PCMA,PCMU",
    "note": "Production trunk"
  }'`,response:`{
  "success": true,
  "data": {
    "id": "new-uuid",
    "tenant_id": "tenant-1",
    "sip_domain": "demo-tenant.edgvoip.local",
    "provider": "Messagenet",
    "proxy": "sip.messagenet.it",
    "port": 5060,
    "transport": "udp",
    "auth_username": "5406594427",
    "secret_ref": "secret-123",
    "register": true,
    "expiry_seconds": 3600,
    "codec_set": "G729,PCMA,PCMU",
    "status": "UNKNOWN",
    "note": "Production trunk"
  }
}`}]},{title:"VoIP Extensions",description:"Gestione delle estensioni interne del tenant",endpoints:[{method:"GET",path:"/extensions",description:"Lista tutte le estensioni del tenant",example:`curl -X GET "${o}/extensions" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json"`,response:`{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "tenant_id": "tenant-1",
      "sip_domain": "demo-tenant.edgvoip.local",
      "ext_number": "1001",
      "display_name": "John Doe",
      "enabled": true,
      "voicemail_enabled": true,
      "class_of_service": "agent",
      "note": "Sales team"
    }
  ]
}`},{method:"POST",path:"/extensions",description:"Crea una nuova estensione",example:`curl -X POST "${o}/extensions" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json" \\
  -d '{
    "ext_number": "1002",
    "display_name": "Jane Smith",
    "enabled": true,
    "voicemail_enabled": true,
    "class_of_service": "supervisor",
    "note": "Support team"
  }'`,response:`{
  "success": true,
  "data": {
    "id": "new-uuid",
    "tenant_id": "tenant-1",
    "sip_domain": "demo-tenant.edgvoip.local",
    "ext_number": "1002",
    "display_name": "Jane Smith",
    "enabled": true,
    "voicemail_enabled": true,
    "class_of_service": "supervisor",
    "note": "Support team"
  }
}`}]},{title:"VoIP DIDs",description:"Gestione dei numeri DID (Direct Inward Dialing)",endpoints:[{method:"GET",path:"/dids",description:"Lista tutti i DID del tenant",example:`curl -X GET "${o}/dids" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json"`,response:`{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "tenant_id": "tenant-1",
      "store_id": "store-1",
      "trunk_id": "trunk-uuid",
      "e164": "+390686356924",
      "sip_domain": "demo-tenant.edgvoip.local",
      "route_target_type": "ext",
      "route_target_ref": "1001",
      "label": "Main Line Roma",
      "active": true
    }
  ]
}`},{method:"POST",path:"/dids",description:"Crea un nuovo DID",example:`curl -X POST "${o}/dids" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json" \\
  -d '{
    "trunk_id": "trunk-uuid",
    "e164": "+39061234567",
    "route_target_type": "ivr",
    "route_target_ref": "ivr_main",
    "label": "Support Line",
    "active": true
  }'`,response:`{
  "success": true,
  "data": {
    "id": "new-uuid",
    "tenant_id": "tenant-1",
    "trunk_id": "trunk-uuid",
    "e164": "+39061234567",
    "sip_domain": "demo-tenant.edgvoip.local",
    "route_target_type": "ivr",
    "route_target_ref": "ivr_main",
    "label": "Support Line",
    "active": true
  }
}`}]},{title:"VoIP Routes",description:"Gestione delle rotte di chiamata outbound",endpoints:[{method:"GET",path:"/routes",description:"Lista tutte le rotte del tenant",example:`curl -X GET "${o}/routes" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json"`,response:`{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "tenant_id": "tenant-1",
      "name": "Uscita nazionale",
      "pattern": "^9(\\d+)$",
      "strip_digits": 1,
      "prepend": "0",
      "trunk_id": "trunk-uuid",
      "priority": 1,
      "active": true
    }
  ]
}`}]},{title:"Contact Policies",description:"Gestione delle policy di contatto e orari",endpoints:[{method:"GET",path:"/contact-policies",description:"Lista tutte le policy del tenant",example:`curl -X GET "${o}/contact-policies" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json"`,response:`{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "tenant_id": "tenant-1",
      "scope_type": "tenant",
      "scope_ref": "tenant-1",
      "rules_json": {
        "business_hours": {
          "monday": {"start": "09:00", "end": "18:00"},
          "tuesday": {"start": "09:00", "end": "18:00"}
        },
        "fallback": "voicemail"
      },
      "active": true,
      "label": "Orari Roma"
    }
  ]
}`}]},{title:"CDR & Activity Logs",description:"Accesso ai Call Detail Records e log delle attivit",endpoints:[{method:"GET",path:"/cdr-activity/cdr",description:"Recupera i CDR con filtri",example:`curl -X GET "${o}/cdr-activity/cdr?start_date=2024-01-01&end_date=2024-01-31&direction=in" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json"`,response:`{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "tenant_id": "tenant-1",
      "sip_domain": "demo-tenant.edgvoip.local",
      "call_id": "call-001",
      "direction": "in",
      "from_uri": "+390686356924",
      "to_uri": "1001",
      "did_e164": "+390686356924",
      "ext_number": "1001",
      "start_ts": "2024-01-15T10:30:00Z",
      "answer_ts": "2024-01-15T10:30:05Z",
      "end_ts": "2024-01-15T10:40:00Z",
      "billsec": 600,
      "disposition": "ANSWERED",
      "recording_url": "https://recordings.example.com/call-001.wav",
      "meta_json": {"codec": "G729", "mos": 4.2}
    }
  ],
  "pagination": {
    "total": 1,
    "limit": 100,
    "offset": 0,
    "has_more": false
  }
}`},{method:"GET",path:"/cdr-activity/cdr/stats",description:"Statistiche dei CDR",example:`curl -X GET "${o}/cdr-activity/cdr/stats?start_date=2024-01-01&end_date=2024-01-31" \\
  -H "Authorization: ${c}" \\
  -H "Content-Type: application/json"`,response:`{
  "success": true,
  "data": {
    "total_calls": 150,
    "answered_calls": 120,
    "missed_calls": 30,
    "total_duration": 7200,
    "avg_duration": 60,
    "by_direction": {"inbound": 100, "outbound": 50},
    "by_disposition": {"ANSWERED": 120, "NO_ANSWER": 20, "BUSY": 10}
  }
}`}]}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"W3 Suite API Documentation"}),e.jsx("p",{className:"text-muted-foreground",children:"Documentazione completa per l'integrazione con EDG VoIP System"})]}),e.jsxs(he,{variant:"outline",className:"text-sm",children:[e.jsx(Xj,{className:"h-4 w-4 mr-2"}),"External API"]})]}),e.jsxs(de,{children:[e.jsx(Ne,{children:e.jsxs(be,{className:"flex items-center",children:[e.jsx(ew,{className:"h-5 w-5 mr-2"}),"Autenticazione"]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"JWT Token"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Tutte le API richiedono un token JWT valido nell'header Authorization."}),e.jsx("div",{className:"bg-gray-100 p-3 rounded-md font-mono text-sm",children:"Authorization: Bearer YOUR_JWT_TOKEN_HERE"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Base URL"}),e.jsx("div",{className:"bg-gray-100 p-3 rounded-md font-mono text-sm",children:o})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Tenant Isolation"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Il tenant_id viene estratto automaticamente dal JWT token. Tutti i dati sono isolati per tenant."})]})]})]}),e.jsxs(Ws,{defaultValue:"trunks",className:"w-full",children:[e.jsxs(vs,{className:"grid w-full grid-cols-6",children:[e.jsx(Qe,{value:"trunks",children:"Trunks"}),e.jsx(Qe,{value:"extensions",children:"Extensions"}),e.jsx(Qe,{value:"dids",children:"DIDs"}),e.jsx(Qe,{value:"routes",children:"Routes"}),e.jsx(Qe,{value:"policies",children:"Policies"}),e.jsx(Qe,{value:"cdr",children:"CDR"})]}),d.map((m,p)=>e.jsx(nt,{value:m.title.toLowerCase().split(" ")[0],children:e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsxs(be,{className:"flex items-center",children:[e.jsx(Yj,{className:"h-5 w-5 mr-2"}),m.title]}),e.jsx(Be,{children:m.description})]}),e.jsx(ue,{className:"space-y-6",children:m.endpoints.map((v,y)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(he,{variant:v.method==="GET"?"default":"secondary",className:"font-mono",children:v.method}),e.jsx("code",{className:"text-sm font-mono bg-gray-100 px-2 py-1 rounded",children:v.path})]}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>i(v.example,`${p}-${y}-example`),children:s===`${p}-${y}-example`?e.jsx(Id,{className:"h-4 w-4"}):e.jsx(Jj,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:v.description}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium mb-2 flex items-center",children:[e.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Esempio cURL"]}),e.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-md font-mono text-sm overflow-x-auto",children:e.jsx("pre",{children:v.example})})]}),e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium mb-2 flex items-center",children:[e.jsx(Ld,{className:"h-4 w-4 mr-2"}),"Risposta"]}),e.jsx("div",{className:"bg-gray-100 p-4 rounded-md font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-800",children:v.response})})]})]})]},y))})]})},m.title))]}),e.jsxs(de,{children:[e.jsx(Ne,{children:e.jsxs(be,{className:"flex items-center",children:[e.jsx(qj,{className:"h-5 w-5 mr-2"}),"Guida all'Integrazione"]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"1. Autenticazione"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ottieni un JWT token dal sistema di autenticazione W3 Suite e includilo in ogni richiesta."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"2. Tenant Context"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Il tenant_id viene estratto automaticamente dal JWT. Non  necessario specificarlo nelle richieste."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"3. Error Handling"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tutte le API restituiscono un formato standardizzato con success/error e messaggi descrittivi."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"4. Rate Limiting"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Le API hanno rate limiting configurato. Gestisci i codici di risposta 429 appropriatamente."})]})]})]}),e.jsxs(de,{children:[e.jsx(Ne,{children:e.jsxs(be,{className:"flex items-center",children:[e.jsx(Os,{className:"h-5 w-5 mr-2"}),"Supporto e Sicurezza"]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Sicurezza"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:" Tutte le comunicazioni sono criptate (HTTPS)"}),e.jsx("li",{children:" JWT tokens hanno scadenza configurata"}),e.jsx("li",{children:" Tenant isolation garantita a livello database"}),e.jsx("li",{children:" Rate limiting per prevenire abusi"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Supporto"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Per supporto tecnico o domande sull'integrazione, contatta il team EDG VoIP."})]})]})]})]})}function eC(){const{user:s}=Ct(),[r,i]=h.useState([]),[o,c]=h.useState([]),[d,m]=h.useState(!1),[p,v]=h.useState(!1),[y,g]=h.useState(""),[f,w]=h.useState("all"),[T,R]=h.useState("all"),[j,b]=h.useState("all"),[_,C]=h.useState(!0),[I,E]=h.useState({total:0,errors:0,warnings:0,last_update:""}),[B,F]=h.useState("live"),A=h.useRef(null),[L,M]=h.useState({freeswitchLevel:"info",backendLevel:"info",maxLogs:"1000",retention:"30",sipTracing:!0,rtpCapture:!0,verboseDebugging:!1}),Y=[{id:"1",timestamp:new Date().toISOString(),level:"INFO",component:"sofia",message:"sofia.c:3473 Starting a new thread to handle the call",source:"freeswitch",tenant_id:s?.tenant_id||void 0||void 0},{id:"2",timestamp:new Date(Date.now()-1e3).toISOString(),level:"DEBUG",component:"mod_dptools",message:"Processing dialplan for extension 100",source:"freeswitch",tenant_id:s?.tenant_id||void 0||void 0},{id:"3",timestamp:new Date(Date.now()-2e3).toISOString(),level:"WARN",component:"sofia",message:"Registration failed for messagenet_user@messagenet.it - Authentication failed",source:"freeswitch",tenant_id:s?.tenant_id||void 0||void 0},{id:"4",timestamp:new Date(Date.now()-3e3).toISOString(),level:"ERROR",component:"sofia",message:"Operation has no matching challenge [904] for messagenet gateway",source:"freeswitch",tenant_id:s?.tenant_id||void 0||void 0},{id:"5",timestamp:new Date(Date.now()-4e3).toISOString(),level:"INFO",component:"api",message:"Extension 100 created successfully in database",source:"backend",tenant_id:s?.tenant_id||void 0||void 0},{id:"6",timestamp:new Date(Date.now()-5e3).toISOString(),level:"DEBUG",component:"auth",message:"User authentication successful for tenant admin",source:"backend",tenant_id:s?.tenant_id||void 0||void 0}];h.useEffect(()=>{W(),$()},[]);const $=()=>{try{const H=localStorage.getItem("logSettings");H&&M(JSON.parse(H))}catch(H){console.error("Error loading saved settings:",H)}};h.useEffect(()=>{U()},[r,y,f,T,j]),h.useEffect(()=>{_&&ne()},[o]),h.useEffect(()=>{let H;return d&&(H=setInterval(()=>{k()},2e3)),()=>clearInterval(H)},[d]);const W=async()=>{v(!0);try{const[H,se]=await Promise.allSettled([ve.get("/logs/system?lines=100"),ve.get("/logs/stats?lines=1000")]);H.status==="fulfilled"&&H.value.data?.success?i(H.value.data.logs):i(Y),se.status==="fulfilled"&&se.value.data?.success?E(se.value.data.stats):te(Y)}catch(H){console.error("Error loading logs:",H),i(Y),te(Y)}finally{v(!1)}},k=async()=>{try{const se=await ve.get("/logs/system?lines=10");if(se.data?.success&&se.data?.logs?.length>0){const Q=se.data.logs.filter(Z=>!r.some(xe=>xe.id===Z.id));if(Q.length>0){i(Z=>[...Q,...Z].slice(0,1e3));return}}}catch(se){console.error("Error fetching new logs:",se)}const H={id:Date.now().toString(),timestamp:new Date().toISOString(),level:["INFO","DEBUG","WARN","ERROR"][Math.floor(Math.random()*4)],component:["sofia","mod_dptools","api","auth"][Math.floor(Math.random()*4)],message:`Sample log message ${Date.now()}`,source:["freeswitch","backend"][Math.floor(Math.random()*2)],tenant_id:s?.tenant_id||void 0};i(se=>[H,...se].slice(0,1e3))},U=()=>{let H=r;y&&(H=H.filter(se=>se.message.toLowerCase().includes(y.toLowerCase())||se.component.toLowerCase().includes(y.toLowerCase()))),f!=="all"&&(H=H.filter(se=>se.level===f)),T!=="all"&&(H=H.filter(se=>se.component===T)),j!=="all"&&(H=H.filter(se=>se.source===j)),c(H)},te=H=>{const se={total:H.length,errors:H.filter(Q=>Q.level==="ERROR"||Q.level==="CRITICAL").length,warnings:H.filter(Q=>Q.level==="WARN").length,last_update:new Date().toLocaleString()};E(se)},ne=()=>{A.current?.scrollIntoView({behavior:"smooth"})},fe=H=>{switch(H){case"ERROR":case"CRITICAL":return e.jsx(_r,{className:"h-4 w-4 text-red-500"});case"WARN":return e.jsx(Xt,{className:"h-4 w-4 text-yellow-500"});case"INFO":return e.jsx(Nh,{className:"h-4 w-4 text-blue-500"});case"DEBUG":return e.jsx(xt,{className:"h-4 w-4 text-gray-500"});default:return e.jsx(Nh,{className:"h-4 w-4 text-gray-500"})}},J=H=>{const se={CRITICAL:"bg-red-100 text-red-800",ERROR:"bg-red-100 text-red-800",WARN:"bg-yellow-100 text-yellow-800",INFO:"bg-blue-100 text-blue-800",DEBUG:"bg-gray-100 text-gray-800"};return e.jsx(he,{className:`${se[H]||se.DEBUG} text-xs`,children:H})},ae=H=>{const se={freeswitch:"bg-purple-100 text-purple-800",backend:"bg-green-100 text-green-800",frontend:"bg-blue-100 text-blue-800"};return e.jsx(he,{className:`${se[H]||se.frontend} text-xs`,children:H.toUpperCase()})},ce=()=>{W()},O=()=>{const H=o.map(xe=>`[${xe.timestamp}] ${xe.level} [${xe.component}] ${xe.message}`).join(`
`),se=new Blob([H],{type:"text/plain"}),Q=URL.createObjectURL(se),Z=document.createElement("a");Z.href=Q,Z.download=`voip-logs-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(Q)},S=()=>{confirm("Are you sure you want to clear all logs?")&&(i([]),c([]),E({total:0,errors:0,warnings:0,last_update:new Date().toLocaleString()}))},le=async H=>{try{(await ve.post("/logs/freeswitch/level",{level:H})).data?.success&&console.log(`FreeSWITCH log level set to ${H}`)}catch(se){console.error("Error setting log level:",se)}},ge=async H=>{try{(await ve.post("/logs/freeswitch/tracing",{enabled:H})).data?.success&&console.log(`SIP tracing ${H?"enabled":"disabled"}`)}catch(se){console.error("Error setting SIP tracing:",se)}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Logs & Verbose"}),e.jsx("p",{className:"text-gray-600",children:"Monitor system logs and debugging information"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(V,{variant:"outline",onClick:ce,disabled:p,children:[e.jsx(ut,{className:`h-4 w-4 mr-2 ${p?"animate-spin":""}`}),"Refresh"]}),e.jsxs(V,{variant:"outline",onClick:O,children:[e.jsx(Ma,{className:"h-4 w-4 mr-2"}),"Download"]}),e.jsxs(V,{variant:"outline",onClick:S,className:"text-red-600 hover:text-red-700",children:[e.jsx(aw,{className:"h-4 w-4 mr-2"}),"Clear"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(de,{children:e.jsx(ue,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Logs"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.total})]}),e.jsx(qs,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Errors"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:I.errors})]}),e.jsx(_r,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Warnings"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:I.warnings})]}),e.jsx(Xt,{className:"h-8 w-8 text-yellow-500"})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Last Update"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:I.last_update})]}),e.jsx(Ht,{className:"h-8 w-8 text-green-500"})]})})})]}),e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsxs(be,{className:"flex items-center",children:[e.jsx(Oa,{className:"h-5 w-5 mr-2"}),"System Logs"]}),e.jsxs(Be,{children:["Real-time monitoring of FreeSWITCH, Backend, and Frontend logs for tenant: ",s?.tenant_id?.slice(0,8),"..."]})]}),e.jsx(ue,{children:e.jsxs(Ws,{value:B,onValueChange:H=>F(H),children:[e.jsxs(vs,{className:"grid w-full grid-cols-3",children:[e.jsx(Qe,{value:"live",children:"Live Monitoring"}),e.jsx(Qe,{value:"search",children:"Search & Filter"}),e.jsx(Qe,{value:"settings",children:"Settings"})]}),e.jsxs(nt,{value:"live",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{checked:d,onCheckedChange:m}),e.jsx("span",{className:"text-sm font-medium",children:d?"Live Mode ON":"Live Mode OFF"}),d?e.jsx(kp,{className:"h-4 w-4 text-green-500"}):e.jsx(Cp,{className:"h-4 w-4 text-gray-400"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{checked:_,onCheckedChange:C}),e.jsx("span",{className:"text-sm font-medium",children:"Auto Scroll"})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",o.length," of ",r.length," logs"]})]}),e.jsxs("div",{className:"bg-black text-green-400 font-mono text-sm rounded-lg p-4 h-96 overflow-y-auto",children:[o.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No logs to display"}):o.map(H=>e.jsxs("div",{className:"flex items-start space-x-2 py-1 border-b border-gray-800",children:[e.jsx("span",{className:"text-gray-500 text-xs whitespace-nowrap",children:new Date(H.timestamp).toLocaleTimeString()}),e.jsxs("div",{className:"flex items-center space-x-1",children:[fe(H.level),J(H.level),ae(H.source)]}),e.jsxs("span",{className:"text-blue-400 font-semibold",children:["[",H.component,"]"]}),e.jsx("span",{className:"text-white flex-1",children:H.message})]},H.id)),e.jsx("div",{ref:A})]})]}),e.jsxs(nt,{value:"search",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ee,{placeholder:"Search logs...",value:y,onChange:H=>g(H.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Level"}),e.jsxs(Ue,{value:f,onValueChange:w,children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"all",children:"All Levels"}),e.jsx(X,{value:"DEBUG",children:"Debug"}),e.jsx(X,{value:"INFO",children:"Info"}),e.jsx(X,{value:"WARN",children:"Warning"}),e.jsx(X,{value:"ERROR",children:"Error"}),e.jsx(X,{value:"CRITICAL",children:"Critical"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Component"}),e.jsxs(Ue,{value:T,onValueChange:R,children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"all",children:"All Components"}),e.jsx(X,{value:"sofia",children:"Sofia"}),e.jsx(X,{value:"mod_dptools",children:"Mod Dptools"}),e.jsx(X,{value:"api",children:"API"}),e.jsx(X,{value:"auth",children:"Authentication"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Source"}),e.jsxs(Ue,{value:j,onValueChange:b,children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"all",children:"All Sources"}),e.jsx(X,{value:"freeswitch",children:"FreeSWITCH"}),e.jsx(X,{value:"backend",children:"Backend"}),e.jsx(X,{value:"frontend",children:"Frontend"})]})]})]})]}),e.jsx("div",{className:"space-y-2",children:o.map(H=>e.jsx(de,{className:"p-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[fe(H.level),J(H.level),ae(H.source),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(H.timestamp).toLocaleString()})]}),e.jsx("div",{className:"flex items-center space-x-2 mb-1",children:e.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:["[",H.component,"]"]})}),e.jsx("p",{className:"text-sm text-gray-700",children:H.message})]})})},H.id))})]}),e.jsx(nt,{value:"settings",className:"space-y-4",children:e.jsxs(de,{children:[e.jsxs(Ne,{children:[e.jsx(be,{children:"Log Settings"}),e.jsx(Be,{children:"Configure logging preferences and verbosity levels"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"FreeSWITCH Log Level"}),e.jsxs(Ue,{value:L.freeswitchLevel,onValueChange:H=>M(se=>({...se,freeswitchLevel:H})),children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"debug",children:"Debug"}),e.jsx(X,{value:"info",children:"Info"}),e.jsx(X,{value:"notice",children:"Notice"}),e.jsx(X,{value:"warning",children:"Warning"}),e.jsx(X,{value:"error",children:"Error"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Backend Log Level"}),e.jsxs(Ue,{value:L.backendLevel,onValueChange:H=>M(se=>({...se,backendLevel:H})),children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"debug",children:"Debug"}),e.jsx(X,{value:"info",children:"Info"}),e.jsx(X,{value:"warn",children:"Warning"}),e.jsx(X,{value:"error",children:"Error"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Log Entries"}),e.jsx(ee,{type:"number",value:L.maxLogs,onChange:H=>M(se=>({...se,maxLogs:H.target.value})),placeholder:"1000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Log Retention (days)"}),e.jsx(ee,{type:"number",value:L.retention,onChange:H=>M(se=>({...se,retention:H.target.value})),placeholder:"30"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{checked:L.sipTracing,onCheckedChange:H=>{M(se=>({...se,sipTracing:H})),ge(H)}}),e.jsx("span",{className:"text-sm font-medium",children:"Enable SIP Tracing"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{checked:L.rtpCapture,onCheckedChange:H=>M(se=>({...se,rtpCapture:H}))}),e.jsx("span",{className:"text-sm font-medium",children:"Enable RTP Capture"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{checked:L.verboseDebugging,onCheckedChange:H=>M(se=>({...se,verboseDebugging:H}))}),e.jsx("span",{className:"text-sm font-medium",children:"Enable Verbose Debugging"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(V,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{console.log("Apply Settings clicked"),console.log("Settings to apply:",L),le(L.freeswitchLevel),ge(L.sipTracing),localStorage.setItem("logSettings",JSON.stringify(L)),alert("Settings applied successfully!")},children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),"Apply Settings"]})})]})]})})]})})]})]})}const Ms={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function tC(){const{user:s}=Ct(),[r,i]=h.useState([]),[o,c]=h.useState([]),[d,m]=h.useState(!1),[p,v]=h.useState("create"),[y,g]=h.useState(!1),[f,w]=h.useState(""),[T,R]=h.useState({}),[j,b]=h.useState(null);h.useEffect(()=>{_(),C()},[]);const _=async()=>{g(!0);try{const $=Ms?.VITE_API_BASE_URL||"http://192.168.172.234:3000/api",k=await(await fetch(`${$}/ring-groups`)).json();k?.success&&Array.isArray(k?.data)?i(k.data):(console.warn(" Invalid API response format"),i([]))}catch($){console.error(" Error loading ring groups:",$),i([])}finally{g(!1)}},C=async()=>{try{const $=Ms?.VITE_API_BASE_URL||"http://192.168.172.234:3000/api",k=await(await fetch(`${$}/extensions`)).json();k?.success&&Array.isArray(k?.extensions)&&c(k.extensions.map(U=>({id:U.id,extension:U.extension,display_name:U.display_name})))}catch($){console.error(" Error loading extensions:",$)}},I=async()=>{if(s?.tenant_id){g(!0);try{const $=Ms?.VITE_API_BASE_URL||"http://192.168.172.234:3000/api",k=await(await fetch(`${$}/ring-groups`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...T,tenant_id:s.tenant_id})})).json();k.success?(await _(),m(!1),R({})):console.error(" Error creating ring group:",k.message)}catch($){console.error(" Error creating ring group:",$)}finally{g(!1)}}},E=async()=>{if(j){g(!0);try{const $=Ms?.VITE_API_BASE_URL||"http://192.168.172.234:3000/api",k=await(await fetch(`${$}/ring-groups/${j.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)})).json();k.success?(await _(),m(!1),R({}),b(null)):console.error(" Error updating ring group:",k.message)}catch($){console.error(" Error updating ring group:",$)}finally{g(!1)}}},B=async $=>{if(confirm(`Are you sure you want to delete ring group "${$.name}"?`)){g(!0);try{const W=Ms?.VITE_API_BASE_URL||"http://192.168.172.234:3000/api",U=await(await fetch(`${W}/ring-groups/${$.id}`,{method:"DELETE"})).json();U.success?await _():console.error(" Error deleting ring group:",U.message)}catch(W){console.error(" Error deleting ring group:",W)}finally{g(!1)}}},F=async($,W)=>{try{const k=Ms?.VITE_API_BASE_URL||"http://192.168.172.234:3000/api",te=await(await fetch(`${k}/ring-groups/${$}/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({extension_id:W})})).json();te.success?await _():console.error(" Error adding member:",te.message)}catch(k){console.error(" Error adding member:",k)}},A=async($,W)=>{try{const k=Ms?.VITE_API_BASE_URL||"http://192.168.172.234:3000/api",te=await(await fetch(`${k}/ring-groups/${$}/members/${W}`,{method:"DELETE"})).json();te.success?await _():console.error(" Error removing member:",te.message)}catch(k){console.error(" Error removing member:",k)}},L=r.filter($=>$.name.toLowerCase().includes(f.toLowerCase())||$.extension.includes(f)||$.description?.toLowerCase().includes(f.toLowerCase())),M=$=>{switch($){case"ringall":return"Ring All";case"hunt":return"Hunt";case"random":return"Random";case"simultaneous":return"Simultaneous";default:return $}},Y=$=>{switch($){case"ringall":return"bg-blue-100 text-blue-800";case"hunt":return"bg-green-100 text-green-800";case"random":return"bg-purple-100 text-purple-800";case"simultaneous":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Ring Groups"}),e.jsx("p",{className:"text-gray-600",children:"Manage ring groups for simultaneous or sequential ringing"})]}),e.jsxs(V,{onClick:()=>{v("create"),R({}),m(!0)},children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Ring Group"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(ee,{placeholder:"Search ring groups...",value:f,onChange:$=>w($.target.value),className:"pl-10"})]}),e.jsxs(V,{variant:"outline",onClick:_,disabled:y,children:[e.jsx(ut,{className:`h-4 w-4 mr-2 ${y?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map($=>e.jsxs(de,{className:"relative",children:[e.jsx(Ne,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(be,{className:"text-lg",children:$.name}),e.jsx(Be,{children:$.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:$.enabled?"default":"secondary",children:$.enabled?"Active":"Inactive"}),e.jsx(V,{variant:"ghost",size:"sm",children:e.jsx(Or,{className:"h-4 w-4"})})]})]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:$.extension})]}),e.jsx(he,{className:Y($.strategy),children:M($.strategy)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ot,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[$.members.length," member",$.members.length!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ht,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[$.ring_time,"s ring time"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[$.current_calls,"/",$.max_concurrent_calls," calls"]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:$.current_calls>0?e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}):e.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"})})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{v("edit"),R($),b($),m(!0)},children:[e.jsx(en,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{v("view"),R($),b($),m(!0)},children:[e.jsx(hs,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>B($),className:"text-red-600 hover:text-red-700",children:e.jsx(jt,{className:"h-4 w-4"})})]})]})]},$.id))}),L.length===0&&!y&&e.jsx(de,{children:e.jsxs(ue,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(ot,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Ring Groups Found"}),e.jsx("p",{className:"text-gray-500 text-center mb-4",children:f?"No ring groups match your search criteria.":"Create your first ring group to get started."}),!f&&e.jsxs(V,{onClick:()=>{v("create"),R({}),m(!0)},children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Create Ring Group"]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ne,{children:[e.jsx(be,{children:p==="create"?"Create Ring Group":p==="edit"?"Edit Ring Group":"View Ring Group"}),e.jsx(Be,{children:p==="create"?"Create a new ring group for your team":p==="edit"?"Update ring group settings":"View ring group details and members"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Name"}),e.jsx(ee,{value:T.name||"",onChange:$=>R({...T,name:$.target.value}),disabled:p==="view",placeholder:"Sales Team"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Extension"}),e.jsx(ee,{value:T.extension||"",onChange:$=>R({...T,extension:$.target.value}),disabled:p==="view",placeholder:"2000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(Ks,{value:T.description||"",onChange:$=>R({...T,description:$.target.value}),disabled:p==="view",placeholder:"Ring group for sales team members"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Strategy"}),e.jsxs(Ue,{value:T.strategy||"ringall",onValueChange:$=>R({...T,strategy:$}),disabled:p==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"ringall",children:"Ring All"}),e.jsx(X,{value:"hunt",children:"Hunt"}),e.jsx(X,{value:"random",children:"Random"}),e.jsx(X,{value:"simultaneous",children:"Simultaneous"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Ring Time (seconds)"}),e.jsx(ee,{type:"number",value:T.ring_time||20,onChange:$=>R({...T,ring_time:parseInt($.target.value)}),disabled:p==="view",min:"1",max:"60"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Call Timeout (seconds)"}),e.jsx(ee,{type:"number",value:T.call_timeout||60,onChange:$=>R({...T,call_timeout:parseInt($.target.value)}),disabled:p==="view",min:"1",max:"300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Concurrent Calls"}),e.jsx(ee,{type:"number",value:T.max_concurrent_calls||10,onChange:$=>R({...T,max_concurrent_calls:parseInt($.target.value)}),disabled:p==="view",min:"1",max:"100"})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Voicemail Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{checked:T.voicemail_enabled||!1,onCheckedChange:$=>R({...T,voicemail_enabled:$}),disabled:p==="view"}),e.jsx("label",{className:"text-sm font-medium",children:"Enable Voicemail"})]}),T.voicemail_enabled&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Voicemail Extension"}),e.jsx(ee,{value:T.voicemail_extension||"",onChange:$=>R({...T,voicemail_extension:$.target.value}),disabled:p==="view",placeholder:"100"})]})]})]}),(p==="edit"||p==="view")&&j&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Members"}),e.jsxs("div",{className:"space-y-2",children:[j.members.map($=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:$.extension}),e.jsxs("span",{className:"text-sm text-gray-600",children:["- ",$.display_name]})]}),p==="edit"&&e.jsx(V,{variant:"outline",size:"sm",onClick:()=>A(j.id,$.extension_id),className:"text-red-600 hover:text-red-700",children:e.jsx(Ep,{className:"h-4 w-4"})})]},$.extension_id)),p==="edit"&&e.jsx("div",{className:"pt-2",children:e.jsxs(Ue,{onValueChange:$=>{$&&F(j.id,$)},children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Add member..."})}),e.jsx(Fe,{children:o.filter($=>!j.members.some(W=>W.extension_id===$.id)).map($=>e.jsxs(X,{value:$.id,children:[$.extension," - ",$.display_name]},$.id))})]})})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[e.jsx(V,{variant:"outline",onClick:()=>{m(!1),R({}),b(null)},children:"Cancel"}),p!=="view"&&e.jsx(V,{onClick:p==="create"?I:E,disabled:y,children:y?"Saving...":p==="create"?"Create":"Update"})]})]})]})})]})}const nC=()=>{const{logout:s}=Ct(),r=Ft();return{apiCall:async(o,c={})=>{const d=await fetch(o,{...c,headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json",...c.headers}});if(d.status===401||d.status===403)throw console.warn(" Session expired, redirecting to login"),s(),r("/login"),new Error("Session expired");return d}}};function sC(){const{user:s}=Ct(),{apiCall:r}=nC(),[i,o]=h.useState([]),[c,d]=h.useState([]),[m,p]=h.useState(!1),[v,y]=h.useState("create"),[g,f]=h.useState(!1),[w,T]=h.useState(""),[R,j]=h.useState({}),[b,_]=h.useState(null);h.useEffect(()=>{s&&(C(),I())},[s]);const C=async()=>{if(!s){console.warn(" User not authenticated, skipping queue load");return}f(!0);try{const te=await(await r("http://localhost:3000/api/queues")).json();te?.success&&Array.isArray(te?.data)?o(te.data):(console.warn(" Invalid API response format"),o([]))}catch(k){console.error(" Error loading queues:",k),o([])}finally{f(!1)}},I=async()=>{if(!s){console.warn(" User not authenticated, skipping extensions load");return}try{const te=await(await r("http://localhost:3000/api/extensions")).json();te?.success&&Array.isArray(te?.extensions)&&d(te.extensions.map(ne=>({id:ne.id,extension:ne.extension,display_name:ne.display_name})))}catch(k){console.error(" Error loading extensions:",k)}},E=async()=>{if(s?.tenant_id){f(!0);try{const te=await(await fetch("http://localhost:3000/api/queues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...R,tenant_id:s.tenant_id})})).json();te.success?(await C(),p(!1),j({})):console.error(" Error creating queue:",te.message)}catch(k){console.error(" Error creating queue:",k)}finally{f(!1)}}},B=async()=>{if(b){f(!0);try{const te=await(await fetch(`http://localhost:3000/api/queues/${b.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)})).json();te.success?(await C(),p(!1),j({}),_(null)):console.error(" Error updating queue:",te.message)}catch(k){console.error(" Error updating queue:",k)}finally{f(!1)}}},F=async k=>{if(confirm(`Are you sure you want to delete queue "${k.name}"?`)){f(!0);try{const ne=await(await fetch(`http://localhost:3000/api/queues/${k.id}`,{method:"DELETE"})).json();ne.success?await C():console.error(" Error deleting queue:",ne.message)}catch(U){console.error(" Error deleting queue:",U)}finally{f(!1)}}},A=async(k,U)=>{try{const fe=await(await fetch(`http://localhost:3000/api/queues/${k}/agents`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({extension_id:U})})).json();fe.success?await C():console.error(" Error adding agent:",fe.message)}catch(te){console.error(" Error adding agent:",te)}},L=async(k,U)=>{try{const fe=await(await fetch(`http://localhost:3000/api/queues/${k}/agents/${U}`,{method:"DELETE"})).json();fe.success?await C():console.error(" Error removing agent:",fe.message)}catch(te){console.error(" Error removing agent:",te)}},M=i.filter(k=>k.name.toLowerCase().includes(w.toLowerCase())||k.extension.includes(w)||k.description?.toLowerCase().includes(w.toLowerCase())),Y=k=>{switch(k){case"ring-all":return"Ring All";case"longest-idle":return"Longest Idle";case"round-robin":return"Round Robin";case"top-down":return"Top Down";case"agent-with-least-talk-time":return"Least Talk Time";default:return k}},$=k=>{switch(k){case"ring-all":return"bg-blue-100 text-blue-800";case"longest-idle":return"bg-green-100 text-green-800";case"round-robin":return"bg-purple-100 text-purple-800";case"top-down":return"bg-orange-100 text-orange-800";case"agent-with-least-talk-time":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}},W=k=>{switch(k){case"Available":return"bg-green-100 text-green-800";case"On Break":return"bg-yellow-100 text-yellow-800";case"Logged Out":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Call Queues"}),e.jsx("p",{className:"text-gray-600",children:"Manage call queues for distributing calls to agents"})]}),e.jsxs(V,{onClick:()=>{y("create"),j({}),p(!0)},children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Queue"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(ee,{placeholder:"Search queues...",value:w,onChange:k=>T(k.target.value),className:"pl-10"})]}),e.jsxs(V,{variant:"outline",onClick:C,disabled:g,children:[e.jsx(ut,{className:`h-4 w-4 mr-2 ${g?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(k=>e.jsxs(de,{className:"relative",children:[e.jsx(Ne,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(be,{className:"text-lg",children:k.name}),e.jsx(Be,{children:k.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:k.enabled?"default":"secondary",children:k.enabled?"Active":"Inactive"}),e.jsx(V,{variant:"ghost",size:"sm",children:e.jsx(Or,{className:"h-4 w-4"})})]})]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:k.extension})]}),e.jsx(he,{className:$(k.strategy),children:Y(k.strategy)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ot,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[k.agents.length," agent",k.agents.length!==1?"s":""]})]}),e.jsxs("div",{className:"space-y-1",children:[k.agents.slice(0,3).map(U=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:U.agent_name}),e.jsx(he,{className:`${W(U.status)} text-xs`,children:U.status})]},U.id)),k.agents.length>3&&e.jsxs("div",{className:"text-xs text-gray-500",children:["+",k.agents.length-3," more agents"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ht,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Math.floor(k.max_wait_time/60),"m max wait"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qs,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[k.current_calls,"/",k.max_concurrent_calls," calls"]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:k.current_calls>0?e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}):e.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"})})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{y("edit"),j(k),_(k),p(!0)},children:[e.jsx(en,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{y("view"),j(k),_(k),p(!0)},children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>F(k),className:"text-red-600 hover:text-red-700",children:e.jsx(jt,{className:"h-4 w-4"})})]})]})]},k.id))}),M.length===0&&!g&&e.jsx(de,{children:e.jsxs(ue,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(ot,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Queues Found"}),e.jsx("p",{className:"text-gray-500 text-center mb-4",children:w?"No queues match your search criteria.":"Create your first call queue to get started."}),!w&&e.jsxs(V,{onClick:()=>{y("create"),j({}),p(!0)},children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Create Queue"]})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ne,{children:[e.jsx(be,{children:v==="create"?"Create Call Queue":v==="edit"?"Edit Call Queue":"View Call Queue"}),e.jsx(Be,{children:v==="create"?"Create a new call queue for your agents":v==="edit"?"Update queue settings":"View queue details and agents"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Name"}),e.jsx(ee,{value:R.name||"",onChange:k=>j({...R,name:k.target.value}),disabled:v==="view",placeholder:"Support Queue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Extension"}),e.jsx(ee,{value:R.extension||"",onChange:k=>j({...R,extension:k.target.value}),disabled:v==="view",placeholder:"3000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(Ks,{value:R.description||"",onChange:k=>j({...R,description:k.target.value}),disabled:v==="view",placeholder:"Call queue for customer support"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Strategy"}),e.jsxs(Ue,{value:R.strategy||"ring-all",onValueChange:k=>j({...R,strategy:k}),disabled:v==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"ring-all",children:"Ring All"}),e.jsx(X,{value:"longest-idle",children:"Longest Idle"}),e.jsx(X,{value:"round-robin",children:"Round Robin"}),e.jsx(X,{value:"top-down",children:"Top Down"}),e.jsx(X,{value:"agent-with-least-talk-time",children:"Least Talk Time"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Wait Time (seconds)"}),e.jsx(ee,{type:"number",value:R.max_wait_time||300,onChange:k=>j({...R,max_wait_time:parseInt(k.target.value)}),disabled:v==="view",min:"1",max:"3600"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Queue Timeout (seconds)"}),e.jsx(ee,{type:"number",value:R.queue_timeout||60,onChange:k=>j({...R,queue_timeout:parseInt(k.target.value)}),disabled:v==="view",min:"1",max:"300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Concurrent Calls"}),e.jsx(ee,{type:"number",value:R.max_concurrent_calls||10,onChange:k=>j({...R,max_concurrent_calls:parseInt(k.target.value)}),disabled:v==="view",min:"1",max:"100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Timeout Action"}),e.jsxs(Ue,{value:R.queue_timeout_action||"hangup",onValueChange:k=>j({...R,queue_timeout_action:k}),disabled:v==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"hangup",children:"Hangup"}),e.jsx(X,{value:"voicemail",children:"Voicemail"}),e.jsx(X,{value:"forward",children:"Forward"})]})]})]}),(v==="edit"||v==="view")&&b&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Agents"}),e.jsxs("div",{className:"space-y-2",children:[b.agents.map(k=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:k.agent_name}),e.jsx(he,{className:`${W(k.status)} text-xs`,children:k.status})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["T",k.tier_level,".",k.tier_position]}),v==="edit"&&e.jsx(V,{variant:"outline",size:"sm",onClick:()=>L(b.id,k.extension_id),className:"text-red-600 hover:text-red-700",children:e.jsx(Ep,{className:"h-4 w-4"})})]})]},k.id)),v==="edit"&&e.jsx("div",{className:"pt-2",children:e.jsxs(Ue,{onValueChange:k=>{k&&A(b.id,k)},children:[e.jsx(Oe,{children:e.jsx(Ve,{placeholder:"Add agent..."})}),e.jsx(Fe,{children:c.filter(k=>!b.agents.some(U=>U.extension_id===k.id)).map(k=>e.jsxs(X,{value:k.id,children:[k.extension," - ",k.display_name]},k.id))})]})})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[e.jsx(V,{variant:"outline",onClick:()=>{p(!1),j({}),_(null)},children:"Cancel"}),v!=="view"&&e.jsx(V,{onClick:v==="create"?E:B,disabled:g,children:g?"Saving...":v==="create"?"Create":"Update"})]})]})]})})]})}const il={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function rC(){const{user:s}=Ct(),[r,i]=h.useState([]),[o,c]=h.useState(!1),[d,m]=h.useState("create"),[p,v]=h.useState(!1),[y,g]=h.useState(""),[f,w]=h.useState({}),[T,R]=h.useState(null);h.useEffect(()=>{j()},[]);const j=async()=>{v(!0);try{const A=il?.VITE_API_BASE_URL||"http://192.168.172.234:3000/api",M=await(await fetch(`${A}/ivr-menus`)).json();M?.success&&Array.isArray(M?.data)?i(M.data):(console.warn(" Invalid API response format"),i([]))}catch(A){console.error(" Error loading IVR menus:",A),i([])}finally{v(!1)}},b=async()=>{if(s?.tenant_id){v(!0);try{const A=il?.VITE_API_BASE_URL||"http://192.168.172.234:3000/api",M=await(await fetch(`${A}/ivr-menus`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...f,tenant_id:s.tenant_id})})).json();M.success?(await j(),c(!1),w({})):console.error(" Error creating IVR menu:",M.message)}catch(A){console.error(" Error creating IVR menu:",A)}finally{v(!1)}}},_=async()=>{if(T){v(!0);try{const A=il?.VITE_API_BASE_URL||"http://192.168.172.234:3000/api",M=await(await fetch(`${A}/ivr-menus/${T.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).json();M.success?(await j(),c(!1),w({}),R(null)):console.error(" Error updating IVR menu:",M.message)}catch(A){console.error(" Error updating IVR menu:",A)}finally{v(!1)}}},C=async A=>{if(confirm(`Are you sure you want to delete IVR menu "${A.name}"?`)){v(!0);try{const L=il?.VITE_API_BASE_URL||"http://192.168.172.234:3000/api",Y=await(await fetch(`${L}/ivr-menus/${A.id}`,{method:"DELETE"})).json();Y.success?await j():console.error(" Error deleting IVR menu:",Y.message)}catch(L){console.error(" Error deleting IVR menu:",L)}finally{v(!1)}}},I=r.filter(A=>A.name.toLowerCase().includes(y.toLowerCase())||A.extension.includes(y)||A.description?.toLowerCase().includes(y.toLowerCase())),E=A=>{switch(A){case"extension":return e.jsx(qe,{className:"h-4 w-4"});case"queue":return e.jsx(ot,{className:"h-4 w-4"});case"conference":return e.jsx(Cr,{className:"h-4 w-4"});case"voicemail":return e.jsx(fs,{className:"h-4 w-4"});case"submenu":return e.jsx(Pd,{className:"h-4 w-4"});case"hangup":return e.jsx(_p,{className:"h-4 w-4"});default:return e.jsx(hs,{className:"h-4 w-4"})}},B=A=>{switch(A){case"extension":return"Extension";case"queue":return"Queue";case"conference":return"Conference";case"voicemail":return"Voicemail";case"submenu":return"Submenu";case"hangup":return"Hangup";default:return A}},F=A=>{switch(A){case"extension":return"bg-blue-100 text-blue-800";case"queue":return"bg-green-100 text-green-800";case"conference":return"bg-purple-100 text-purple-800";case"voicemail":return"bg-orange-100 text-orange-800";case"submenu":return"bg-pink-100 text-pink-800";case"hangup":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"IVR Menus"}),e.jsx("p",{className:"text-gray-600",children:"Create and manage Interactive Voice Response menus"})]}),e.jsxs(V,{onClick:()=>{m("create"),w({timeout:10,max_failures:3,timeout_action:{type:"hangup",destination:""},invalid_action:{type:"hangup",destination:""},options:{}}),c(!0)},children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add IVR Menu"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(ee,{placeholder:"Search IVR menus...",value:y,onChange:A=>g(A.target.value),className:"pl-10"})]}),e.jsxs(V,{variant:"outline",onClick:j,disabled:p,children:[e.jsx(ut,{className:`h-4 w-4 mr-2 ${p?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(A=>e.jsxs(de,{className:"relative",children:[e.jsx(Ne,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(be,{className:"text-lg",children:A.name}),e.jsx(Be,{children:A.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:A.enabled?"default":"secondary",children:A.enabled?"Active":"Inactive"}),e.jsx(V,{variant:"ghost",size:"sm",children:e.jsx(Or,{className:"h-4 w-4"})})]})]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:A.extension})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ht,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:[A.timeout,"s timeout"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yp,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:[A.max_failures," max tries"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(hs,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Object.keys(A.options).length," option",Object.keys(A.options).length!==1?"s":""]})]}),e.jsxs("div",{className:"space-y-1",children:[Object.entries(A.options).slice(0,3).map(([L,M])=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:L}),e.jsx("span",{className:"text-gray-600",children:M.description||M.destination})]}),e.jsxs(he,{className:`${F(M.action)} text-xs flex items-center space-x-1`,children:[E(M.action),e.jsx("span",{children:B(M.action)})]})]},L)),Object.keys(A.options).length>3&&e.jsxs("div",{className:"text-xs text-gray-500",children:["+",Object.keys(A.options).length-3," more options"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{m("edit"),w(A),R(A),c(!0)},children:[e.jsx(en,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{m("view"),w(A),R(A),c(!0)},children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>C(A),className:"text-red-600 hover:text-red-700",children:e.jsx(jt,{className:"h-4 w-4"})})]})]})]},A.id))}),I.length===0&&!p&&e.jsx(de,{children:e.jsxs(ue,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(qe,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No IVR Menus Found"}),e.jsx("p",{className:"text-gray-500 text-center mb-4",children:y?"No IVR menus match your search criteria.":"Create your first IVR menu to get started."}),!y&&e.jsxs(V,{onClick:()=>{m("create"),w({timeout:10,max_failures:3,timeout_action:{type:"hangup",destination:""},invalid_action:{type:"hangup",destination:""},options:{}}),c(!0)},children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Create IVR Menu"]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ne,{children:[e.jsx(be,{children:d==="create"?"Create IVR Menu":d==="edit"?"Edit IVR Menu":"View IVR Menu"}),e.jsx(Be,{children:d==="create"?"Create a new Interactive Voice Response menu":d==="edit"?"Update IVR menu settings":"View IVR menu details and options"})]}),e.jsxs(ue,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Name"}),e.jsx(ee,{value:f.name||"",onChange:A=>w({...f,name:A.target.value}),disabled:d==="view",placeholder:"Main Menu"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Extension"}),e.jsx(ee,{value:f.extension||"",onChange:A=>w({...f,extension:A.target.value}),disabled:d==="view",placeholder:"1000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(Ks,{value:f.description||"",onChange:A=>w({...f,description:A.target.value}),disabled:d==="view",placeholder:"Main customer service menu"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Timeout (seconds)"}),e.jsx(ee,{type:"number",value:f.timeout||10,onChange:A=>w({...f,timeout:parseInt(A.target.value)}),disabled:d==="view",min:"1",max:"60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Failures"}),e.jsx(ee,{type:"number",value:f.max_failures||3,onChange:A=>w({...f,max_failures:parseInt(A.target.value)}),disabled:d==="view",min:"1",max:"10"})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"DTMF Options"}),e.jsxs("div",{className:"space-y-3",children:[Object.entries(f.options||{}).map(([A,L],M)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded",children:[e.jsx("div",{className:"w-16",children:e.jsx(ee,{value:A,onChange:Y=>{const $={...f.options};delete $[A],$[Y.target.value]=L,w({...f,options:$})},disabled:d==="view",placeholder:"1",className:"text-center font-mono"})}),e.jsx("div",{className:"flex-1",children:e.jsx(ee,{value:L.description||"",onChange:Y=>{const $={...f.options};$[A]={...L,description:Y.target.value},w({...f,options:$})},disabled:d==="view",placeholder:"Option description"})}),e.jsx("div",{className:"w-32",children:e.jsxs(Ue,{value:L.action,onValueChange:Y=>{const $={...f.options};$[A]={...L,action:Y},w({...f,options:$})},disabled:d==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"extension",children:"Extension"}),e.jsx(X,{value:"queue",children:"Queue"}),e.jsx(X,{value:"conference",children:"Conference"}),e.jsx(X,{value:"voicemail",children:"Voicemail"}),e.jsx(X,{value:"submenu",children:"Submenu"}),e.jsx(X,{value:"hangup",children:"Hangup"})]})]})}),e.jsx("div",{className:"w-32",children:e.jsx(ee,{value:L.destination,onChange:Y=>{const $={...f.options};$[A]={...L,destination:Y.target.value},w({...f,options:$})},disabled:d==="view",placeholder:"Destination"})}),d!=="view"&&e.jsx(V,{variant:"outline",size:"sm",onClick:()=>{const Y={...f.options};delete Y[A],w({...f,options:Y})},className:"text-red-600 hover:text-red-700",children:e.jsx(jt,{className:"h-4 w-4"})})]},A)),d!=="view"&&e.jsxs(V,{variant:"outline",onClick:()=>{const A={...f.options||{}},L=Object.keys(A).length.toString();A[L]={action:"hangup",destination:"",description:""},w({...f,options:A})},children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Option"]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[e.jsx(V,{variant:"outline",onClick:()=>{c(!1),w({}),R(null)},children:"Cancel"}),d!=="view"&&e.jsx(V,{onClick:d==="create"?b:_,disabled:p,children:p?"Saving...":d==="create"?"Create":"Update"})]})]})]})})]})}function aC(){const{user:s}=Ct(),[r,i]=h.useState([]),[o,c]=h.useState(!1),[d,m]=h.useState("create"),[p,v]=h.useState(!1),[y,g]=h.useState(""),[f,w]=h.useState({}),[T,R]=h.useState(null);h.useEffect(()=>{j()},[]);const j=async()=>{v(!0);try{const F=await(await fetch("http://localhost:3000/api/conference-rooms")).json();F?.success&&Array.isArray(F?.data)?i(F.data):(console.warn(" Invalid API response format"),i([]))}catch(E){console.error(" Error loading conference rooms:",E),i([])}finally{v(!1)}},b=async()=>{if(s?.tenant_id){v(!0);try{const F=await(await fetch("http://localhost:3000/api/conference-rooms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...f,tenant_id:s.tenant_id})})).json();F.success?(await j(),c(!1),w({})):console.error(" Error creating conference room:",F.message)}catch(E){console.error(" Error creating conference room:",E)}finally{v(!1)}}},_=async()=>{if(T){v(!0);try{const F=await(await fetch(`http://localhost:3000/api/conference-rooms/${T.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).json();F.success?(await j(),c(!1),w({}),R(null)):console.error(" Error updating conference room:",F.message)}catch(E){console.error(" Error updating conference room:",E)}finally{v(!1)}}},C=async E=>{if(confirm(`Are you sure you want to delete conference room "${E.name}"?`)){v(!0);try{const A=await(await fetch(`http://localhost:3000/api/conference-rooms/${E.id}`,{method:"DELETE"})).json();A.success?await j():console.error(" Error deleting conference room:",A.message)}catch(B){console.error(" Error deleting conference room:",B)}finally{v(!1)}}},I=r.filter(E=>E.name.toLowerCase().includes(y.toLowerCase())||E.extension.includes(y)||E.description?.toLowerCase().includes(y.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Conference Rooms"}),e.jsx("p",{className:"text-gray-600",children:"Create and manage audio conference rooms"})]}),e.jsxs(V,{onClick:()=>{m("create"),w({max_members:50,record:!1,settings:{}}),c(!0)},children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Conference Room"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(ee,{placeholder:"Search conference rooms...",value:y,onChange:E=>g(E.target.value),className:"pl-10"})]}),e.jsxs(V,{variant:"outline",onClick:j,disabled:p,children:[e.jsx(ut,{className:`h-4 w-4 mr-2 ${p?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(E=>e.jsxs(de,{className:"relative",children:[e.jsx(Ne,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(be,{className:"text-lg",children:E.name}),e.jsx(Be,{children:E.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:E.enabled?"default":"secondary",children:E.enabled?"Active":"Inactive"}),e.jsx(V,{variant:"ghost",size:"sm",children:e.jsx(Or,{className:"h-4 w-4"})})]})]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:E.extension})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[E.pin&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yp,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:["PIN: ",E.pin]})]}),E.moderator_pin&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(wp,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{children:["Mod: ",E.moderator_pin]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ot,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Max ",E.max_members," members"]})]}),E.record&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fs,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Recording enabled"})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{m("edit"),w(E),R(E),c(!0)},children:[e.jsx(en,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{m("view"),w(E),R(E),c(!0)},children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>C(E),className:"text-red-600 hover:text-red-700",children:e.jsx(jt,{className:"h-4 w-4"})})]})]})]},E.id))}),I.length===0&&!p&&e.jsx(de,{children:e.jsxs(ue,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Cr,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Conference Rooms Found"}),e.jsx("p",{className:"text-gray-500 text-center mb-4",children:y?"No conference rooms match your search criteria.":"Create your first conference room to get started."}),!y&&e.jsxs(V,{onClick:()=>{m("create"),w({max_members:50,record:!1,settings:{}}),c(!0)},children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Create Conference Room"]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ne,{children:[e.jsx(be,{children:d==="create"?"Create Conference Room":d==="edit"?"Edit Conference Room":"View Conference Room"}),e.jsx(Be,{children:d==="create"?"Create a new audio conference room":d==="edit"?"Update conference room settings":"View conference room details"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Name"}),e.jsx(ee,{value:f.name||"",onChange:E=>w({...f,name:E.target.value}),disabled:d==="view",placeholder:"Sales Conference"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Extension"}),e.jsx(ee,{value:f.extension||"",onChange:E=>w({...f,extension:E.target.value}),disabled:d==="view",placeholder:"3000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(Ks,{value:f.description||"",onChange:E=>w({...f,description:E.target.value}),disabled:d==="view",placeholder:"Sales team conference room"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Participant PIN (optional)"}),e.jsx(ee,{value:f.pin||"",onChange:E=>w({...f,pin:E.target.value}),disabled:d==="view",placeholder:"1234"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Moderator PIN (optional)"}),e.jsx(ee,{value:f.moderator_pin||"",onChange:E=>w({...f,moderator_pin:E.target.value}),disabled:d==="view",placeholder:"5678"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Max Members"}),e.jsx(ee,{type:"number",value:f.max_members||50,onChange:E=>w({...f,max_members:parseInt(E.target.value)}),disabled:d==="view",min:"2",max:"1000"})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[e.jsx(We,{checked:f.record||!1,onCheckedChange:E=>w({...f,record:E}),disabled:d==="view"}),e.jsx("label",{className:"text-sm font-medium",children:"Enable Recording"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[e.jsx(V,{variant:"outline",onClick:()=>{c(!1),w({}),R(null)},children:"Cancel"}),d!=="view"&&e.jsx(V,{onClick:d==="create"?b:_,disabled:p,children:p?"Saving...":d==="create"?"Create":"Update"})]})]})]})})]})}function iC(){const{user:s}=Ct(),[r,i]=h.useState([]),[o,c]=h.useState(!1),[d,m]=h.useState("create"),[p,v]=h.useState(!1),[y,g]=h.useState(""),[f,w]=h.useState({}),[T,R]=h.useState(null);h.useEffect(()=>{j()},[]);const j=async()=>{v(!0);try{const F=await(await fetch("http://localhost:3000/api/voicemail-boxes")).json();F?.success&&Array.isArray(F?.data)?i(F.data):(console.warn(" Invalid API response format"),i([]))}catch(E){console.error(" Error loading voicemail boxes:",E),i([])}finally{v(!1)}},b=async()=>{if(s?.tenant_id){v(!0);try{const F=await(await fetch("http://localhost:3000/api/voicemail-boxes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...f,tenant_id:s.tenant_id})})).json();F.success?(await j(),c(!1),w({})):console.error(" Error creating voicemail box:",F.message)}catch(E){console.error(" Error creating voicemail box:",E)}finally{v(!1)}}},_=async()=>{if(T){v(!0);try{const F=await(await fetch(`http://localhost:3000/api/voicemail-boxes/${T.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).json();F.success?(await j(),c(!1),w({}),R(null)):console.error(" Error updating voicemail box:",F.message)}catch(E){console.error(" Error updating voicemail box:",E)}finally{v(!1)}}},C=async E=>{if(confirm(`Are you sure you want to delete voicemail box "${E.mailbox_id}"?`)){v(!0);try{const A=await(await fetch(`http://localhost:3000/api/voicemail-boxes/${E.id}`,{method:"DELETE"})).json();A.success?await j():console.error(" Error deleting voicemail box:",A.message)}catch(B){console.error(" Error deleting voicemail box:",B)}finally{v(!1)}}},I=r.filter(E=>E.mailbox_id.toLowerCase().includes(y.toLowerCase())||E.full_name?.toLowerCase().includes(y.toLowerCase())||E.email?.toLowerCase().includes(y.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Voicemail"}),e.jsx("p",{className:"text-gray-600",children:"Manage voicemail boxes and messages"})]}),e.jsxs(V,{onClick:()=>{m("create"),w({timezone:"UTC",attach_file:!0,delete_voicemail:!1,say_caller_id:!0,say_caller_id_name:!0,say_envelope:!0,skip_greeting:!1,skip_instructions:!1,email_attachment_format:"wav",max_greeting_length:60,max_message_length:300,settings:{}}),c(!0)},children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Voicemail Box"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(ee,{placeholder:"Search voicemail boxes...",value:y,onChange:E=>g(E.target.value),className:"pl-10"})]}),e.jsxs(V,{variant:"outline",onClick:j,disabled:p,children:[e.jsx(ut,{className:`h-4 w-4 mr-2 ${p?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(E=>e.jsxs(de,{className:"relative",children:[e.jsx(Ne,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(be,{className:"text-lg",children:E.mailbox_id}),e.jsx(Be,{children:E.full_name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:E.enabled?"default":"secondary",children:E.enabled?"Active":"Inactive"}),e.jsx(V,{variant:"ghost",size:"sm",children:e.jsx(Or,{className:"h-4 w-4"})})]})]})}),e.jsxs(ue,{className:"space-y-4",children:[E.email&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(nw,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:E.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ht,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:E.timezone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Attach Files"}),e.jsx(he,{variant:E.attach_file?"default":"secondary",children:E.attach_file?"Yes":"No"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Say Caller ID"}),e.jsx(he,{variant:E.say_caller_id?"default":"secondary",children:E.say_caller_id?"Yes":"No"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Max Message Length"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[E.max_message_length,"s"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{m("edit"),w(E),R(E),c(!0)},children:[e.jsx(en,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{m("view"),w(E),R(E),c(!0)},children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>C(E),className:"text-red-600 hover:text-red-700",children:e.jsx(jt,{className:"h-4 w-4"})})]})]})]},E.id))}),I.length===0&&!p&&e.jsx(de,{children:e.jsxs(ue,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(fs,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Voicemail Boxes Found"}),e.jsx("p",{className:"text-gray-500 text-center mb-4",children:y?"No voicemail boxes match your search criteria.":"Create your first voicemail box to get started."}),!y&&e.jsxs(V,{onClick:()=>{m("create"),w({timezone:"UTC",attach_file:!0,delete_voicemail:!1,say_caller_id:!0,say_caller_id_name:!0,say_envelope:!0,skip_greeting:!1,skip_instructions:!1,email_attachment_format:"wav",max_greeting_length:60,max_message_length:300,settings:{}}),c(!0)},children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Create Voicemail Box"]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(de,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ne,{children:[e.jsx(be,{children:d==="create"?"Create Voicemail Box":d==="edit"?"Edit Voicemail Box":"View Voicemail Box"}),e.jsx(Be,{children:d==="create"?"Create a new voicemail box":d==="edit"?"Update voicemail box settings":"View voicemail box details"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Mailbox ID"}),e.jsx(ee,{value:f.mailbox_id||"",onChange:E=>w({...f,mailbox_id:E.target.value}),disabled:d==="view",placeholder:"100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Password"}),e.jsx(ee,{type:"password",value:f.password||"",onChange:E=>w({...f,password:E.target.value}),disabled:d==="view",placeholder:"1234"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Full Name"}),e.jsx(ee,{value:f.full_name||"",onChange:E=>w({...f,full_name:E.target.value}),disabled:d==="view",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx(ee,{type:"email",value:f.email||"",onChange:E=>w({...f,email:E.target.value}),disabled:d==="view",placeholder:"john@example.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Timezone"}),e.jsxs(Ue,{value:f.timezone||"UTC",onValueChange:E=>w({...f,timezone:E}),disabled:d==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"UTC",children:"UTC"}),e.jsx(X,{value:"Europe/Rome",children:"Europe/Rome"}),e.jsx(X,{value:"America/New_York",children:"America/New_York"}),e.jsx(X,{value:"Asia/Tokyo",children:"Asia/Tokyo"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email Attachment Format"}),e.jsxs(Ue,{value:f.email_attachment_format||"wav",onValueChange:E=>w({...f,email_attachment_format:E}),disabled:d==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"wav",children:"WAV"}),e.jsx(X,{value:"mp3",children:"MP3"}),e.jsx(X,{value:"gsm",children:"GSM"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Settings"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{checked:f.attach_file||!1,onCheckedChange:E=>w({...f,attach_file:E}),disabled:d==="view"}),e.jsx("label",{className:"text-sm font-medium",children:"Attach Files"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{checked:f.say_caller_id||!1,onCheckedChange:E=>w({...f,say_caller_id:E}),disabled:d==="view"}),e.jsx("label",{className:"text-sm font-medium",children:"Say Caller ID"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{checked:f.say_caller_id_name||!1,onCheckedChange:E=>w({...f,say_caller_id_name:E}),disabled:d==="view"}),e.jsx("label",{className:"text-sm font-medium",children:"Say Caller ID Name"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{checked:f.say_envelope||!1,onCheckedChange:E=>w({...f,say_envelope:E}),disabled:d==="view"}),e.jsx("label",{className:"text-sm font-medium",children:"Say Envelope"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[e.jsx(V,{variant:"outline",onClick:()=>{c(!1),w({}),R(null)},children:"Cancel"}),d!=="view"&&e.jsx(V,{onClick:d==="create"?b:_,disabled:p,children:p?"Saving...":d==="create"?"Create":"Update"})]})]})]})})]})}function lC(){const{user:s}=Ct(),[r,i]=h.useState([]),[o,c]=h.useState(!1),[d,m]=h.useState("create"),[p,v]=h.useState(!1),[y,g]=h.useState(""),[f,w]=h.useState({}),[T,R]=h.useState(null);h.useEffect(()=>{j()},[]);const j=async()=>{v(!0);try{const Y=await(await fetch("http://localhost:3000/api/time-conditions")).json();Y?.success&&Array.isArray(Y?.data)?i(Y.data):(console.warn(" Invalid API response format"),i([]))}catch(L){console.error(" Error loading time conditions:",L),i([])}finally{v(!1)}},b=async()=>{if(s?.tenant_id){v(!0);try{const Y=await(await fetch("http://localhost:3000/api/time-conditions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...f,tenant_id:s.tenant_id})})).json();Y.success?(await j(),c(!1),w({})):console.error(" Error creating time condition:",Y.message)}catch(L){console.error(" Error creating time condition:",L)}finally{v(!1)}}},_=async()=>{if(T){v(!0);try{const Y=await(await fetch(`http://localhost:3000/api/time-conditions/${T.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).json();Y.success?(await j(),c(!1),w({}),R(null)):console.error(" Error updating time condition:",Y.message)}catch(L){console.error(" Error updating time condition:",L)}finally{v(!1)}}},C=async L=>{if(confirm(`Are you sure you want to delete time condition "${L.name}"?`)){v(!0);try{const $=await(await fetch(`http://localhost:3000/api/time-conditions/${L.id}`,{method:"DELETE"})).json();$.success?await j():console.error(" Error deleting time condition:",$.message)}catch(M){console.error(" Error deleting time condition:",M)}finally{v(!1)}}},I=r.filter(L=>L.name.toLowerCase().includes(y.toLowerCase())||L.description?.toLowerCase().includes(y.toLowerCase())),E=L=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][L],B=L=>{switch(L){case"extension":return e.jsx(qe,{className:"h-4 w-4"});case"queue":return e.jsx(ot,{className:"h-4 w-4"});case"ivr":return e.jsx(bp,{className:"h-4 w-4"});case"voicemail":return e.jsx(fs,{className:"h-4 w-4"});case"hangup":return e.jsx(_p,{className:"h-4 w-4"});default:return e.jsx(hs,{className:"h-4 w-4"})}},F=L=>{switch(L){case"extension":return"Extension";case"queue":return"Queue";case"ivr":return"IVR";case"voicemail":return"Voicemail";case"hangup":return"Hangup";default:return L}},A=L=>{switch(L){case"extension":return"bg-blue-100 text-blue-800";case"queue":return"bg-green-100 text-green-800";case"ivr":return"bg-purple-100 text-purple-800";case"voicemail":return"bg-orange-100 text-orange-800";case"hangup":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Time Conditions"}),e.jsx("p",{className:"text-gray-600",children:"Create time-based call routing rules"})]}),e.jsxs(V,{onClick:()=>{m("create"),w({timezone:"UTC",conditions:[],action_true:{type:"extension",destination:""},action_false:{type:"hangup",destination:""}}),c(!0)},children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Time Condition"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(ee,{placeholder:"Search time conditions...",value:y,onChange:L=>g(L.target.value),className:"pl-10"})]}),e.jsxs(V,{variant:"outline",onClick:j,disabled:p,children:[e.jsx(ut,{className:`h-4 w-4 mr-2 ${p?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(L=>e.jsxs(de,{className:"relative",children:[e.jsx(Ne,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(be,{className:"text-lg",children:L.name}),e.jsx(Be,{children:L.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{variant:L.enabled?"default":"secondary",children:L.enabled?"Active":"Inactive"}),e.jsx(V,{variant:"ghost",size:"sm",children:e.jsx(Or,{className:"h-4 w-4"})})]})]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ht,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:L.timezone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Gj,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[L.conditions.length," condition",L.conditions.length!==1?"s":""]})]}),e.jsxs("div",{className:"space-y-1",children:[L.conditions.slice(0,2).map((M,Y)=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-600",children:E(M.day_of_week)}),e.jsxs("span",{className:"text-gray-500",children:[M.start_time," - ",M.end_time]})]}),e.jsx(he,{className:`${M.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"} text-xs`,children:M.is_active?"Active":"Inactive"})]},Y)),L.conditions.length>2&&e.jsxs("div",{className:"text-xs text-gray-500",children:["+",L.conditions.length-2," more conditions"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"True Action:"}),e.jsxs(he,{className:`${A(L.action_true.type)} text-xs flex items-center space-x-1`,children:[B(L.action_true.type),e.jsx("span",{children:F(L.action_true.type)})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"False Action:"}),e.jsxs(he,{className:`${A(L.action_false.type)} text-xs flex items-center space-x-1`,children:[B(L.action_false.type),e.jsx("span",{children:F(L.action_false.type)})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{m("edit"),w(L),R(L),c(!0)},children:[e.jsx(en,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{m("view"),w(L),R(L),c(!0)},children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>C(L),className:"text-red-600 hover:text-red-700",children:e.jsx(jt,{className:"h-4 w-4"})})]})]})]},L.id))}),I.length===0&&!p&&e.jsx(de,{children:e.jsxs(ue,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Ht,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Time Conditions Found"}),e.jsx("p",{className:"text-gray-500 text-center mb-4",children:y?"No time conditions match your search criteria.":"Create your first time condition to get started."}),!y&&e.jsxs(V,{onClick:()=>{m("create"),w({timezone:"UTC",conditions:[],action_true:{type:"extension",destination:""},action_false:{type:"hangup",destination:""}}),c(!0)},children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Create Time Condition"]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(de,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ne,{children:[e.jsx(be,{children:d==="create"?"Create Time Condition":d==="edit"?"Edit Time Condition":"View Time Condition"}),e.jsx(Be,{children:d==="create"?"Create a new time-based routing rule":d==="edit"?"Update time condition settings":"View time condition details"})]}),e.jsxs(ue,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Name"}),e.jsx(ee,{value:f.name||"",onChange:L=>w({...f,name:L.target.value}),disabled:d==="view",placeholder:"Business Hours"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Timezone"}),e.jsxs(Ue,{value:f.timezone||"UTC",onValueChange:L=>w({...f,timezone:L}),disabled:d==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"UTC",children:"UTC"}),e.jsx(X,{value:"Europe/Rome",children:"Europe/Rome"}),e.jsx(X,{value:"America/New_York",children:"America/New_York"}),e.jsx(X,{value:"Asia/Tokyo",children:"Asia/Tokyo"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(Ks,{value:f.description||"",onChange:L=>w({...f,description:L.target.value}),disabled:d==="view",placeholder:"Route calls during business hours"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Time Conditions"}),e.jsxs("div",{className:"space-y-3",children:[(f.conditions||[]).map((L,M)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded",children:[e.jsx("div",{className:"w-32",children:e.jsxs(Ue,{value:L.day_of_week.toString(),onValueChange:Y=>{const $=[...f.conditions||[]];$[M].day_of_week=parseInt(Y),w({...f,conditions:$})},disabled:d==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"0",children:"Sunday"}),e.jsx(X,{value:"1",children:"Monday"}),e.jsx(X,{value:"2",children:"Tuesday"}),e.jsx(X,{value:"3",children:"Wednesday"}),e.jsx(X,{value:"4",children:"Thursday"}),e.jsx(X,{value:"5",children:"Friday"}),e.jsx(X,{value:"6",children:"Saturday"})]})]})}),e.jsx("div",{className:"w-24",children:e.jsx(ee,{type:"time",value:L.start_time,onChange:Y=>{const $=[...f.conditions||[]];$[M].start_time=Y.target.value,w({...f,conditions:$})},disabled:d==="view"})}),e.jsx("div",{className:"w-24",children:e.jsx(ee,{type:"time",value:L.end_time,onChange:Y=>{const $=[...f.conditions||[]];$[M].end_time=Y.target.value,w({...f,conditions:$})},disabled:d==="view"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{checked:L.is_active,onCheckedChange:Y=>{const $=[...f.conditions||[]];$[M].is_active=Y,w({...f,conditions:$})},disabled:d==="view"}),e.jsx("label",{className:"text-sm",children:"Active"})]}),d!=="view"&&e.jsx(V,{variant:"outline",size:"sm",onClick:()=>{const Y=[...f.conditions||[]];Y.splice(M,1),w({...f,conditions:Y})},className:"text-red-600 hover:text-red-700",children:e.jsx(jt,{className:"h-4 w-4"})})]},M)),d!=="view"&&e.jsxs(V,{variant:"outline",onClick:()=>{const L=[...f.conditions||[]];L.push({day_of_week:1,start_time:"09:00",end_time:"17:00",is_active:!0}),w({...f,conditions:L})},children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Add Condition"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"True Action"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ue,{value:f.action_true?.type||"extension",onValueChange:L=>w({...f,action_true:{...f.action_true,type:L}}),disabled:d==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"extension",children:"Extension"}),e.jsx(X,{value:"queue",children:"Queue"}),e.jsx(X,{value:"ivr",children:"IVR"}),e.jsx(X,{value:"voicemail",children:"Voicemail"}),e.jsx(X,{value:"hangup",children:"Hangup"})]})]}),e.jsx(ee,{value:f.action_true?.destination||"",onChange:L=>w({...f,action_true:{...f.action_true,destination:L.target.value}}),disabled:d==="view",placeholder:"Destination"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"False Action"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ue,{value:f.action_false?.type||"hangup",onValueChange:L=>w({...f,action_false:{...f.action_false,type:L}}),disabled:d==="view",children:[e.jsx(Oe,{children:e.jsx(Ve,{})}),e.jsxs(Fe,{children:[e.jsx(X,{value:"extension",children:"Extension"}),e.jsx(X,{value:"queue",children:"Queue"}),e.jsx(X,{value:"ivr",children:"IVR"}),e.jsx(X,{value:"voicemail",children:"Voicemail"}),e.jsx(X,{value:"hangup",children:"Hangup"})]})]}),e.jsx(ee,{value:f.action_false?.destination||"",onChange:L=>w({...f,action_false:{...f.action_false,destination:L.target.value}}),disabled:d==="view",placeholder:"Destination"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[e.jsx(V,{variant:"outline",onClick:()=>{c(!1),w({}),R(null)},children:"Cancel"}),d!=="view"&&e.jsx(V,{onClick:d==="create"?b:_,disabled:p,children:p?"Saving...":d==="create"?"Create":"Update"})]})]})]})})]})}function oC(){const{tenantSlug:s}=up(),{isAuthenticated:r,isLoading:i,user:o}=Ct();return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs(hl,{children:[e.jsx($e,{path:"login",element:e.jsx(r1,{tenantSlug:s})}),r?e.jsx($e,{path:"/*",element:e.jsx(fx,{children:e.jsxs(hl,{children:[e.jsx($e,{path:"dashboard",element:e.jsx(b2,{})}),e.jsx($e,{path:"tenants",element:e.jsx(S2,{})}),e.jsx($e,{path:"stores",element:e.jsx(C2,{})}),e.jsx($e,{path:"extensions",element:e.jsx(U2,{})}),e.jsx($e,{path:"cdr",element:e.jsx(V2,{})}),e.jsx($e,{path:"live-calls",element:e.jsx(B2,{})}),e.jsx($e,{path:"trunk-registration",element:e.jsx(K2,{})}),e.jsx($e,{path:"call-routing",element:e.jsx(J2,{})}),e.jsx($e,{path:"sip-trunks",element:e.jsx(Y2,{})}),e.jsx($e,{path:"destinations",element:e.jsx(X2,{})}),e.jsx($e,{path:"logs",element:e.jsx(eC,{})}),e.jsx($e,{path:"w3-api-docs",element:e.jsx(Z2,{})}),e.jsx($e,{path:"ring-groups",element:e.jsx(tC,{})}),e.jsx($e,{path:"queues",element:e.jsx(sC,{})}),e.jsx($e,{path:"ivr-menus",element:e.jsx(rC,{})}),e.jsx($e,{path:"conference-rooms",element:e.jsx(aC,{})}),e.jsx($e,{path:"voicemail",element:e.jsx(iC,{})}),e.jsx($e,{path:"time-conditions",element:e.jsx(lC,{})}),e.jsx($e,{path:"",element:e.jsx(Ia,{to:`/${s}/dashboard`,replace:!0})}),e.jsx($e,{path:"*",element:e.jsx(Ia,{to:`/${s}/dashboard`,replace:!0})})]})})}):e.jsx($e,{path:"*",element:e.jsx(Ia,{to:`/${s}/login`,replace:!0})})]})}function cC(){const{isAuthenticated:s,isLoading:r}=Ct();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s?e.jsx(fx,{variant:"superadmin",children:e.jsxs(hl,{children:[e.jsx($e,{path:"dashboard",element:e.jsx(i1,{})}),e.jsx($e,{path:"tenants",element:e.jsx(Bh,{})}),e.jsx($e,{path:"tenants/create",element:e.jsx(j2,{})}),e.jsx($e,{path:"tenants/:tenantId",element:e.jsx(Bh,{})}),e.jsx($e,{path:"tenants/:tenantId/users",element:e.jsx(Wh,{})}),e.jsx($e,{path:"users",element:e.jsx(Wh,{})}),e.jsx($e,{path:"analytics",element:e.jsx(pb,{})}),e.jsx($e,{path:"system-settings",element:e.jsx("div",{children:"System Settings - Coming Soon"})}),e.jsx($e,{path:"logs",element:e.jsx("div",{children:"System Logs - Coming Soon"})}),e.jsx($e,{path:"*",element:e.jsx(Ia,{to:"dashboard",replace:!0})})]})}):e.jsx(Ia,{to:"/edgvoip/login",replace:!0})}function dC(){return e.jsx(Aj,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(fw,{children:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ZN,{}),e.jsxs(hl,{children:[e.jsx($e,{path:"/edgvoip/login",element:e.jsx(a1,{})}),e.jsx($e,{path:"/edgvoip/*",element:e.jsx(cC,{})}),e.jsx($e,{path:"/:tenantSlug/*",element:e.jsx(oC,{})}),e.jsx($e,{path:"*",element:e.jsx(w2,{})})]}),e.jsx(WN,{})]})})})}const uC=()=>{const s=console.error,r=console.warn,i=console.log;console.error=(...d)=>{const m=d[0]?.toString()||"";m.includes("runtime.lastError")||m.includes("message port closed")||m.includes("FrameDoesNotExistError")||m.includes("chrome-extension://")||m.includes("background.js")||m.includes("Could not establish connection")||m.includes("disconnected port object")||m.includes("back/forward cache")||m.includes("completion_list.html")||m.includes("utils.js")||m.includes("extensionState.js")||m.includes("heuristicsRedefinitions.js")||m.includes("net::ERR_FILE_NOT_FOUND")||m.includes("pejdijmoenmkgeppbflobdenhhabjlaj")||m.includes("chrome-extension://pejdijmoenmkgeppbflobdenhhabjlaj")||s.apply(console,d)},console.warn=(...d)=>{const m=d[0]?.toString()||"";m.includes("chrome-extension://")||m.includes("completion_list.html")||m.includes("utils.js")||m.includes("extensionState.js")||m.includes("heuristicsRedefinitions.js")||m.includes("pejdijmoenmkgeppbflobdenhhabjlaj")||r.apply(console,d)},console.log=(...d)=>{const m=d[0]?.toString()||"";m.includes("chrome-extension://")||m.includes("completion_list.html")||m.includes("pejdijmoenmkgeppbflobdenhhabjlaj")||i.apply(console,d)},window.addEventListener("unhandledrejection",d=>{const m=d.reason?.toString()||"";(m.includes("runtime.lastError")||m.includes("message port closed")||m.includes("FrameDoesNotExistError")||m.includes("chrome-extension://")||m.includes("background.js")||m.includes("Could not establish connection")||m.includes("disconnected port object")||m.includes("completion_list.html")||m.includes("utils.js")||m.includes("extensionState.js")||m.includes("heuristicsRedefinitions.js")||m.includes("net::ERR_FILE_NOT_FOUND"))&&d.preventDefault()});const o=window.fetch;window.fetch=async(...d)=>{const m=d[0]?.toString()||"";if(m.includes("chrome-extension://")||m.includes("pejdijmoenmkgeppbflobdenhhabjlaj")||m.includes("completion_list.html")||m.includes("utils.js")||m.includes("extensionState.js")||m.includes("heuristicsRedefinitions.js"))return new Response("",{status:404,statusText:"Not Found",headers:{"Content-Type":"text/plain"}});try{return await o(...d)}catch(p){const v=p?.message||"";if(v.includes("chrome-extension://")||v.includes("net::ERR_FILE_NOT_FOUND")||v.includes("completion_list.html")||v.includes("utils.js")||v.includes("extensionState.js")||v.includes("heuristicsRedefinitions.js")||v.includes("pejdijmoenmkgeppbflobdenhhabjlaj"))return new Response("",{status:404,statusText:"Not Found",headers:{"Content-Type":"text/plain"}});throw p}};const c=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(d,m,...p){const v=m.toString();if(v.includes("chrome-extension://")||v.includes("pejdijmoenmkgeppbflobdenhhabjlaj")||v.includes("completion_list.html")||v.includes("utils.js")||v.includes("extensionState.js")||v.includes("heuristicsRedefinitions.js"))throw new Error("Blocked extension request");return c.call(this,d,m,...p)}};typeof window<"u"&&uC();M0.createRoot(document.getElementById("root")).render(e.jsx(un.StrictMode,{children:e.jsx(dC,{})}));
//# sourceMappingURL=index-DjW2Ue6_.js.map
